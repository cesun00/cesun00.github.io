<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Maven Usage | Infinity Architect</title>
<link rel=stylesheet href=/main.css><script type=importmap>
  {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.167.1/+esm"
      }
  }
  </script><script type=module src=/theme.mjs></script><style>.tag-android{background-color:hsl(0deg 80% 70%)}.dark .tag-android{background-color:hsl(0deg 80% 20%)}.tag-annotation{background-color:hsl(50deg 80% 70%)}.dark .tag-annotation{background-color:hsl(50deg 80% 20%)}.tag-assembly{background-color:hsl(100deg 80% 70%)}.dark .tag-assembly{background-color:hsl(100deg 80% 20%)}.tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 70%)}.dark .tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 20%)}.tag-awk{background-color:hsl(200deg 80% 70%)}.dark .tag-awk{background-color:hsl(200deg 80% 20%)}.tag-bootloader{background-color:hsl(250deg 80% 70%)}.dark .tag-bootloader{background-color:hsl(250deg 80% 20%)}.tag-bytecode{background-color:hsl(300deg 80% 70%)}.dark .tag-bytecode{background-color:hsl(300deg 80% 20%)}.tag-c{background-color:hsl(350deg 80% 70%)}.dark .tag-c{background-color:hsl(350deg 80% 20%)}.tag-cxx{background-color:hsl(40deg 80% 70%)}.dark .tag-cxx{background-color:hsl(40deg 80% 20%)}.tag-cxx-stl{background-color:hsl(90deg 80% 70%)}.dark .tag-cxx-stl{background-color:hsl(90deg 80% 20%)}.tag-cgroup{background-color:hsl(140deg 80% 70%)}.dark .tag-cgroup{background-color:hsl(140deg 80% 20%)}.tag-cheetsheet{background-color:hsl(190deg 80% 70%)}.dark .tag-cheetsheet{background-color:hsl(190deg 80% 20%)}.tag-clang{background-color:hsl(240deg 80% 70%)}.dark .tag-clang{background-color:hsl(240deg 80% 20%)}.tag-coding-theory{background-color:hsl(290deg 80% 70%)}.dark .tag-coding-theory{background-color:hsl(290deg 80% 20%)}.tag-compression{background-color:hsl(340deg 80% 70%)}.dark .tag-compression{background-color:hsl(340deg 80% 20%)}.tag-concept{background-color:hsl(30deg 80% 70%)}.dark .tag-concept{background-color:hsl(30deg 80% 20%)}.tag-cpu{background-color:hsl(80deg 80% 70%)}.dark .tag-cpu{background-color:hsl(80deg 80% 20%)}.tag-crawler{background-color:hsl(130deg 80% 70%)}.dark .tag-crawler{background-color:hsl(130deg 80% 20%)}.tag-cryptography{background-color:hsl(180deg 80% 70%)}.dark .tag-cryptography{background-color:hsl(180deg 80% 20%)}.tag-css{background-color:hsl(230deg 80% 70%)}.dark .tag-css{background-color:hsl(230deg 80% 20%)}.tag-database{background-color:hsl(280deg 80% 70%)}.dark .tag-database{background-color:hsl(280deg 80% 20%)}.tag-deflate{background-color:hsl(330deg 80% 70%)}.dark .tag-deflate{background-color:hsl(330deg 80% 20%)}.tag-design{background-color:hsl(20deg 80% 70%)}.dark .tag-design{background-color:hsl(20deg 80% 20%)}.tag-dns{background-color:hsl(70deg 80% 70%)}.dark .tag-dns{background-color:hsl(70deg 80% 20%)}.tag-dom{background-color:hsl(120deg 80% 70%)}.dark .tag-dom{background-color:hsl(120deg 80% 20%)}.tag-driver{background-color:hsl(170deg 80% 70%)}.dark .tag-driver{background-color:hsl(170deg 80% 20%)}.tag-elastic{background-color:hsl(220deg 80% 70%)}.dark .tag-elastic{background-color:hsl(220deg 80% 20%)}.tag-elf{background-color:hsl(270deg 80% 70%)}.dark .tag-elf{background-color:hsl(270deg 80% 20%)}.tag-elk{background-color:hsl(320deg 80% 70%)}.dark .tag-elk{background-color:hsl(320deg 80% 20%)}.tag-flex{background-color:hsl(10deg 80% 70%)}.dark .tag-flex{background-color:hsl(10deg 80% 20%)}.tag-gc{background-color:hsl(60deg 80% 70%)}.dark .tag-gc{background-color:hsl(60deg 80% 20%)}.tag-gcc{background-color:hsl(110deg 80% 70%)}.dark .tag-gcc{background-color:hsl(110deg 80% 20%)}.tag-gnu{background-color:hsl(160deg 80% 70%)}.dark .tag-gnu{background-color:hsl(160deg 80% 20%)}.tag-go{background-color:hsl(210deg 80% 70%)}.dark .tag-go{background-color:hsl(210deg 80% 20%)}.tag-gzip{background-color:hsl(260deg 80% 70%)}.dark .tag-gzip{background-color:hsl(260deg 80% 20%)}.tag-hash{background-color:hsl(310deg 80% 70%)}.dark .tag-hash{background-color:hsl(310deg 80% 20%)}.tag-http{background-color:hsl(0deg 80% 70%)}.dark .tag-http{background-color:hsl(0deg 80% 20%)}.tag-huffman{background-color:hsl(50deg 80% 70%)}.dark .tag-huffman{background-color:hsl(50deg 80% 20%)}.tag-java{background-color:hsl(100deg 80% 70%)}.dark .tag-java{background-color:hsl(100deg 80% 20%)}.tag-java-module{background-color:hsl(150deg 80% 70%)}.dark .tag-java-module{background-color:hsl(150deg 80% 20%)}.tag-javascript{background-color:hsl(200deg 80% 70%)}.dark .tag-javascript{background-color:hsl(200deg 80% 20%)}.tag-jdk{background-color:hsl(250deg 80% 70%)}.dark .tag-jdk{background-color:hsl(250deg 80% 20%)}.tag-js{background-color:hsl(300deg 80% 70%)}.dark .tag-js{background-color:hsl(300deg 80% 20%)}.tag-jvm{background-color:hsl(350deg 80% 70%)}.dark .tag-jvm{background-color:hsl(350deg 80% 20%)}.tag-kernel{background-color:hsl(40deg 80% 70%)}.dark .tag-kernel{background-color:hsl(40deg 80% 20%)}.tag-lexer{background-color:hsl(90deg 80% 70%)}.dark .tag-lexer{background-color:hsl(90deg 80% 20%)}.tag-linux{background-color:hsl(140deg 80% 70%)}.dark .tag-linux{background-color:hsl(140deg 80% 20%)}.tag-log4j2{background-color:hsl(190deg 80% 70%)}.dark .tag-log4j2{background-color:hsl(190deg 80% 20%)}.tag-lz77{background-color:hsl(240deg 80% 70%)}.dark .tag-lz77{background-color:hsl(240deg 80% 20%)}.tag-make{background-color:hsl(290deg 80% 70%)}.dark .tag-make{background-color:hsl(290deg 80% 20%)}.tag-makefile{background-color:hsl(340deg 80% 70%)}.dark .tag-makefile{background-color:hsl(340deg 80% 20%)}.tag-maven{background-color:hsl(30deg 80% 70%)}.dark .tag-maven{background-color:hsl(30deg 80% 20%)}.tag-memory{background-color:hsl(80deg 80% 70%)}.dark .tag-memory{background-color:hsl(80deg 80% 20%)}.tag-multithreading{background-color:hsl(130deg 80% 70%)}.dark .tag-multithreading{background-color:hsl(130deg 80% 20%)}.tag-mybatis{background-color:hsl(180deg 80% 70%)}.dark .tag-mybatis{background-color:hsl(180deg 80% 20%)}.tag-mysql{background-color:hsl(230deg 80% 70%)}.dark .tag-mysql{background-color:hsl(230deg 80% 20%)}.tag-nasm{background-color:hsl(280deg 80% 70%)}.dark .tag-nasm{background-color:hsl(280deg 80% 20%)}.tag-node{background-color:hsl(330deg 80% 70%)}.dark .tag-node{background-color:hsl(330deg 80% 20%)}.tag-nodejs{background-color:hsl(20deg 80% 70%)}.dark .tag-nodejs{background-color:hsl(20deg 80% 20%)}.tag-openssl{background-color:hsl(70deg 80% 70%)}.dark .tag-openssl{background-color:hsl(70deg 80% 20%)}.tag-playwright{background-color:hsl(120deg 80% 70%)}.dark .tag-playwright{background-color:hsl(120deg 80% 20%)}.tag-posix{background-color:hsl(170deg 80% 70%)}.dark .tag-posix{background-color:hsl(170deg 80% 20%)}.tag-powershell{background-color:hsl(220deg 80% 70%)}.dark .tag-powershell{background-color:hsl(220deg 80% 20%)}.tag-programming-langauge{background-color:hsl(270deg 80% 70%)}.dark .tag-programming-langauge{background-color:hsl(270deg 80% 20%)}.tag-programming-language{background-color:hsl(320deg 80% 70%)}.dark .tag-programming-language{background-color:hsl(320deg 80% 20%)}.tag-qemu{background-color:hsl(10deg 80% 70%)}.dark .tag-qemu{background-color:hsl(10deg 80% 20%)}.tag-redis{background-color:hsl(60deg 80% 70%)}.dark .tag-redis{background-color:hsl(60deg 80% 20%)}.tag-retrocomputing{background-color:hsl(110deg 80% 70%)}.dark .tag-retrocomputing{background-color:hsl(110deg 80% 20%)}.tag-rfc{background-color:hsl(160deg 80% 70%)}.dark .tag-rfc{background-color:hsl(160deg 80% 20%)}.tag-sdram{background-color:hsl(210deg 80% 70%)}.dark .tag-sdram{background-color:hsl(210deg 80% 20%)}.tag-sed{background-color:hsl(260deg 80% 70%)}.dark .tag-sed{background-color:hsl(260deg 80% 20%)}.tag-slf4j{background-color:hsl(310deg 80% 70%)}.dark .tag-slf4j{background-color:hsl(310deg 80% 20%)}.tag-spring{background-color:hsl(0deg 80% 70%)}.dark .tag-spring{background-color:hsl(0deg 80% 20%)}.tag-spring-boot{background-color:hsl(50deg 80% 70%)}.dark .tag-spring-boot{background-color:hsl(50deg 80% 20%)}.tag-spring-data{background-color:hsl(100deg 80% 70%)}.dark .tag-spring-data{background-color:hsl(100deg 80% 20%)}.tag-spring-ioc{background-color:hsl(150deg 80% 70%)}.dark .tag-spring-ioc{background-color:hsl(150deg 80% 20%)}.tag-sql{background-color:hsl(200deg 80% 70%)}.dark .tag-sql{background-color:hsl(200deg 80% 20%)}.tag-streaming{background-color:hsl(250deg 80% 70%)}.dark .tag-streaming{background-color:hsl(250deg 80% 20%)}.tag-template{background-color:hsl(300deg 80% 70%)}.dark .tag-template{background-color:hsl(300deg 80% 20%)}.tag-testing{background-color:hsl(350deg 80% 70%)}.dark .tag-testing{background-color:hsl(350deg 80% 20%)}.tag-thymeleaf{background-color:hsl(40deg 80% 70%)}.dark .tag-thymeleaf{background-color:hsl(40deg 80% 20%)}.tag-tls{background-color:hsl(90deg 80% 70%)}.dark .tag-tls{background-color:hsl(90deg 80% 20%)}.tag-tomcat{background-color:hsl(140deg 80% 70%)}.dark .tag-tomcat{background-color:hsl(140deg 80% 20%)}.tag-transaction{background-color:hsl(190deg 80% 70%)}.dark .tag-transaction{background-color:hsl(190deg 80% 20%)}.tag-transistor{background-color:hsl(240deg 80% 70%)}.dark .tag-transistor{background-color:hsl(240deg 80% 20%)}.tag-ts{background-color:hsl(290deg 80% 70%)}.dark .tag-ts{background-color:hsl(290deg 80% 20%)}.tag-typescript{background-color:hsl(340deg 80% 70%)}.dark .tag-typescript{background-color:hsl(340deg 80% 20%)}.tag-unix{background-color:hsl(30deg 80% 70%)}.dark .tag-unix{background-color:hsl(30deg 80% 20%)}.tag-web{background-color:hsl(80deg 80% 70%)}.dark .tag-web{background-color:hsl(80deg 80% 20%)}.tag-x86{background-color:hsl(130deg 80% 70%)}.dark .tag-x86{background-color:hsl(130deg 80% 20%)}.tag-x86_64{background-color:hsl(180deg 80% 70%)}.dark .tag-x86_64{background-color:hsl(180deg 80% 20%)}.tag-x86-64{background-color:hsl(230deg 80% 70%)}.dark .tag-x86-64{background-color:hsl(230deg 80% 20%)}.tag-xpath{background-color:hsl(280deg 80% 70%)}.dark .tag-xpath{background-color:hsl(280deg 80% 20%)}.tag-zlib{background-color:hsl(330deg 80% 70%)}.dark .tag-zlib{background-color:hsl(330deg 80% 20%)}</style></head><body><script>localStorage.getItem("dark-theme")&&document.body.classList.add("dark")</script><header><h2 id=banner><a href=/>Infinity Architect</a></h2><div id=top-sections><a href=/android/ class=hoverable>Android </a><a href=/cxx/ class=hoverable>C/C++ </a><a href=/compression/ class=hoverable>Compression </a><a href=/cpu/ class=hoverable>CPU </a><a href=/crypto/ class=hoverable>Cryptography </a><a href=/db/ class=hoverable>Database </a><a href=/ee/ class=hoverable>Electronic Engineering </a><a href=/linux/ class=hoverable>GNU/Linux </a><a href=/go/ class=hoverable>Golang </a><a href=/java/ class=active>Java </a><a href=/microservice/ class=hoverable>Microservice </a><a href=/net/ class=hoverable>Network & Protocol </a><a href=/physics/ class=hoverable>Physics </a><a href=/retro/ class=hoverable>Retro-Computing </a><a href=/toy/ class=hoverable>Toys </a><a href=/windev/ class=hoverable>Window</a></div><div class=theme-switch style="align-self:center;margin:auto 20px"><input type=checkbox id=theme-checkbox>
<label for=theme-checkbox><div></div><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path fill-rule="evenodd" d="M9.528 1.718a.75.75.0 01.162.819A8.97 8.97.0 009 6a9 9 0 009 9 8.97 8.97.0 003.463-.69.75.75.0 01.981.98 10.503 10.503.0 01-9.694 6.46c-5.799.0-10.5-4.701-10.5-10.5.0-4.368 2.667-8.112 6.46-9.694a.75.75.0 01.818.162z" clip-rule="evenodd"/></svg>
</span><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path d="M12 2.25a.75.75.0 01.75.75v2.25a.75.75.0 01-1.5.0V3a.75.75.0 01.75-.75zM7.5 12a4.5 4.5.0 119 0 4.5 4.5.0 01-9 0zM18.894 6.166a.75.75.0 00-1.06-1.06l-1.591 1.59a.75.75.0 101.06 1.061l1.591-1.59zM21.75 12a.75.75.0 01-.75.75h-2.25a.75.75.0 010-1.5H21a.75.75.0 01.75.75zm-3.916 6.894a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 10-1.061 1.06l1.59 1.591zM12 18a.75.75.0 01.75.75V21a.75.75.0 01-1.5.0v-2.25A.75.75.0 0112 18zM7.758 17.303a.75.75.0 00-1.061-1.06l-1.591 1.59a.75.75.0 001.06 1.061l1.591-1.59zM6 12a.75.75.0 01-.75.75H3a.75.75.0 010-1.5h2.25A.75.75.0 016 12zm.697-4.243a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 00-1.061 1.06l1.59 1.591z"/></svg></span></label></div></header><main><article class=basic-text><div style=font-family:monospace;font-size:1.5em><div class=basic-text>/<a href=/>HOME</a>/<a href=/java/>Java</a>/
$</div></div><div style=margin-bottom:60px><h1 style=margin-bottom:0>Maven Usage</h1><p class=aux-text style=margin-top:0>Published at: December 30, 2023
| Last modification: January 25, 2024</p><div style=line-height:2em><span class="page-tag tag-java">java</span>
<span class="page-tag tag-maven">maven</span></div></div><div><p>The design of Maven can be summarized as:</p><ol><li><p>A <em>lifecycle</em> is an order list of <em>phases</em></p></li><li><p>A phase can be invoked on the CLI by <code>mvn &lt;phase></code>, which will execute all previous phases in the same lifecycle before executing that specified phase.</p></li><li><p><em>Maven plugins</em> provide <em>goals</em>, and goals can <em>be bound to a phase</em>.</p><p>To use a plugin, put <code>&lt;plugin></code> in <code>project>build>plugins</code>. (not <code>project>build>pluginManagement>plugins</code>!)</p></li><li><p>Executing a phase is to execute all goals bound to that phase</p></li></ol><h2 id=lifecycles>Lifecycles</h2><p>Maven has 3 built-in lifecycles: <code>clean</code>, <code>default</code>, and <code>site</code>.
Maven also allows you to define your custom lifecycle (it turned out that no one does this.)</p><h3 id=clean-lifecycle-clean-project><code>clean</code> lifecycle: clean project</h3><table><thead><tr><th>phase</th><th></th></tr></thead><tbody><tr><td>pre-clean</td><td>execute processes needed prior to the actual project cleaning</td></tr><tr><td>clean</td><td>remove all files generated by the previous build</td></tr><tr><td>post-clean</td><td>execute processes needed to finalize the project cleaning</td></tr></tbody></table><h3 id=default-lifecycle-the-most-useful-ones><code>default</code> lifecycle: the most useful ones</h3><table><thead><tr><th>Phase</th><th>Description</th></tr></thead><tbody><tr><td>validate</td><td>validate the project is correct and all necessary information is available.</td></tr><tr><td>initialize</td><td>initialize build state, e.g. set properties or create directories.</td></tr><tr><td>generate-sources</td><td>generate any source code for inclusion in compilation.</td></tr><tr><td>process-sources</td><td>process the source code, for example to filter any values.</td></tr><tr><td>generate-resources</td><td>generate resources for inclusion in the package.</td></tr><tr><td>process-resources</td><td>copy and process the resources into the destination directory, ready for packaging.</td></tr><tr><td>compile</td><td>compile the source code of the project.</td></tr><tr><td>process-classes</td><td>post-process the generated files from compilation, for example to do bytecode enhancement on Java classes.</td></tr><tr><td>generate-test-sources</td><td>generate any test source code for inclusion in compilation.</td></tr><tr><td>process-test-sources</td><td>process the test source code, for example to filter any values.</td></tr><tr><td>generate-test-resources</td><td>create resources for testing.</td></tr><tr><td>process-test-resources</td><td>copy and process the resources into the test destination directory.</td></tr><tr><td>test-compile</td><td>compile the test source code into the test destination directory</td></tr><tr><td>process-test-classes</td><td>post-process the generated files from test compilation, for example to do bytecode enhancement on Java classes.</td></tr><tr><td>test</td><td>run tests using a suitable unit testing framework. These tests should not require the code be packaged or deployed.</td></tr><tr><td>prepare-package</td><td>perform any operations necessary to prepare a package before the actual packaging. This often results in an unpacked, processed version of the package.</td></tr><tr><td>package</td><td>take the compiled code and package it in its distributable format, such as a JAR.</td></tr><tr><td>pre-integration-test</td><td>perform actions required before integration tests are executed. This may involve things such as setting up the required environment.</td></tr><tr><td>integration-test</td><td>process and deploy the package if necessary into an environment where integration tests can be run.</td></tr><tr><td>post-integration-test</td><td>perform actions required after integration tests have been executed. This may including cleaning up the environment.</td></tr><tr><td>verify</td><td>run any checks to verify the package is valid and meets quality criteria.</td></tr><tr><td>install</td><td>install the package into the local repository, for use as a dependency in other projects locally.</td></tr><tr><td>deploy</td><td>done in an integration or release environment, copies the final package to the remote repository for sharing with other developers and projects.</td></tr></tbody></table><h3 id=site-lifecycle-generates-documentation><code>site</code> lifecycle: generates documentation</h3><table><thead><tr><th>Phase</th><th>Description</th></tr></thead><tbody><tr><td>pre-site</td><td>execute processes needed prior to the actual project site generation</td></tr><tr><td>site</td><td>generate the project&rsquo;s site documentation</td></tr><tr><td>post-site</td><td>execute processes needed to finalize the site generation, and to prepare for site deployment</td></tr><tr><td>site-deploy</td><td>deploy the generated site documentation to the specified web server</td></tr></tbody></table><h2 id=plugin>Plugin</h2><p>Plugin provides a collection of goals that could be bound to certain phases.
Plugins are only used during build time, and have nothing to do with the dependencies of a project,
which is configured under the <code>&lt;dependencies></code> node.</p><p>By design, there are 2 types of plugins:</p><ul><li>build plugins: configured in <code>project>build</code> tags</li><li>reporting plugins: configured in <code>project>reporting</code> tags (rarely used, ignore)</li></ul><p>There is no limit on the functionality provided by a plugin.
They are just pieces of code (happened to be) written in Java and shipped by maven, to accomplish whatever tasks:
help you build your <code>jar</code>, generate <code>mybatis</code> mapper <code>xml</code>, or erase your whole disk.</p><p>Plugin goals can also be invoked by CLI directly:</p><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#75715e># Example: invoking the `generate` goal from the official `maven-archetype-plugin` plugin</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>mvn archetype:generate  <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#ae81ff></span>    -DgroupId<span style=color:#f92672>=</span>com.mycompany.app  <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#ae81ff></span>    -DartifactId<span style=color:#f92672>=</span>my-app  <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span><span style=color:#ae81ff></span>    -DarchetypeArtifactId<span style=color:#f92672>=</span>maven-archetype-quickstart  <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span><span style=color:#ae81ff></span>    -DinteractiveMode<span style=color:#f92672>=</span>false</span></span></code></pre></div><button>copy</button></div><h3 id=maven-official-plugins--naming-convention>Maven Official Plugins & Naming Convention</h3><p>Naming rules:</p><ul><li><code>maven-XXX-plugin</code> for maven official plugins (under the groupId <code>org.apache.maven.plugins</code>)</li><li><code>XXX-maven-plugin</code> for 3rd-party plugins.</li></ul><p>For an exhaustive list of maven official plugins: <a href=https://maven.apache.org/plugins/index.html>https://maven.apache.org/plugins/index.html</a></p><p>Special about maven official plugins are:</p><ol><li><p>Built-in Lifecycle Bindings, as mentioned above.</p></li><li><p>The consuming project doesn&rsquo;t need to write <code>&lt;groupId></code>, and is assumed to be <code>org.apache.maven.plugins</code>:</p><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>maven-resources-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>    <span style=color:#f92672>&lt;version&gt;</span>3.0.2<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#f92672>&lt;/plugin&gt;</span></span></span></code></pre></div><button>copy</button></div></li></ol><h3 id=the-myth-of-goal-phase-binding>The Myth of Goal-Phase Binding</h3><p>Plugin goals are bound to phases in 2 ways:</p><ol><li><p>Built-in Lifecycle Bindings.</p><p>Privileges are given to maven official plugins, such that certain goals from certain plugins are bound
automatically to certain phases without any configuration, depending on the <code>&lt;packaging></code> of the consuming project.</p><p>Now you see why <code>&lt;packaging></code> is important: its value determines which (totally different) set of bindings to be used.</p><p>For an exhaustive list of this heinous rule, see</p><ul><li><a href=https://maven.apache.org/ref/3.8.2/maven-core/default-bindings.html>https://maven.apache.org/ref/3.8.2/maven-core/default-bindings.html</a></li><li><a href=https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#built-in-lifecycle-bindings>https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#built-in-lifecycle-bindings</a></li></ul></li><li><p>For all other goals (from all plugins in the world) that are not listed in the above list,
users must put <code>&lt;execution></code> for the used plugin in either</p><ul><li><code>build>plugins>plugin>execution</code>, or</li><li><code>bulid>pluginManagement>plugins>plugin>execution</code> and use the plugin later.</li></ul></li></ol><p>There is a a <code>defaultPhase</code> property inside <code>org.apache.maven.plugins.annotations.Mojo</code> annotation,
allowing an end user can omit <code>&lt;phase></code> when writing <code>&lt;execution></code>.</p><p>Specifically, <code>defaultPhase</code> BY NO MEAN indicates there is a way for unofficial plugins&rsquo; goal to be executed without <code>&lt;execution></code> config.
<a href=https://stackoverflow.com/questions/57079304/how-to-specify-a-default-goal-for-a-maven-plugin>https://stackoverflow.com/questions/57079304/how-to-specify-a-default-goal-for-a-maven-plugin</a></p><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#a6e22e>@Mojo</span>(name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;myGoalName&#34;</span>, defaultPhase <span style=color:#f92672>=</span> LifecyclePhase.<span style=color:#a6e22e>PREPARE_PACKAGE</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HelloMojo</span> <span style=color:#66d9ef>extends</span> AbstractMojo {</span></span></code></pre></div><button>copy</button></div><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#f92672>&lt;build&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    <span style=color:#f92672>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>      <span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>        <span style=color:#f92672>&lt;groupId&gt;</span>io.cesun<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>        <span style=color:#f92672>&lt;artifactId&gt;</span>cesun-hello-maven-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>        <span style=color:#f92672>&lt;version&gt;</span>1.0-SNAPSHOT<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>        <span style=color:#f92672>&lt;executions&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>          <span style=color:#f92672>&lt;execution&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>            <span style=color:#f92672>&lt;goals&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>              <span style=color:#f92672>&lt;goal&gt;</span>myGoalName<span style=color:#f92672>&lt;/goal&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>            <span style=color:#f92672>&lt;/goals&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>          <span style=color:#f92672>&lt;/execution&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>        <span style=color:#f92672>&lt;/executions&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>      <span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>    <span style=color:#f92672>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>    ...</span></span></code></pre></div><button>copy</button></div><h3 id=plugin-internals>Plugin Internals</h3><p>Plugin Artifact is identified by <code>&lt;packaging>maven-plugin&lt;/packaging></code>.
Each &ldquo;goal&rdquo; is also internally known as a &ldquo;mojo&rdquo;, because a goal, from plugin developer&rsquo;s perspective, is implemented as a subclass of <code>org.apache.maven.plugin.AbstractMojo</code>.</p><h3 id=always-prescribe-plugin-version>Always prescribe plugin <code>&lt;version></code></h3><p><a href=https://maven.apache.org/guides/mini/guide-configuring-plugins.html>https://maven.apache.org/guides/mini/guide-configuring-plugins.html</a></p><p>Always define the version of each plugin used to guarantee build reproducibility.
Either do it inline in <code>build>plugins>plugin</code>, or put calibration in <code>build>pluginManagement>plugins>plugin</code>.</p><p>The behavior for absent <code>&lt;version></code> is not documented. In my trial, a random version is pick (fortunately not too old), and a warning will reuslt when invoking <code>mvn</code>:</p><div class=codeblock-hook><pre tabindex=0><code>[WARNING] Some problems were encountered while building the effective model for org.example:maven-demo-no-archetype:jar:1.0-SNAPSHOT
[WARNING] &#39;build.plugins.plugin.version&#39; for org.mybatis.generator:mybatis-generator-maven-plugin is missing. @ line 18, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.</code></pre><button>copy</button></div><h2 id=plugin-prefix-resolution>Plugin Prefix Resolution</h2><p>Maven has a chaotic abbreviation mechanism for plugin name. The idea is to provide shorthand for typing on the command line.</p><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>mvn dependency:sources              <span style=color:#75715e># resolve to `org.apache.maven.plugins:maven-dependency-plugin:&lt;some version&gt;:sources`</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>mvn mybatis-generator:generate      <span style=color:#75715e># resolve to `org.mybatis.generator:mybatis-generator-maven-plugin:&lt;some version&gt;:generate`</span></span></span></code></pre></div><button>copy</button></div><p>The main problem is to reliably resolve an abbreviation to an unique coordinate.</p><p>Firstly, plugin authors are allowed to define abbreviation for his/her plugin:</p><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#75715e>&lt;!-- the plugin&#39;s own POM --&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span><span style=color:#f92672>&lt;project&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>  ...
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>  <span style=color:#f92672>&lt;build&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>    ...
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    <span style=color:#f92672>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>      ...
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>      <span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>        <span style=color:#f92672>&lt;artifactId&gt;</span>maven-plugin-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>        <span style=color:#f92672>&lt;version&gt;</span>2.3<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>        <span style=color:#f92672>&lt;configuration&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>          ...
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>          <span style=color:#f92672>&lt;goalPrefix&gt;</span>somePrefix<span style=color:#f92672>&lt;/goalPrefix&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>        <span style=color:#f92672>&lt;/configuration&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>      <span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>    <span style=color:#f92672>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>  <span style=color:#f92672>&lt;/build&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span><span style=color:#f92672>&lt;/project&gt;</span></span></span></code></pre></div><button>copy</button></div><p>Without the config above, the abbreviated name rely on the artifactId naming conventions:</p><ul><li>Both <code>maven-XXX-plugin</code> and <code>XXX-maven-plugin</code> abbreviate to <code>XXX</code>, and</li><li><code>XXX</code> is considered to expand to either <code>maven-XXX-plugin</code> or <code>XXX-maven-plugin</code>.</li></ul><p>We say the transform <code>an abbr => an Plugin Artifact</code> is viable if:</p><ul><li>that plugin artifact put <code>&lt;goalPrefix>abbr&lt;/goalPrefix></code> in its pom, or</li><li>the <code>artifactId</code> of plugin artifact is <code>abbr-maven-plugin</code>.</li></ul><p>Maven traverse the POM inheritance hierarchy, collecte plugins references from <code>build>plugins</code> and <code>build>pluginManagement>plugins</code>, and establishes a <code>Map&lt;abbr, List&lt;Plugin Artifact>></code>, a mapping from abbreviated name to all viable plugin artifacts (precise to coordinate).</p><p>When an abbreviated name <code>abbr</code> is invoked on CLI,</p><ol><li><p>Maven first check if the key <code>abbr</code> exists in viability map. If so, use the <strong>FIRST (?)</strong> artifact in the value list.</p></li><li><p>Otherwise, Maven use an ordered list <code>[org.apache.maven.plugins, ...&lt;pluginGroups>]</code>, and for each do the following:</p><p><a href=https://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html#mapping-prefixes-to-plugins>https://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html#mapping-prefixes-to-plugins</a></p><p><code>&lt;pluginGroups></code> is configured in <code>settings.xml</code>, and defaults to empty list.</p><p>This basically says that, unless otherwise configured, when a complete unknown abbreviation <code>XXX</code> is invoked on the CLI, maven will assume it&rsquo;s an official plugin <code>org.apache.maven.plugins:maven-XXX-plugin</code> and go to the central repo to fetch one.</p><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#75715e>&lt;!-- .m2/settings.xml --&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#f92672>&lt;pluginGroups&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>  <span style=color:#f92672>&lt;pluginGroup&gt;</span>org.mybatis.generator<span style=color:#f92672>&lt;/pluginGroup&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#f92672>&lt;/pluginGroups&gt;</span></span></span></code></pre></div><button>copy</button></div><p>then</p><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>mvn clean mybatis-generator:generate    <span style=color:#75715e># works even when mybatis-generator not mentioned in POM</span></span></span></code></pre></div><button>copy</button></div></li></ol><h2 id=dependency>Dependency</h2><h3 id=scope>scope</h3><ul><li><p>compile</p><p>Maven is responsible for ensuring</p><ul><li>this artifact must appear in both <code>javac</code> and <code>java</code>&rsquo;s classpath.</li></ul></li><li><p>provided</p><p>Maven is responsible for ensuring</p><ul><li>this artifact must appear in <code>javac</code>&rsquo;s classpath.</li></ul><p>Programmer promises to maven that this artifact will somehow appear in the <code>java</code>&rsquo;s classpath.</p><p>This is common scenario when the packaged jar is not the entrance jar containing the JVM main, but loaded as a dynamic library via classloading mechanism. e.g. loaded by JEE container.</p></li><li><p>runtime</p><p>Maven is responsible for ensuring:</p><ol><li>This artifact doesn&rsquo;t appear in the <code>javac</code>&rsquo;s classpath</li><li>This artifact must appear in the <code>java</code>&rsquo;s classpath</li></ol></li><li><p>test</p></li><li><p>system</p></li><li><p>import</p></li></ul><h2 id=maven-config>Maven Config</h2><p>global: <code>${maven.home}/conf/settings.xml</code>
per-user: <code>${user.home}/.m2/settings.xml</code></p><h3 id=repository-vs-mirror>repository vs mirror</h3><ul><li>A repository is an independent source of artifacts.</li><li>A mirror is an identical copy of a certain repository; Mirror serves the purpose of faster download or load balancing.
It should be an faithful copy of its upstream. It doesn&rsquo;t and shouldn&rsquo;t provide extra artifacts.</li></ul><h3 id=repository>repository</h3><p>When fetching an artifact, each configured repository are queried in the literal order appeared in each config file, and config files are queried in the following order, until the first valid response is found:</p><ol><li>global maven settings, defaults to <code>${maven.home}/conf/settings.xml</code></li><li>user maven settings, defaults to <code>$HOME/.m2/settings.xml</code></li><li>local <code>pom.xml</code></li><li>parent <code>pom.xml</code>, recursively</li><li>Super <code>pom.xml</code>, i.e. root ancestors of all pom, which only defines a <code>central</code> repo: <a href=http://repo.maven.apache.org/maven2>http://repo.maven.apache.org/maven2</a></li></ol><h3 id=settingsxml><code>settings.xml</code></h3><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#75715e>&lt;!-- define the profile containing the repo definition --&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span><span style=color:#f92672>&lt;profiles&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>    <span style=color:#f92672>&lt;profile&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>        <span style=color:#f92672>&lt;id&gt;</span>goodbye1969<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>        <span style=color:#f92672>&lt;repositories&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>            <span style=color:#f92672>&lt;repository&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>                <span style=color:#f92672>&lt;id&gt;</span>hzw-private<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>                <span style=color:#f92672>&lt;name&gt;</span>hzw private maven repo<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>                <span style=color:#f92672>&lt;url&gt;</span>http://maven.haiziwang.com/nexus/content/groups/public/<span style=color:#f92672>&lt;/url&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>            <span style=color:#f92672>&lt;/repository&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>        <span style=color:#f92672>&lt;/repositories&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>    <span style=color:#f92672>&lt;/profile&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span><span style=color:#f92672>&lt;/profiles&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span><span style=color:#75715e>&lt;!-- and activate it --&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span><span style=color:#f92672>&lt;activeProfiles&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>    <span style=color:#f92672>&lt;activeProfile&gt;</span>goodbye1969<span style=color:#f92672>&lt;/activeProfile&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span><span style=color:#f92672>&lt;/activeProfiles&gt;</span></span></span></code></pre></div><button>copy</button></div><h3 id=pomxml-project-specific-config><code>pom.xml</code> project-specific config</h3><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#f92672>&lt;project&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>  ...
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>  <span style=color:#f92672>&lt;repositories&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>    <span style=color:#f92672>&lt;repository&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>      <span style=color:#f92672>&lt;id&gt;</span>my-internal-site<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>      <span style=color:#f92672>&lt;url&gt;</span>https://myserver/repo<span style=color:#f92672>&lt;/url&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>    <span style=color:#f92672>&lt;/repository&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>  <span style=color:#f92672>&lt;/repositories&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>  ...
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#f92672>&lt;/project&gt;</span></span></span></code></pre></div><button>copy</button></div><h3 id=mirror>mirror</h3><h4 id=settingsxml-1><code>settings.xml</code></h4><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#75715e>&lt;!-- mirrors config is not part of profile ... interestingly enough --&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#f92672>&lt;mirrors&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>    <span style=color:#f92672>&lt;mirror&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>        <span style=color:#f92672>&lt;id&gt;</span>aliyun<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>        <span style=color:#f92672>&lt;mirrorOf&gt;</span>central<span style=color:#f92672>&lt;/mirrorOf&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>        <span style=color:#f92672>&lt;name&gt;</span>aliyun maven mirror<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>        <span style=color:#f92672>&lt;url&gt;</span>https://maven.aliyun.com/repository/central<span style=color:#f92672>&lt;/url&gt;</span> 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span>    <span style=color:#f92672>&lt;/mirror&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9</span><span><span style=color:#f92672>&lt;/mirrors&gt;</span></span></span></code></pre></div><button>copy</button></div><h3 id=pomxml-project-specific-config-1><code>pom.xml</code> project-specific config</h3><h2 id=command-line-invocation>Command line invocation</h2><div class=codeblock-hook><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>mvn list&lt;<span style=color:#f92672>[</span>phase | plugin goal<span style=color:#f92672>]</span>&gt; -Dproperty<span style=color:#f92672>=</span>value</span></span></code></pre></div><button>copy</button></div><p>CLI 上的 plugin goal 有两种调用形式：</p><ol><li><p><code>mvn plugin-prefix:goal</code></p></li><li><p><code>mvn &lt;plugin-triplet>:goal</code></p><p><code>&lt;plugin-triplet> := plugin-groupId:plugin-artifactId:plugin-version</code></p></li></ol><h3 id=relocation-directive><code>&lt;relocation></code> directive</h3><p>This allows a maintainer to redirect request to an old coordinate to a new one transparently without change to the end user&rsquo;s <code>pom.xml</code>.</p><p>e.g. slf4j use this to:</p><blockquote><p>LOG4J As of version 1.7.35, declaring a dependency on org.slf4j:slf4j-log4j12 redirects to org.slf4j:slf4j-reload4j by virtue of Maven <code>&lt;relocation></code> directive.</p></blockquote></div></article></main><footer>Unless otherwise noted, content of this site is licensed under
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ style=text-decoration:underline>the CC BY-NC-SA 4.0</a>.<br>cesun.info copyright 2024.</footer></body></html>