<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>C/C++ | Infinity Architect</title>
<link rel=stylesheet href=/main.css><script type=importmap>
  {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.167.1/+esm"
      }
  }
  </script><script type=module src=/theme.mjs></script><style>.tag-android{background-color:hsl(0deg 80% 70%)}.dark .tag-android{background-color:hsl(0deg 80% 20%)}.tag-annotation{background-color:hsl(50deg 80% 70%)}.dark .tag-annotation{background-color:hsl(50deg 80% 20%)}.tag-assembly{background-color:hsl(100deg 80% 70%)}.dark .tag-assembly{background-color:hsl(100deg 80% 20%)}.tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 70%)}.dark .tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 20%)}.tag-awk{background-color:hsl(200deg 80% 70%)}.dark .tag-awk{background-color:hsl(200deg 80% 20%)}.tag-bootloader{background-color:hsl(250deg 80% 70%)}.dark .tag-bootloader{background-color:hsl(250deg 80% 20%)}.tag-bytecode{background-color:hsl(300deg 80% 70%)}.dark .tag-bytecode{background-color:hsl(300deg 80% 20%)}.tag-c{background-color:hsl(350deg 80% 70%)}.dark .tag-c{background-color:hsl(350deg 80% 20%)}.tag-cxx{background-color:hsl(40deg 80% 70%)}.dark .tag-cxx{background-color:hsl(40deg 80% 20%)}.tag-cxx-stl{background-color:hsl(90deg 80% 70%)}.dark .tag-cxx-stl{background-color:hsl(90deg 80% 20%)}.tag-cgroup{background-color:hsl(140deg 80% 70%)}.dark .tag-cgroup{background-color:hsl(140deg 80% 20%)}.tag-cheetsheet{background-color:hsl(190deg 80% 70%)}.dark .tag-cheetsheet{background-color:hsl(190deg 80% 20%)}.tag-clang{background-color:hsl(240deg 80% 70%)}.dark .tag-clang{background-color:hsl(240deg 80% 20%)}.tag-coding-theory{background-color:hsl(290deg 80% 70%)}.dark .tag-coding-theory{background-color:hsl(290deg 80% 20%)}.tag-compression{background-color:hsl(340deg 80% 70%)}.dark .tag-compression{background-color:hsl(340deg 80% 20%)}.tag-concept{background-color:hsl(30deg 80% 70%)}.dark .tag-concept{background-color:hsl(30deg 80% 20%)}.tag-cpu{background-color:hsl(80deg 80% 70%)}.dark .tag-cpu{background-color:hsl(80deg 80% 20%)}.tag-crawler{background-color:hsl(130deg 80% 70%)}.dark .tag-crawler{background-color:hsl(130deg 80% 20%)}.tag-cryptography{background-color:hsl(180deg 80% 70%)}.dark .tag-cryptography{background-color:hsl(180deg 80% 20%)}.tag-css{background-color:hsl(230deg 80% 70%)}.dark .tag-css{background-color:hsl(230deg 80% 20%)}.tag-database{background-color:hsl(280deg 80% 70%)}.dark .tag-database{background-color:hsl(280deg 80% 20%)}.tag-deflate{background-color:hsl(330deg 80% 70%)}.dark .tag-deflate{background-color:hsl(330deg 80% 20%)}.tag-design{background-color:hsl(20deg 80% 70%)}.dark .tag-design{background-color:hsl(20deg 80% 20%)}.tag-dns{background-color:hsl(70deg 80% 70%)}.dark .tag-dns{background-color:hsl(70deg 80% 20%)}.tag-dom{background-color:hsl(120deg 80% 70%)}.dark .tag-dom{background-color:hsl(120deg 80% 20%)}.tag-driver{background-color:hsl(170deg 80% 70%)}.dark .tag-driver{background-color:hsl(170deg 80% 20%)}.tag-elastic{background-color:hsl(220deg 80% 70%)}.dark .tag-elastic{background-color:hsl(220deg 80% 20%)}.tag-elf{background-color:hsl(270deg 80% 70%)}.dark .tag-elf{background-color:hsl(270deg 80% 20%)}.tag-elk{background-color:hsl(320deg 80% 70%)}.dark .tag-elk{background-color:hsl(320deg 80% 20%)}.tag-flex{background-color:hsl(10deg 80% 70%)}.dark .tag-flex{background-color:hsl(10deg 80% 20%)}.tag-gc{background-color:hsl(60deg 80% 70%)}.dark .tag-gc{background-color:hsl(60deg 80% 20%)}.tag-gcc{background-color:hsl(110deg 80% 70%)}.dark .tag-gcc{background-color:hsl(110deg 80% 20%)}.tag-gnu{background-color:hsl(160deg 80% 70%)}.dark .tag-gnu{background-color:hsl(160deg 80% 20%)}.tag-go{background-color:hsl(210deg 80% 70%)}.dark .tag-go{background-color:hsl(210deg 80% 20%)}.tag-gzip{background-color:hsl(260deg 80% 70%)}.dark .tag-gzip{background-color:hsl(260deg 80% 20%)}.tag-hash{background-color:hsl(310deg 80% 70%)}.dark .tag-hash{background-color:hsl(310deg 80% 20%)}.tag-http{background-color:hsl(0deg 80% 70%)}.dark .tag-http{background-color:hsl(0deg 80% 20%)}.tag-huffman{background-color:hsl(50deg 80% 70%)}.dark .tag-huffman{background-color:hsl(50deg 80% 20%)}.tag-java{background-color:hsl(100deg 80% 70%)}.dark .tag-java{background-color:hsl(100deg 80% 20%)}.tag-java-module{background-color:hsl(150deg 80% 70%)}.dark .tag-java-module{background-color:hsl(150deg 80% 20%)}.tag-javascript{background-color:hsl(200deg 80% 70%)}.dark .tag-javascript{background-color:hsl(200deg 80% 20%)}.tag-jdk{background-color:hsl(250deg 80% 70%)}.dark .tag-jdk{background-color:hsl(250deg 80% 20%)}.tag-js{background-color:hsl(300deg 80% 70%)}.dark .tag-js{background-color:hsl(300deg 80% 20%)}.tag-jvm{background-color:hsl(350deg 80% 70%)}.dark .tag-jvm{background-color:hsl(350deg 80% 20%)}.tag-kernel{background-color:hsl(40deg 80% 70%)}.dark .tag-kernel{background-color:hsl(40deg 80% 20%)}.tag-lexer{background-color:hsl(90deg 80% 70%)}.dark .tag-lexer{background-color:hsl(90deg 80% 20%)}.tag-linux{background-color:hsl(140deg 80% 70%)}.dark .tag-linux{background-color:hsl(140deg 80% 20%)}.tag-log4j2{background-color:hsl(190deg 80% 70%)}.dark .tag-log4j2{background-color:hsl(190deg 80% 20%)}.tag-lz77{background-color:hsl(240deg 80% 70%)}.dark .tag-lz77{background-color:hsl(240deg 80% 20%)}.tag-make{background-color:hsl(290deg 80% 70%)}.dark .tag-make{background-color:hsl(290deg 80% 20%)}.tag-makefile{background-color:hsl(340deg 80% 70%)}.dark .tag-makefile{background-color:hsl(340deg 80% 20%)}.tag-maven{background-color:hsl(30deg 80% 70%)}.dark .tag-maven{background-color:hsl(30deg 80% 20%)}.tag-memory{background-color:hsl(80deg 80% 70%)}.dark .tag-memory{background-color:hsl(80deg 80% 20%)}.tag-multithreading{background-color:hsl(130deg 80% 70%)}.dark .tag-multithreading{background-color:hsl(130deg 80% 20%)}.tag-mybatis{background-color:hsl(180deg 80% 70%)}.dark .tag-mybatis{background-color:hsl(180deg 80% 20%)}.tag-mysql{background-color:hsl(230deg 80% 70%)}.dark .tag-mysql{background-color:hsl(230deg 80% 20%)}.tag-nasm{background-color:hsl(280deg 80% 70%)}.dark .tag-nasm{background-color:hsl(280deg 80% 20%)}.tag-node{background-color:hsl(330deg 80% 70%)}.dark .tag-node{background-color:hsl(330deg 80% 20%)}.tag-nodejs{background-color:hsl(20deg 80% 70%)}.dark .tag-nodejs{background-color:hsl(20deg 80% 20%)}.tag-openssl{background-color:hsl(70deg 80% 70%)}.dark .tag-openssl{background-color:hsl(70deg 80% 20%)}.tag-playwright{background-color:hsl(120deg 80% 70%)}.dark .tag-playwright{background-color:hsl(120deg 80% 20%)}.tag-posix{background-color:hsl(170deg 80% 70%)}.dark .tag-posix{background-color:hsl(170deg 80% 20%)}.tag-powershell{background-color:hsl(220deg 80% 70%)}.dark .tag-powershell{background-color:hsl(220deg 80% 20%)}.tag-programming-langauge{background-color:hsl(270deg 80% 70%)}.dark .tag-programming-langauge{background-color:hsl(270deg 80% 20%)}.tag-programming-language{background-color:hsl(320deg 80% 70%)}.dark .tag-programming-language{background-color:hsl(320deg 80% 20%)}.tag-qemu{background-color:hsl(10deg 80% 70%)}.dark .tag-qemu{background-color:hsl(10deg 80% 20%)}.tag-redis{background-color:hsl(60deg 80% 70%)}.dark .tag-redis{background-color:hsl(60deg 80% 20%)}.tag-retrocomputing{background-color:hsl(110deg 80% 70%)}.dark .tag-retrocomputing{background-color:hsl(110deg 80% 20%)}.tag-rfc{background-color:hsl(160deg 80% 70%)}.dark .tag-rfc{background-color:hsl(160deg 80% 20%)}.tag-sdram{background-color:hsl(210deg 80% 70%)}.dark .tag-sdram{background-color:hsl(210deg 80% 20%)}.tag-sed{background-color:hsl(260deg 80% 70%)}.dark .tag-sed{background-color:hsl(260deg 80% 20%)}.tag-slf4j{background-color:hsl(310deg 80% 70%)}.dark .tag-slf4j{background-color:hsl(310deg 80% 20%)}.tag-spring{background-color:hsl(0deg 80% 70%)}.dark .tag-spring{background-color:hsl(0deg 80% 20%)}.tag-spring-boot{background-color:hsl(50deg 80% 70%)}.dark .tag-spring-boot{background-color:hsl(50deg 80% 20%)}.tag-spring-data{background-color:hsl(100deg 80% 70%)}.dark .tag-spring-data{background-color:hsl(100deg 80% 20%)}.tag-spring-ioc{background-color:hsl(150deg 80% 70%)}.dark .tag-spring-ioc{background-color:hsl(150deg 80% 20%)}.tag-sql{background-color:hsl(200deg 80% 70%)}.dark .tag-sql{background-color:hsl(200deg 80% 20%)}.tag-streaming{background-color:hsl(250deg 80% 70%)}.dark .tag-streaming{background-color:hsl(250deg 80% 20%)}.tag-template{background-color:hsl(300deg 80% 70%)}.dark .tag-template{background-color:hsl(300deg 80% 20%)}.tag-testing{background-color:hsl(350deg 80% 70%)}.dark .tag-testing{background-color:hsl(350deg 80% 20%)}.tag-thymeleaf{background-color:hsl(40deg 80% 70%)}.dark .tag-thymeleaf{background-color:hsl(40deg 80% 20%)}.tag-tls{background-color:hsl(90deg 80% 70%)}.dark .tag-tls{background-color:hsl(90deg 80% 20%)}.tag-tomcat{background-color:hsl(140deg 80% 70%)}.dark .tag-tomcat{background-color:hsl(140deg 80% 20%)}.tag-transaction{background-color:hsl(190deg 80% 70%)}.dark .tag-transaction{background-color:hsl(190deg 80% 20%)}.tag-transistor{background-color:hsl(240deg 80% 70%)}.dark .tag-transistor{background-color:hsl(240deg 80% 20%)}.tag-ts{background-color:hsl(290deg 80% 70%)}.dark .tag-ts{background-color:hsl(290deg 80% 20%)}.tag-typescript{background-color:hsl(340deg 80% 70%)}.dark .tag-typescript{background-color:hsl(340deg 80% 20%)}.tag-unix{background-color:hsl(30deg 80% 70%)}.dark .tag-unix{background-color:hsl(30deg 80% 20%)}.tag-web{background-color:hsl(80deg 80% 70%)}.dark .tag-web{background-color:hsl(80deg 80% 20%)}.tag-x86{background-color:hsl(130deg 80% 70%)}.dark .tag-x86{background-color:hsl(130deg 80% 20%)}.tag-x86_64{background-color:hsl(180deg 80% 70%)}.dark .tag-x86_64{background-color:hsl(180deg 80% 20%)}.tag-x86-64{background-color:hsl(230deg 80% 70%)}.dark .tag-x86-64{background-color:hsl(230deg 80% 20%)}.tag-xpath{background-color:hsl(280deg 80% 70%)}.dark .tag-xpath{background-color:hsl(280deg 80% 20%)}.tag-zlib{background-color:hsl(330deg 80% 70%)}.dark .tag-zlib{background-color:hsl(330deg 80% 20%)}</style></head><body><script>localStorage.getItem("dark-theme")&&document.body.classList.add("dark")</script><header><h2 id=banner><a href=/>Infinity Architect</a></h2><div id=top-sections><a href=/android/ class=hoverable>Android </a><a href=/cxx/ class=active>C/C++ </a><a href=/compression/ class=hoverable>Compression </a><a href=/cpu/ class=hoverable>CPU </a><a href=/crypto/ class=hoverable>Cryptography </a><a href=/db/ class=hoverable>Database </a><a href=/ee/ class=hoverable>Electronic Engineering </a><a href=/linux/ class=hoverable>GNU/Linux </a><a href=/go/ class=hoverable>Golang </a><a href=/java/ class=hoverable>Java </a><a href=/microservice/ class=hoverable>Microservice </a><a href=/net/ class=hoverable>Network & Protocol </a><a href=/physics/ class=hoverable>Physics </a><a href=/retro/ class=hoverable>Retro-Computing </a><a href=/toy/ class=hoverable>Toys </a><a href=/windev/ class=hoverable>Window</a></div><div class=theme-switch style="align-self:center;margin:auto 20px"><input type=checkbox id=theme-checkbox>
<label for=theme-checkbox><div></div><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path fill-rule="evenodd" d="M9.528 1.718a.75.75.0 01.162.819A8.97 8.97.0 009 6a9 9 0 009 9 8.97 8.97.0 003.463-.69.75.75.0 01.981.98 10.503 10.503.0 01-9.694 6.46c-5.799.0-10.5-4.701-10.5-10.5.0-4.368 2.667-8.112 6.46-9.694a.75.75.0 01.818.162z" clip-rule="evenodd"/></svg>
</span><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path d="M12 2.25a.75.75.0 01.75.75v2.25a.75.75.0 01-1.5.0V3a.75.75.0 01.75-.75zM7.5 12a4.5 4.5.0 119 0 4.5 4.5.0 01-9 0zM18.894 6.166a.75.75.0 00-1.06-1.06l-1.591 1.59a.75.75.0 101.06 1.061l1.591-1.59zM21.75 12a.75.75.0 01-.75.75h-2.25a.75.75.0 010-1.5H21a.75.75.0 01.75.75zm-3.916 6.894a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 10-1.061 1.06l1.59 1.591zM12 18a.75.75.0 01.75.75V21a.75.75.0 01-1.5.0v-2.25A.75.75.0 0112 18zM7.758 17.303a.75.75.0 00-1.061-1.06l-1.591 1.59a.75.75.0 001.06 1.061l1.591-1.59zM6 12a.75.75.0 01-.75.75H3a.75.75.0 010-1.5h2.25A.75.75.0 016 12zm.697-4.243a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 00-1.061 1.06l1.59 1.591z"/></svg></span></label></div></header><main><div style=font-family:monospace;font-size:1.5em><div class=basic-text>/<a href=/>HOME</a>/
$</div></div><div id=section-flex class=basic-text><div style=flex:2;min-width:0><h1>Section: C/C++</h1></div><div style=flex:1><div style=border-radius:30px><h4>You are looking at a section page.</h3><p>Section pages are navigation nodes of this site.
A section contains articles and sub-sections.</p><div><h4>Direct sub-sections of this section are:</h3><ul><li><a class=deco href=/cxx/gcc/>GCC</a></li><li><a class=deco href=/cxx/std/>C++ Standard Library</a></li><li><a class=deco href=/cxx/make/>Make</a></li><li><a class=deco href=/cxx/lang/>C++ Language</a></li><li><a class=deco href=/cxx/llvm/>Clang & LLVM</a></li><li><a class=deco href=/cxx/clang/>LLVM</a></li></ul></div></div></div></div><div style=margin-top:200px><hr><h2>Articles in this section:</h2><div><div class=pagination-navi><a href=/cxx/>&lt;&lt;</a>
<a href=/cxx/page/5/>&lt;</a>
<a href=/cxx/page/4/>4</a>
<a href=/cxx/page/5/>5</a>
<a class=active href=/cxx/page/6/>6</a>
<a href=/cxx/page/7/>7</a>
<a href=/cxx/page/8/>8</a>
<a href=/cxx/page/7/>></a>
<a href=/cxx/page/8/>>></a></div><div class=page-list><div class=hoverable><a href=/cxx/lang/template/meta-programming/><div>In section:
> C/C++
> C++ Language
> C++ Template</div><h2 style=margin:0>C++ Metaprogramming</h2><div style=margin-top:4px;margin-bottom:22px class=aux-text>December 25, 2023</div><div class=aux-text>Metaprogramming in C++ refer to the exercise of writting bool constexpr evaluated by the client compiler, such that correct template instantiation is eventually instantiated.
check if T is not const or volatile 1std::same_as&lt;T, std::remove_cv_t&lt;T>> copy Use std::addressof to take address of object Work against overloaded operator&.
Use std::to_address to get the address value of (smart / raw) pointers 1#include &lt;type_traits> 2#include &lt;memory> 3#include &lt;cstdio> 4 5int main () { 6 // std::toaddress 7 // 1) work for both smart and raw pointer 8 auto int_up = std::make_unique&lt;int>(42); 9 int *int_p = new int{22}; 10 std::printf("%p\n", std::to_address(int_up)); 11 std::printf("%p\n", std::to_address(int_p)); 12 13 // 2) avoid the trap of std::addressof(*ptr) 14 int *wild_int_p = int_p + 10000000; // pointer arithmetic is well-defined behavior 15 //std::printf("%p\n", std::addressof(*wild_int_p)); // undefined behavior 16 std::printf("%p\n", std::to_address(wild_int_p)); // ok 17 18 delete int_p; 19} copy https://stackoverflow.</div><div style=margin-top:20px><div style=line-height:2em><span class="page-tag tag-cxx">C++</span>
<span class="page-tag tag-programming-language">Programming Language</span></div></div></a></div><div class=hoverable><a href=/cxx/ccg/><div>In section:
> C/C++</div><h2 style=margin:0>MEMO: C++ Core Guidelines (CCG)</h2><div style=margin-top:4px;margin-bottom:22px class=aux-text>December 13, 2023</div><div class=aux-text>https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines
C.20: If you can avoid defining default operations, do. rule of zero:
Make a clear separation in mind between (1) resource-managing class, a.k.a (not precise, but) RAII class and (2) everything else (e.g. business related class) (1) should having no more public APIs other than the big 5, and optionally a raw resource getter. One seldom needs to write their own (1). STL containers and smart pointer with custom deleter should suffice.</div><div style=margin-top:20px><div style=line-height:2em><span class="page-tag tag-cxx">C++</span>
<span class="page-tag tag-cxx-stl">C++ STL</span></div></div></a></div><div class=hoverable><a href=/cxx/misc/><div>In section:
> C/C++</div><h2 style=margin:0>Miscellaneous C++ consideration</h2><div style=margin-top:4px;margin-bottom:22px class=aux-text>November 25, 2023</div><div class=aux-text>Ownership Ownership of resources is the responsibility to destroy those resources at proper time.
In any design, resource owning class should follow RAII, and follow the Single Resonsibility Principle: it shouldn&rsquo;t have any public API other than
the 6 reasonable special member functions a raw resourece accessor, as described in scott&rsquo;s Item 15: Provide access to raw resources in resource-managing classes. use make_(unique|shared) helpers instead of smart pointer constructor https://stackoverflow.com/a/22571331/8311608</div><div style=margin-top:20px><div style=line-height:2em><span class="page-tag tag-cxx">C++</span>
<span class="page-tag tag-programming-language">Programming Language</span></div></div></a></div><div class=hoverable><a href=/cxx/make/variables/><div>In section:
> C/C++
> Make</div><h2 style=margin:0>Makefile Variables</h2><div style=margin-top:4px;margin-bottom:22px class=aux-text>November 24, 2023</div><div class=aux-text>Define variables the lazy flavor: recursively expanded variable The good old syntax are supported by all ancient make programs.
syntax: foo = RHS
Lazy expansion: foo stored RHS verbatim, without caring what it even is. foo expands to RHS upon request, and if RHS further contains variable reference, it will be recursively expanded. e.g. The following prints hello upon make. Notice the text order of variables:
1foo = $(bar) # foo stores literal string '$(bar)' 2bar = $(ugh) # bar stores literal string '$(ugh)' 3ugh = hello 4 5# recursive expansion happens when evaluating $(foo) 6all: 7 @echo $(foo) # 'hello' copy the greedy flavor: simply expanded variables Require modern make implementations.</div><div style=margin-top:20px><div style=line-height:2em><span class="page-tag tag-gnu">GNU</span>
<span class="page-tag tag-make">make</span>
<span class="page-tag tag-makefile">Makefile</span></div></div></a></div><div class=hoverable><a href=/cxx/lang/copy-elision-and-rvo/><div>In section:
> C/C++
> C++ Language</div><h2 style=margin:0>Copy / Move Elision and Return Value Optimization (RVO)</h2><div style=margin-top:4px;margin-bottom:22px class=aux-text>November 23, 2023</div><div class=aux-text>Copy / Move Elision During a function call, copies may occur multiple times for arguemnts and function return:
1class X { 2public: 3 X(): id{"unknown"} {std::puts("default ctor");} 4 X(const std::string id): id{id} {std::puts("ctor with given id");} 5 X(const X &amp;other): id{other.id} {std::puts("copy ctor");} 6 X(X &&amp;other): id{std::move(other.id)} {std::puts("move ctor");} 7 ~X(){std::puts("dtor");} 8private: 9 std::string id; 10}; 11 12void foo(X gg) { } 13 14X bar() { 15 std::string id{/* e.g. get id from RPC connection */}; 16 return X{id}; 17} 18 19X zoo() { 20 X named{"zoo - named"}; 21 return named; 22} 23 24int main() { 25 X gg = zoo(); 26} copy [, c++17) gcc stop eliding copy / move ctors when -std=c++14 -fno-elide-constructors.</div><div style=margin-top:20px><div style=line-height:2em><span class="page-tag tag-cxx">C++</span>
<span class="page-tag tag-programming-language">Programming Language</span></div></div></a></div></div><div class=pagination-navi><a href=/cxx/>&lt;&lt;</a>
<a href=/cxx/page/5/>&lt;</a>
<a href=/cxx/page/4/>4</a>
<a href=/cxx/page/5/>5</a>
<a class=active href=/cxx/page/6/>6</a>
<a href=/cxx/page/7/>7</a>
<a href=/cxx/page/8/>8</a>
<a href=/cxx/page/7/>></a>
<a href=/cxx/page/8/>>></a></div></div></div></main><footer>Unless otherwise noted, content of this site is licensed under
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ style=text-decoration:underline>the CC BY-NC-SA 4.0</a>.<br>cesun.info copyright 2024.</footer></body></html>