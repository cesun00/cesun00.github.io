<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>DNS as a general-purpose KV store: Model and Design | Infinity Architect</title>
<link rel=stylesheet href=/main.css><script type=importmap>
  {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.167.1/+esm"
      }
  }
  </script><script type=module src=/theme.mjs></script><style>.tag-android{background-color:hsl(0deg 80% 70%)}.dark .tag-android{background-color:hsl(0deg 80% 20%)}.tag-annotation{background-color:hsl(50deg 80% 70%)}.dark .tag-annotation{background-color:hsl(50deg 80% 20%)}.tag-assembly{background-color:hsl(100deg 80% 70%)}.dark .tag-assembly{background-color:hsl(100deg 80% 20%)}.tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 70%)}.dark .tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 20%)}.tag-awk{background-color:hsl(200deg 80% 70%)}.dark .tag-awk{background-color:hsl(200deg 80% 20%)}.tag-bootloader{background-color:hsl(250deg 80% 70%)}.dark .tag-bootloader{background-color:hsl(250deg 80% 20%)}.tag-bytecode{background-color:hsl(300deg 80% 70%)}.dark .tag-bytecode{background-color:hsl(300deg 80% 20%)}.tag-c{background-color:hsl(350deg 80% 70%)}.dark .tag-c{background-color:hsl(350deg 80% 20%)}.tag-cxx{background-color:hsl(40deg 80% 70%)}.dark .tag-cxx{background-color:hsl(40deg 80% 20%)}.tag-cxx-stl{background-color:hsl(90deg 80% 70%)}.dark .tag-cxx-stl{background-color:hsl(90deg 80% 20%)}.tag-cgroup{background-color:hsl(140deg 80% 70%)}.dark .tag-cgroup{background-color:hsl(140deg 80% 20%)}.tag-cheetsheet{background-color:hsl(190deg 80% 70%)}.dark .tag-cheetsheet{background-color:hsl(190deg 80% 20%)}.tag-clang{background-color:hsl(240deg 80% 70%)}.dark .tag-clang{background-color:hsl(240deg 80% 20%)}.tag-coding-theory{background-color:hsl(290deg 80% 70%)}.dark .tag-coding-theory{background-color:hsl(290deg 80% 20%)}.tag-compression{background-color:hsl(340deg 80% 70%)}.dark .tag-compression{background-color:hsl(340deg 80% 20%)}.tag-concept{background-color:hsl(30deg 80% 70%)}.dark .tag-concept{background-color:hsl(30deg 80% 20%)}.tag-cpu{background-color:hsl(80deg 80% 70%)}.dark .tag-cpu{background-color:hsl(80deg 80% 20%)}.tag-crawler{background-color:hsl(130deg 80% 70%)}.dark .tag-crawler{background-color:hsl(130deg 80% 20%)}.tag-cryptography{background-color:hsl(180deg 80% 70%)}.dark .tag-cryptography{background-color:hsl(180deg 80% 20%)}.tag-css{background-color:hsl(230deg 80% 70%)}.dark .tag-css{background-color:hsl(230deg 80% 20%)}.tag-database{background-color:hsl(280deg 80% 70%)}.dark .tag-database{background-color:hsl(280deg 80% 20%)}.tag-deflate{background-color:hsl(330deg 80% 70%)}.dark .tag-deflate{background-color:hsl(330deg 80% 20%)}.tag-design{background-color:hsl(20deg 80% 70%)}.dark .tag-design{background-color:hsl(20deg 80% 20%)}.tag-dns{background-color:hsl(70deg 80% 70%)}.dark .tag-dns{background-color:hsl(70deg 80% 20%)}.tag-dom{background-color:hsl(120deg 80% 70%)}.dark .tag-dom{background-color:hsl(120deg 80% 20%)}.tag-driver{background-color:hsl(170deg 80% 70%)}.dark .tag-driver{background-color:hsl(170deg 80% 20%)}.tag-elastic{background-color:hsl(220deg 80% 70%)}.dark .tag-elastic{background-color:hsl(220deg 80% 20%)}.tag-elf{background-color:hsl(270deg 80% 70%)}.dark .tag-elf{background-color:hsl(270deg 80% 20%)}.tag-elk{background-color:hsl(320deg 80% 70%)}.dark .tag-elk{background-color:hsl(320deg 80% 20%)}.tag-flex{background-color:hsl(10deg 80% 70%)}.dark .tag-flex{background-color:hsl(10deg 80% 20%)}.tag-gc{background-color:hsl(60deg 80% 70%)}.dark .tag-gc{background-color:hsl(60deg 80% 20%)}.tag-gcc{background-color:hsl(110deg 80% 70%)}.dark .tag-gcc{background-color:hsl(110deg 80% 20%)}.tag-gnu{background-color:hsl(160deg 80% 70%)}.dark .tag-gnu{background-color:hsl(160deg 80% 20%)}.tag-go{background-color:hsl(210deg 80% 70%)}.dark .tag-go{background-color:hsl(210deg 80% 20%)}.tag-gzip{background-color:hsl(260deg 80% 70%)}.dark .tag-gzip{background-color:hsl(260deg 80% 20%)}.tag-hash{background-color:hsl(310deg 80% 70%)}.dark .tag-hash{background-color:hsl(310deg 80% 20%)}.tag-http{background-color:hsl(0deg 80% 70%)}.dark .tag-http{background-color:hsl(0deg 80% 20%)}.tag-huffman{background-color:hsl(50deg 80% 70%)}.dark .tag-huffman{background-color:hsl(50deg 80% 20%)}.tag-java{background-color:hsl(100deg 80% 70%)}.dark .tag-java{background-color:hsl(100deg 80% 20%)}.tag-java-module{background-color:hsl(150deg 80% 70%)}.dark .tag-java-module{background-color:hsl(150deg 80% 20%)}.tag-javascript{background-color:hsl(200deg 80% 70%)}.dark .tag-javascript{background-color:hsl(200deg 80% 20%)}.tag-jdk{background-color:hsl(250deg 80% 70%)}.dark .tag-jdk{background-color:hsl(250deg 80% 20%)}.tag-js{background-color:hsl(300deg 80% 70%)}.dark .tag-js{background-color:hsl(300deg 80% 20%)}.tag-jvm{background-color:hsl(350deg 80% 70%)}.dark .tag-jvm{background-color:hsl(350deg 80% 20%)}.tag-kernel{background-color:hsl(40deg 80% 70%)}.dark .tag-kernel{background-color:hsl(40deg 80% 20%)}.tag-lexer{background-color:hsl(90deg 80% 70%)}.dark .tag-lexer{background-color:hsl(90deg 80% 20%)}.tag-linux{background-color:hsl(140deg 80% 70%)}.dark .tag-linux{background-color:hsl(140deg 80% 20%)}.tag-log4j2{background-color:hsl(190deg 80% 70%)}.dark .tag-log4j2{background-color:hsl(190deg 80% 20%)}.tag-lz77{background-color:hsl(240deg 80% 70%)}.dark .tag-lz77{background-color:hsl(240deg 80% 20%)}.tag-make{background-color:hsl(290deg 80% 70%)}.dark .tag-make{background-color:hsl(290deg 80% 20%)}.tag-makefile{background-color:hsl(340deg 80% 70%)}.dark .tag-makefile{background-color:hsl(340deg 80% 20%)}.tag-maven{background-color:hsl(30deg 80% 70%)}.dark .tag-maven{background-color:hsl(30deg 80% 20%)}.tag-memory{background-color:hsl(80deg 80% 70%)}.dark .tag-memory{background-color:hsl(80deg 80% 20%)}.tag-multithreading{background-color:hsl(130deg 80% 70%)}.dark .tag-multithreading{background-color:hsl(130deg 80% 20%)}.tag-mybatis{background-color:hsl(180deg 80% 70%)}.dark .tag-mybatis{background-color:hsl(180deg 80% 20%)}.tag-mysql{background-color:hsl(230deg 80% 70%)}.dark .tag-mysql{background-color:hsl(230deg 80% 20%)}.tag-nasm{background-color:hsl(280deg 80% 70%)}.dark .tag-nasm{background-color:hsl(280deg 80% 20%)}.tag-node{background-color:hsl(330deg 80% 70%)}.dark .tag-node{background-color:hsl(330deg 80% 20%)}.tag-nodejs{background-color:hsl(20deg 80% 70%)}.dark .tag-nodejs{background-color:hsl(20deg 80% 20%)}.tag-openssl{background-color:hsl(70deg 80% 70%)}.dark .tag-openssl{background-color:hsl(70deg 80% 20%)}.tag-playwright{background-color:hsl(120deg 80% 70%)}.dark .tag-playwright{background-color:hsl(120deg 80% 20%)}.tag-posix{background-color:hsl(170deg 80% 70%)}.dark .tag-posix{background-color:hsl(170deg 80% 20%)}.tag-powershell{background-color:hsl(220deg 80% 70%)}.dark .tag-powershell{background-color:hsl(220deg 80% 20%)}.tag-programming-langauge{background-color:hsl(270deg 80% 70%)}.dark .tag-programming-langauge{background-color:hsl(270deg 80% 20%)}.tag-programming-language{background-color:hsl(320deg 80% 70%)}.dark .tag-programming-language{background-color:hsl(320deg 80% 20%)}.tag-qemu{background-color:hsl(10deg 80% 70%)}.dark .tag-qemu{background-color:hsl(10deg 80% 20%)}.tag-redis{background-color:hsl(60deg 80% 70%)}.dark .tag-redis{background-color:hsl(60deg 80% 20%)}.tag-retrocomputing{background-color:hsl(110deg 80% 70%)}.dark .tag-retrocomputing{background-color:hsl(110deg 80% 20%)}.tag-rfc{background-color:hsl(160deg 80% 70%)}.dark .tag-rfc{background-color:hsl(160deg 80% 20%)}.tag-sdram{background-color:hsl(210deg 80% 70%)}.dark .tag-sdram{background-color:hsl(210deg 80% 20%)}.tag-sed{background-color:hsl(260deg 80% 70%)}.dark .tag-sed{background-color:hsl(260deg 80% 20%)}.tag-slf4j{background-color:hsl(310deg 80% 70%)}.dark .tag-slf4j{background-color:hsl(310deg 80% 20%)}.tag-spring{background-color:hsl(0deg 80% 70%)}.dark .tag-spring{background-color:hsl(0deg 80% 20%)}.tag-spring-boot{background-color:hsl(50deg 80% 70%)}.dark .tag-spring-boot{background-color:hsl(50deg 80% 20%)}.tag-spring-data{background-color:hsl(100deg 80% 70%)}.dark .tag-spring-data{background-color:hsl(100deg 80% 20%)}.tag-spring-ioc{background-color:hsl(150deg 80% 70%)}.dark .tag-spring-ioc{background-color:hsl(150deg 80% 20%)}.tag-sql{background-color:hsl(200deg 80% 70%)}.dark .tag-sql{background-color:hsl(200deg 80% 20%)}.tag-streaming{background-color:hsl(250deg 80% 70%)}.dark .tag-streaming{background-color:hsl(250deg 80% 20%)}.tag-template{background-color:hsl(300deg 80% 70%)}.dark .tag-template{background-color:hsl(300deg 80% 20%)}.tag-testing{background-color:hsl(350deg 80% 70%)}.dark .tag-testing{background-color:hsl(350deg 80% 20%)}.tag-thymeleaf{background-color:hsl(40deg 80% 70%)}.dark .tag-thymeleaf{background-color:hsl(40deg 80% 20%)}.tag-tls{background-color:hsl(90deg 80% 70%)}.dark .tag-tls{background-color:hsl(90deg 80% 20%)}.tag-tomcat{background-color:hsl(140deg 80% 70%)}.dark .tag-tomcat{background-color:hsl(140deg 80% 20%)}.tag-transaction{background-color:hsl(190deg 80% 70%)}.dark .tag-transaction{background-color:hsl(190deg 80% 20%)}.tag-transistor{background-color:hsl(240deg 80% 70%)}.dark .tag-transistor{background-color:hsl(240deg 80% 20%)}.tag-ts{background-color:hsl(290deg 80% 70%)}.dark .tag-ts{background-color:hsl(290deg 80% 20%)}.tag-typescript{background-color:hsl(340deg 80% 70%)}.dark .tag-typescript{background-color:hsl(340deg 80% 20%)}.tag-unix{background-color:hsl(30deg 80% 70%)}.dark .tag-unix{background-color:hsl(30deg 80% 20%)}.tag-web{background-color:hsl(80deg 80% 70%)}.dark .tag-web{background-color:hsl(80deg 80% 20%)}.tag-x86{background-color:hsl(130deg 80% 70%)}.dark .tag-x86{background-color:hsl(130deg 80% 20%)}.tag-x86_64{background-color:hsl(180deg 80% 70%)}.dark .tag-x86_64{background-color:hsl(180deg 80% 20%)}.tag-x86-64{background-color:hsl(230deg 80% 70%)}.dark .tag-x86-64{background-color:hsl(230deg 80% 20%)}.tag-xpath{background-color:hsl(280deg 80% 70%)}.dark .tag-xpath{background-color:hsl(280deg 80% 20%)}.tag-zlib{background-color:hsl(330deg 80% 70%)}.dark .tag-zlib{background-color:hsl(330deg 80% 20%)}</style></head><body><script>localStorage.getItem("dark-theme")&&document.body.classList.add("dark")</script><header><h2 id=banner><a href=/>Infinity Architect</a></h2><div id=top-sections><a href=/android/ class=hoverable>Android </a><a href=/cxx/ class=hoverable>C/C++ </a><a href=/compression/ class=hoverable>Compression </a><a href=/cpu/ class=hoverable>CPU </a><a href=/crypto/ class=hoverable>Cryptography </a><a href=/db/ class=hoverable>Database </a><a href=/ee/ class=hoverable>Electronic Engineering </a><a href=/linux/ class=hoverable>GNU/Linux </a><a href=/go/ class=hoverable>Golang </a><a href=/java/ class=hoverable>Java </a><a href=/microservice/ class=hoverable>Microservice </a><a href=/net/ class=active>Network & Protocol </a><a href=/physics/ class=hoverable>Physics </a><a href=/retro/ class=hoverable>Retro-Computing </a><a href=/toy/ class=hoverable>Toys </a><a href=/windev/ class=hoverable>Window</a></div><div class=theme-switch style="align-self:center;margin:auto 20px"><input type=checkbox id=theme-checkbox>
<label for=theme-checkbox><div></div><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path fill-rule="evenodd" d="M9.528 1.718a.75.75.0 01.162.819A8.97 8.97.0 009 6a9 9 0 009 9 8.97 8.97.0 003.463-.69.75.75.0 01.981.98 10.503 10.503.0 01-9.694 6.46c-5.799.0-10.5-4.701-10.5-10.5.0-4.368 2.667-8.112 6.46-9.694a.75.75.0 01.818.162z" clip-rule="evenodd"/></svg>
</span><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path d="M12 2.25a.75.75.0 01.75.75v2.25a.75.75.0 01-1.5.0V3a.75.75.0 01.75-.75zM7.5 12a4.5 4.5.0 119 0 4.5 4.5.0 01-9 0zM18.894 6.166a.75.75.0 00-1.06-1.06l-1.591 1.59a.75.75.0 101.06 1.061l1.591-1.59zM21.75 12a.75.75.0 01-.75.75h-2.25a.75.75.0 010-1.5H21a.75.75.0 01.75.75zm-3.916 6.894a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 10-1.061 1.06l1.59 1.591zM12 18a.75.75.0 01.75.75V21a.75.75.0 01-1.5.0v-2.25A.75.75.0 0112 18zM7.758 17.303a.75.75.0 00-1.061-1.06l-1.591 1.59a.75.75.0 001.06 1.061l1.591-1.59zM6 12a.75.75.0 01-.75.75H3a.75.75.0 010-1.5h2.25A.75.75.0 016 12zm.697-4.243a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 00-1.061 1.06l1.59 1.591z"/></svg></span></label></div></header><main><article class=basic-text><div style=font-family:monospace;font-size:1.5em><div class=basic-text>/<a href=/>HOME</a>/<a href=/net/>Network & Protocol</a>/<a href=/net/dns/>DNS</a>/
$</div></div><div style=margin-bottom:60px><h1 style=margin-bottom:0>DNS as a general-purpose KV store: Model and Design</h1><p class=aux-text style=margin-top:0>Published at: September 7, 2023
| Last modification: September 20, 2023</p><div style=line-height:2em><span class="page-tag tag-dns">DNS</span></div></div><div><p>This article gives an overview of the design of the Domain Name System.</p><h2 id=the-hierarchical-name-space--domains>The Hierarchical Name Space & Domains</h2><p>In the center of the Domain Name System is the idea of a tree of names, known as the hierarchical namespace.</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 512 361"><g transform="translate(8,16)"><path d="M104 48H280" fill="none" stroke="currentcolor"/><path d="M280 48H432" fill="none" stroke="currentcolor"/><path d="M56 128h48" fill="none" stroke="currentcolor"/><path d="M104 128h48" fill="none" stroke="currentcolor"/><path d="M328 128h56" fill="none" stroke="currentcolor"/><path d="M384 128h48" fill="none" stroke="currentcolor"/><path d="M432 128h48" fill="none" stroke="currentcolor"/><path d="M56 192h72" fill="none" stroke="currentcolor"/><path d="M128 192H280" fill="none" stroke="currentcolor"/><path d="M280 192H408" fill="none" stroke="currentcolor"/><path d="M408 192h72" fill="none" stroke="currentcolor"/><path d="M96 272h32" fill="none" stroke="currentcolor"/><path d="M128 272h32" fill="none" stroke="currentcolor"/><path d="M208 304h24" fill="none" stroke="currentcolor"/><path d="M232 304h48" fill="none" stroke="currentcolor"/><path d="M280 304h48" fill="none" stroke="currentcolor"/><path d="M328 304h72" fill="none" stroke="currentcolor"/><path d="M56 128v16" fill="none" stroke="currentcolor"/><path d="M56 192v16" fill="none" stroke="currentcolor"/><path d="M96 272v16" fill="none" stroke="currentcolor"/><path d="M96 312v16" fill="none" stroke="currentcolor"/><path d="M104 48V64" fill="none" stroke="currentcolor"/><path d="M104 96v32" fill="none" stroke="currentcolor"/><path d="M104 128v16" fill="none" stroke="currentcolor"/><path d="M128 192v16" fill="none" stroke="currentcolor"/><path d="M128 240v32" fill="none" stroke="currentcolor"/><path d="M152 128v16" fill="none" stroke="currentcolor"/><path d="M160 272v16" fill="none" stroke="currentcolor"/><path d="M208 304v16" fill="none" stroke="currentcolor"/><path d="M232 304v16" fill="none" stroke="currentcolor"/><path d="M280 16V48" fill="none" stroke="currentcolor"/><path d="M280 48V64" fill="none" stroke="currentcolor"/><path d="M280 96v96" fill="none" stroke="currentcolor"/><path d="M280 192v32" fill="none" stroke="currentcolor"/><path d="M280 256v48" fill="none" stroke="currentcolor"/><path d="M280 304v16" fill="none" stroke="currentcolor"/><path d="M328 128v16" fill="none" stroke="currentcolor"/><path d="M328 304v16" fill="none" stroke="currentcolor"/><path d="M384 128v16" fill="none" stroke="currentcolor"/><path d="M4e2 304v16" fill="none" stroke="currentcolor"/><path d="M408 192v16" fill="none" stroke="currentcolor"/><path d="M432 48V64" fill="none" stroke="currentcolor"/><path d="M432 96v32" fill="none" stroke="currentcolor"/><path d="M480 128v16" fill="none" stroke="currentcolor"/><path d="M480 192v16" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="48" y="164" fill="currentcolor" style="font-size:1em">B</text><text text-anchor="middle" x="48" y="228" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="56" y="164" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="56" y="228" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="64" y="164" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="64" y="228" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="88" y="164" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="88" y="308" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="96" y="84" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="96" y="164" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="96" y="308" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="96" y="340" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="104" y="84" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="104" y="164" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="104" y="308" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="104" y="340" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="112" y="84" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="112" y="164" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="120" y="228" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="128" y="228" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="128" y="308" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="136" y="164" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="136" y="228" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="136" y="308" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="144" y="164" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="144" y="308" fill="currentcolor" style="font-size:1em">H</text><text text-anchor="middle" x="152" y="164" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="152" y="308" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="160" y="164" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="160" y="308" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="168" y="164" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="168" y="308" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="176" y="308" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="184" y="308" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="208" y="340" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="224" y="4" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="232" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="232" y="340" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="240" y="4" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="248" y="4" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="256" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="264" y="4" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="264" y="340" fill="currentcolor" style="font-size:1em">V</text><text text-anchor="middle" x="272" y="84" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="272" y="244" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="272" y="340" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="280" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="280" y="84" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="280" y="244" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="280" y="340" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="288" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="288" y="84" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="288" y="244" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="288" y="340" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="296" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="304" y="4" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="304" y="164" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="312" y="4" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="312" y="164" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="312" y="340" fill="currentcolor" style="font-size:1em">V</text><text text-anchor="middle" x="320" y="4" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="320" y="164" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="320" y="340" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="328" y="4" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="328" y="164" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="328" y="340" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="336" y="164" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="336" y="340" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="344" y="164" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="344" y="340" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="352" y="164" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="352" y="340" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="368" y="340" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="376" y="164" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="376" y="340" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="384" y="164" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="384" y="340" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="392" y="164" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="392" y="340" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="400" y="164" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="400" y="228" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="400" y="340" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="408" y="164" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="408" y="228" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="408" y="340" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="416" y="164" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="416" y="228" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="416" y="340" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="424" y="84" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="424" y="164" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="424" y="228" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="424" y="340" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="432" y="84" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="432" y="340" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="440" y="84" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="440" y="340" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="448" y="84" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="448" y="340" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="472" y="164" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="472" y="228" fill="currentcolor" style="font-size:1em">Y</text><text text-anchor="middle" x="480" y="164" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="480" y="228" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="488" y="164" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="488" y="228" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="496" y="228" fill="currentcolor" style="font-size:1em">E</text></g></svg></div><p>Each node on the tree is assigned a <em>label</em>, e.g. <code>edu</code>, <code>mit</code>, etc.
The label of the root node is <code>""</code>, an empty string, a.k.a the null label.</p><blockquote><p>Each node has a label, which is zero to 63 octets in length. Brother
nodes may not have the same label, although the same label can be used
for nodes which are not brothers. One label is reserved, and that is
the null (i.e., zero length) label used for the root.</p></blockquote><p>To uniquely identify a node <code>x</code> in the tree, people concatenate the label on the path from <code>x</code>
all the way back to the root node, separated by a dot - a syntax known as the <em>domain name</em>.</p><blockquote><p>The domain name of a node is the list of the labels on the path from the
node to the root of the tree. By convention, the labels that compose a
domain name are printed or read left to right, from the most specific
(lowest, farthest from the root) to the least specific (highest, closest
to the root).</p></blockquote><p>The fact that the root node has a null label has several implications:</p><ol><li>When a user needs to type a domain name, the last character will be a dot (the one separates a TLD the empty string)</li><li>The <a href=TODO>length-prefixed binary encoding</a> of domain names used in DNS messages always ends with a <code>null</code> byte, indicating the zero-length null label.</li></ol><p>The term <em>domain</em> when used alone refers to the whole subtree rooted at a node identified by a domain name.</p><p>RFC1034 requires that all programs that manipulate domain names treat them in a case-insensitive manner,
and preserve their cases when possible. In real life this means</p><p>// &mdash;&mdash;&mdash;-</p><p>For example, these are domain names:</p><div class=codeblock-hook><pre tabindex=0><code>org
com
wikipedia.org
example.com</code></pre><button>copy</button></div><h2 id=glossary>Glossary</h2><ul><li>zone: a collection of authoritative RRs. Zone are the unit of information exchange between master and slave server. Zone are stored as zone file in the master server, and synchronized to the slave NS perodically.</li></ul><blockquote><p>Authoritative information is
organized into units called ZONEs, and these zones can be
automatically distributed to the name servers which provide
redundant service for the data in a zone.</p></blockquote><ul><li><p>domain: a node on the namespace. This is conceptual.</p></li><li><p>domain name: A domain name uniquely identifies any node in the DNS tree and is written, left
to right, by combining all the domain labels</p></li><li><p>fully qualified domain name (FQDN):</p><p>these are FQDN:</p><div class=codeblock-hook><pre tabindex=0><code>wikipedia.org.
example.com.</code></pre><button>copy</button></div></li></ul><h2 id=-the-hierarchical-authoritative-ns-and-the-zone>, the Hierarchical Authoritative NS, and the Zone</h2><p>DNS, the <em>Domain Name</em> System, requires <code>name</code> to exhibit a dot-segmented structure rather than being an arbitrary string, and there is a reason.</p><p>Each segment is known as a <em>label</em>, and labels of all existing domain names naturally form a tree structure, known as the hierarchical name space.
This tree structure corresponds to the organizational hierarchy of human society, meaning that for any given suffix, there is a concrete organization or person that administrates (at least) the first-level mapping under that suffix. Such entity publishes the official mapping via name servers in their control, becoming <em>authoritative name servers</em>. Authoritative name servers are the single source of truth for the mapping.</p><p>To query the authoritative name servers</p><ol start=2><li>An organization that administrates a given suffix controls the mapping , but may or may not controls 2 level.</li></ol><p>Keep this tree model in mind since many vocabularies in the DNS specification are based on this model.
Again not all elemetns of this model turns out to be significant, making this specification even more pedantic.</p><ol><li>The total number of names (or, to be precise, mappings) across the globe can be huge to reside on a single disk. There must be some structure within <code>name</code> that allows division of storage.</li><li>The maintenance cost where a monolithic organization be the authority of all <code>name</code>s and accepting requests to update mappings can be prohibitive. There must be some structure within <code>name</code> that allows division of administration.</li></ol><h2 id=referencing>Referencing</h2><h2 id=interfaec>interfaec</h2><p>Logically, DNS is a service that maps from <code>(name, qtype, qclass)</code> triplet to a set of <em>resource records (RRs)</em>.</p><p>For example, <code>('ns3.dnsv5.com.', A, IN)</code> maps to a list of A records with the following IP addresses on the Internet:</p><div class=codeblock-hook><pre tabindex=0><code>ns3.dnsv5.com.	172800	IN	A	1.12.0.17
ns3.dnsv5.com.	172800	IN	A	1.12.0.18
ns3.dnsv5.com.	172800	IN	A	1.12.0.20
ns3.dnsv5.com.	172800	IN	A	1.12.14.17
ns3.dnsv5.com.	172800	IN	A	1.12.14.18
ns3.dnsv5.com.	172800	IN	A	108.136.87.44
ns3.dnsv5.com.	172800	IN	A	125.94.59.200
ns3.dnsv5.com.	172800	IN	A	163.177.5.75
ns3.dnsv5.com.	172800	IN	A	35.165.107.227</code></pre><button>copy</button></div><ul><li><p><code>name</code> must be a string of dot-separated segments, a syntax known as the domain name.</p></li><li><p><code>qtype</code> specifies the <em>type of RRs</em> to query.</p><p>The authoritative definition of RR types is maintained at <a href=https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-4>https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-4</a>.</p><p>Common values are <code>A</code> for RRs that represent an IPv4 address, or <code>MX</code> for RRs that represent the email address of the admin of this domain name.</p></li><li><p><code>qclass</code> specifies the <em>class of service</em> to query.</p><p>The class of service determines the semantics of DNS mapping service.</p><p>The authoritative definition of class of service values is maintained at <a href=https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-2>https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-2</a>.</p><p>DNS, when queried for <code>qclass=Internet (1)</code>, maps domain names to information related to that domain.
Historically, some projects used DNS as a general database functionality to serve information that changes infrequently.
e.g. Hesiod project used <code>qclass=Hesiod (3)</code> and delivery Unix <code>/etc/passwd</code> and <code>/etc/group</code> information via DNS.</p><p>This field is largely obsolete since DNS nowadays is queried sorely for Internet hosts&rsquo; information.</p></li></ul><p>// &mdash;&mdash;&mdash;-</p><ul><li><p>Authoritative Name server Hirarchy:</p><p>Such server will:</p><ol><li>respond with <code>AA=1</code> for</li><li>respond with <em>referral</em></li></ol><ul><li>. The answer to the resolver’s QUESTION in the ANSWER section of the query response.</li><li><ol start=2><li>A referral (indicated by an empty ANSWER section but data in the AUTHORITY section, and typically IP addresses</li></ol></li><li>in the ADDITIONAL section of the response).</li><li><ol start=3><li>An error (such as NXDOMAIN - the name does not exist).</li></ol></li></ul></li><li><p>(caching) resolver:</p><p>These type of components</p><ul><li><p>full-service resolver / recursive resolver: a name server that is willing to accept <code>RD=1</code> query and iteratively sends multiple queries to the DNS hierarchy until the answer is obtained on behalf of a client.</p><p>The resolver always starts with root servers and sends an iterative query (4, 5, and 6).</p></li><li><p>forwarding resolver: a name server that is willing to accept <code>RD=1</code> query but simply forward the query to a full-service resolver. This is useful in scenarios like a organization&rsquo;s intranet where a single forwarding resolver is deployed. All users in the intranet use this DNS, reducing total outbound network requests as well as easing the maintanance.</p></li><li><p>stub resolvers: these are programs on an end-user&rsquo;s PC that send <code>rd=1</code> to an real dns server. Instead of accepting anything, they are more likely to accept library call from applications. Example being the GLIBC builtin DNS implementation, which respect the <code>/etc/resolv.conf</code> config file.</p></li></ul><p>Not knowning these terms doesn&rsquo;t stop you from being a good DNS admin, but it&rsquo;s good to know the difference.</p></li></ul><p>Generically, the authoritative NS of suffix <code>foo.bar</code></p><h2 id=the-problem>the problem</h2><p>Authorittaive server and zone transfer could use complete different protocol other than sharing the same DNS message format (and there are good reasons are&mldr; )</p></div></article></main><footer>Unless otherwise noted, content of this site is licensed under
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ style=text-decoration:underline>the CC BY-NC-SA 4.0</a>.<br>cesun.info copyright 2024.</footer></body></html>