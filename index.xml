<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>HOME on Infinity Architect</title><link>https://cesun.info/</link><description>Recent content in HOME on Infinity Architect</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Thu, 01 Aug 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://cesun.info/index.xml" rel="self" type="application/rss+xml"/><item><title>STLv2</title><link>https://cesun.info/cxx/std/stlv2/</link><pubDate>Wed, 03 Jul 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/std/stlv2/</guid><description>infrastructures Core concept ranges::range T satisfies range if ranges:begin(t) and ranges::end(t) compiles, where t is lvalue expression of type T.
e.g. Both vector&amp;lt;int&amp;gt; and vector&amp;lt;int&amp;gt;&amp;amp; satisfies range.
Core concept ranges::view Every view is range.
view captures a non-reference type T that satisfies range, plus its copy ctor (if exist), copy= (if exist), move ctor (must exist), move= (must exist) all work in O(1). e.g. std::string_view satisfies view, but std::string_view &amp;amp; does not.</description></item><item><title>Spring Annotation Handling</title><link>https://cesun.info/java/spring/ioc/annotations/</link><pubDate>Fri, 21 Jun 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/ioc/annotations/</guid><description>The whole Spring ecosystem make extensive use of Java&amp;rsquo;s annotation mechanism. This article will briefly discuss how annotations handled, and the spring framework.
Before start talking about Spring&amp;rsquo;s infrastructure of annotation handling, you may want to hear my words on the design flaw of java&amp;rsquo;s annotation, and why they sometimes brings trouble and can be slippery to beginners.
Whoever wants to associate an @Foo instance with some public class Bar {} and make the presense of @Foo available from Bar.</description></item><item><title>Memo: What Every Programmer Should Know About Memory</title><link>https://cesun.info/ee/mem/cpumemory/</link><pubDate>Thu, 20 Jun 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/ee/mem/cpumemory/</guid><description>This is a memo for Ulrich Drepper&amp;rsquo;s What Every Programmer Should Know About Memory
https://people.freebsd.org/~lstewart/articles/cpumemory.pdf
Naming Unit:
GT/s: gigatransfer per seconds, i.e. billion or 10^9 MT/s: megatransfer per seconds, i.e. million or 10^6 DDR4-2666 means a DDR4 SDRAM chip is around 2666.67 MT/s.
Most commercial MM mounts 8 x8 chips per rank in order to provide a 64 bit global data bus. If the chip mounted is DDR4-2666, the whole module is named PC4-21300, because each transfer is 64 bits = 8 bytes, and 2666.</description></item><item><title>IOC Container Lifecycle</title><link>https://cesun.info/java/spring/ioc/lifecycle/</link><pubDate>Sun, 02 Jun 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/ioc/lifecycle/</guid><description>We give an analysis of the lifecycle of Spring container and a summary of various lifecycle hooks of various entities in Spring.
Container Startup Startup of all ApplicationContext is divided into 3 steps:
construction of the implementation instance collecting BeanDefinitions construct non-lazy Bean instances, by calling refresh() after which an ApplicationContext will be ready to accept getBean() requests.
We will take the AnnotationConfigApplicationContext (ACAC) implementation as an example since it&amp;rsquo;s the most commonly used.</description></item><item><title>POJO Conversion in Spring</title><link>https://cesun.info/java/spring/ioc/pojo-conversion/</link><pubDate>Sun, 02 Jun 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/ioc/pojo-conversion/</guid><description>&lt;p>The Spring ecosystem constantly needs to convert a value object, aka. POJO, from one type to its representation in another type.
Examples are:&lt;/p>
&lt;ol>
&lt;li>Converting the value &lt;code>String&lt;/code> return from XML parser when parsing XML-based Spring bean configuration, e.g. &lt;code>&amp;lt;property value=&amp;quot;...&amp;quot;&amp;gt;&lt;/code> tag, to a field (of arbitrary Java type) in a Spring bean.&lt;/li>
&lt;li>Converting &lt;code>String&lt;/code> HTTP client request parameters, or &lt;code>byte[]&lt;/code> HTTP post body, to java object argument to &lt;code>@Controller&lt;/code>&lt;/li>
&lt;li>TODO&lt;/li>
&lt;/ol>
&lt;!-- A JavaBean object is a plain value object with getters &amp; setters properlly named, and with a default ctor. --></description></item><item><title>POJO Validation in Spring</title><link>https://cesun.info/java/spring/ioc/validation/</link><pubDate>Sun, 02 Jun 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/ioc/validation/</guid><description>Package org.springframework.validation contains Spring&amp;rsquo;s utility for validation, plus some java bean oriented infrastructure that is widely used across the whole Spring ecosystem.
Spring native validation Users are expected to implement the org.springframework.validation.Validator interface to code the logics for validation a domain object:
1public class PersonValidator implements org.springframework.validation.Validator { 2 /** 3 * whether this Validator derivation can validate `clazz`? 4 */ 5 @Override 6 public boolean supports(Class&amp;lt;?&amp;gt; clazz) { 7 return clazz.</description></item><item><title>Spring Environment &amp; Profile Handling</title><link>https://cesun.info/java/spring/ioc/env/</link><pubDate>Sun, 02 Jun 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/ioc/env/</guid><description>Spring Property Implementation of the Environment interface collects key-value pairs for configuration purposes from a collection of abstract class PropertySource&amp;lt;T&amp;gt; instances known to that implementation.
Spring’s StandardEnvironment implementation for standalone application is installed with 2 PropertySources:
JVM properties. e.g. java -Djava -Dspring.profiles.active=&amp;quot;prof&amp;quot; ... OS Envvar. e.g export spring.profiles.active=prof1 &amp;amp;&amp;amp; java ... Spring&amp;rsquo;s StandardServletEnvironment implementation for Web application further includes
A PropertySource that search over ServletConfig parameters &amp;amp; ServletContext parameters A JndiPropertySource to collect JNDI &amp;hellip; TODO Spring properties can be queried by</description></item><item><title>Spring Resources Management</title><link>https://cesun.info/java/spring/ioc/res/</link><pubDate>Sun, 02 Jun 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/ioc/res/</guid><description>Resource - Spring&amp;rsquo;s Byte Stream Interface org.springframework.core.io.Resource is spring&amp;rsquo;s awkward abstraction of an input stream from which one can read raw bytes. It tries to abstract away the details of the input stream, e.g. where these bytes come from - could be from a HTTP/FTP connection, or from a local file, but only ends up with an interface too versatile.
Apart from various vaguely defined methods with unclear semantics, the most useful one is the getInputStream() method which allows you to open the stream and actually read bytes:</description></item><item><title>CSS Size Computation</title><link>https://cesun.info/web/css/size-computation/</link><pubDate>Mon, 13 May 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/size-computation/</guid><description>width The value of the width property defaults to auto, which roughly means &amp;ldquo;use the available space&amp;rdquo;. The precise definition of how an width:auto; box should be computed is
Circular Dependency</description></item><item><title>Couriser: the Application Store for Scala</title><link>https://cesun.info/scala/coursier/</link><pubDate>Sat, 11 May 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/scala/coursier/</guid><description>https://stackoverflow.com/questions/76749090/why-is-coursier-needed-what-is-the-different-between-coursier-and-maven-sbt-g
A jar app is an executable jars. A scala jar app is an jar app written in scala.
Coursier is the app store for scala jar apps.
What it can:
installing scala jar apps (to a location preferably included in $PATH). including: create convenient &amp;ldquo;launcher&amp;rdquo; for those jars resolve &amp;amp; download all dependencies jar those apps needs. manages standalone JVMs of different vendors / versions used to run those apps.</description></item><item><title>Smart Pointers</title><link>https://cesun.info/cxx/std/smart-pointers/</link><pubDate>Sat, 27 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/std/smart-pointers/</guid><description>When not to use smart pointer Guideline:
raw pointer with new expression is always bad. there are situation in modern C++ where raw pointers make perfect sense. when destruction of resources is potentially-throwing Exception can&amp;rsquo;t be thrown from deleter. Use classic RAII class with noexcept(false) public API and noexcept(true) dtor instead of smart pointer.
https://stackoverflow.com/questions/130117/if-you-shouldnt-throw-exceptions-in-a-destructor-how-do-you-handle-errors-in-i
RAII class should be kept simple: never own 2 resources in 1 class.
Microsoft guide mentioned this (TODO: Bad things happends when RAII class wraps 2 resources?</description></item><item><title>C++ Randomness Infrastructure</title><link>https://cesun.info/cxx/std/random/</link><pubDate>Fri, 26 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/std/random/</guid><description>Support for randomness was introduced since C++11. Its design revolves around the following types of templates / classes / concepts:
Concept std::uniform_random_bit_generator Concept std::uniform_random_bit_generator models (class of) URBG (uniform random bit generators).
An URBG is a functor
whose operator() returns a sequence of uniformly random bits in the form of an unsigned integral value. (i.e. the returned integer is also uniform within min() and max()) whose class has min() and max() static member functions and they make sense.</description></item><item><title>The `=delete` and `=default` Function Definition</title><link>https://cesun.info/cxx/lang/delete-default-func/</link><pubDate>Fri, 26 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/delete-default-func/</guid><description>&lt;p>This article discussed the &lt;code>= default&lt;/code> and the &lt;code>= delete&lt;/code> syntax, both of which serve as a function definition, not declaration.&lt;/p></description></item><item><title>MySQL Variable</title><link>https://cesun.info/db/mysql/vars/</link><pubDate>Sun, 21 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/vars/</guid><description>User-Defined Variable https://dev.mysql.com/doc/refman/8.0/en/user-variables.htm
UDV can only stored a scalar value, e.g. the result of an aggregation function. For storing non-scalar result of a query, see temporary table.
Note the := operator. = operator outside SET or UPDATE &amp;lt;table&amp;gt; SET ... is considered a equality test.
1SELECT @myvar:=SUM(Population) from city; 2# +-------------------------+ 3# | @myvar:=SUM(Population) | 4# +-------------------------+ 5# | 1429559884 | 6# +-------------------------+ 7# 1 row in set, 1 warning (0.</description></item><item><title>x86 / x86-64 Instruction Format</title><link>https://cesun.info/cpu/x86/instruction-format/</link><pubDate>Fri, 19 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/instruction-format/</guid><description>&lt;p>This article describes the format of the x86-protected mode instructions.
&lt;a href="#64-bit">Discussion of the 64-bit mode instruction format&lt;/a> will be built on the x86 one since they share a lot of structure in common.&lt;/p>
&lt;p>Extensions to x86, including AVX, and SSE instructions,
all use the same structure except that an escape prefix is used to identify the extension.&lt;/p></description></item><item><title>Organization of Tasks: Thread, Task Group, and Session</title><link>https://cesun.info/linux/kernel/task/organization/</link><pubDate>Wed, 17 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/kernel/task/organization/</guid><description>Process group and session are concepts built into the kernel&amp;rsquo;s task model sorely to implement a feature known as the job control of a shell.
In the normal operation of a shell
A process group models all processes in the same pipeline A session models the lifecycle from a user&amp;rsquo;s login to logout It&amp;rsquo;s kinda weird to see such a high-level userspace feature to have seminal effects on the kernel&amp;rsquo;s task model, but this is part of Linux already.</description></item><item><title>Dark / Light Theme Switching</title><link>https://cesun.info/web/css/dark-light-theme/</link><pubDate>Fri, 12 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/dark-light-theme/</guid><description>&lt;p>Implementing a website that supports light / dark theme switching is as simple as adding a &lt;code>dark&lt;/code> class to the &lt;code>body&lt;/code> element
at the user&amp;rsquo;s request (e.g. event listener on a button click), and styles elements accordingly:&lt;/p>
&lt;div class="codeblock-hook">
 &lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>document.&lt;span style="color:#a6e22e">body&lt;/span>.&lt;span style="color:#a6e22e">classList&lt;/span>.&lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;dark&amp;#39;&lt;/span>);&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;button>copy&lt;/button>
&lt;/div>&lt;p>The problem with&lt;/p>
&lt;p>&lt;a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*#browser_compatibility">Mainstream browsers support CSS variables (i.e. custom properties) since 2016&lt;/a>, making&lt;/p></description></item><item><title>Redis Misc</title><link>https://cesun.info/db/redis/misc/</link><pubDate>Thu, 04 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/db/redis/misc/</guid><description>redis.conf The main config file on archlinux is /etc/redis/redis.conf. Different distros may differ.
Benchmark https://redis.io/topics/benchmarks
If command pipeling is enabled, a single Redis server instance can deliver 1 million QPS over a loopback TCP connection.
Simple Distributed Lock SETNX was historically used to implement inter-client (i.e. distributed) lock.
A client acquire the lock by SETNX lockname &amp;lt;cur_timestamp+lock timeout+1&amp;gt; (1); Lock owner client release the lock by DEL lockname; Other clients contending for the lock by also performing (1): This is natively a non-blocking tryLock() For client that&amp;rsquo;s willing to block for the lock, suspend the redis communication thread using application code.</description></item><item><title>GNU sed stream editor</title><link>https://cesun.info/linux/utils/sed/</link><pubDate>Wed, 03 Apr 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/utils/sed/</guid><description>The sed program is a line-based stream editor. In the big picture, it reads a line from input, applies modification if requested by script, and print the modified line to the output, and repeats until the whole input stream is consumed.
What sed Cannot sed doesn&amp;rsquo;t support Perl regex. Only POSIX BRE and ERE are available when a pattern needs to be specified; Among others, this means non-greedy matching is not possible with sed.</description></item><item><title>GLIBC UNIX User Admin APIs</title><link>https://cesun.info/linux/gnu/glibc/user/</link><pubDate>Sat, 30 Mar 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/gnu/glibc/user/</guid><description>POSIX / glibc API for consulting the system user registry. On modern Linux PC desktop this is usually the /etc/passwd file, but really that depends on the PAM module used, e.g. might be a database TCP connection or something.
Another example is android&amp;rsquo;s C runtime implementation &amp;ldquo;bionic&amp;rdquo;, which has certain numerically smaller UID (&amp;lt; AID_APP_START) predefined and hardcoded as compile time constants, while allowing numerically larger UID to be added as the system operates.</description></item><item><title>Linux Datetime API</title><link>https://cesun.info/linux/datetime-api/</link><pubDate>Tue, 26 Mar 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/datetime-api/</guid><description>&amp;ldquo;seconds/microseconds/etc. since the epoch&amp;rdquo; is approximate. See &amp;ldquo;NOTES&amp;rdquo; of man 2 time.
Types:
time_t (C99): second suseconds_t (POSIX): microseconds (10^-6 sec) struct timeval (POSIX): time_t (second) + suseconds_t (microseconds) struct timespec (C11 | POSIX): time_t (second) + long (nanosecond) struct tm (C89): for break-down time only, precision to second. The clock_*() family clockid_t: An integer type identifying a specific clock.
Each clock is said to have a precision. If a calendar time that is not a multiple of clock_settime().</description></item><item><title>The DEFLATE data format and Gzip archive format</title><link>https://cesun.info/compression/deflate-gzip/</link><pubDate>Fri, 15 Mar 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/compression/deflate-gzip/</guid><description>DEFLATE DEFLATE is a data format used to store and transmit compressed data. Specifically, it&amp;rsquo;s an abuse to refer to DEFLATE as a compression algorithm.
The DEFLATE data format was designed Phil Katz, for version 2 of his PKZIP archiving tool, and later standardized as the RFC 1951.
The most popular and de-facto standard DEFLATE library is the zlib.
Overview A DEFLATE formatted file consists of a sequence of blocks. Each block is comprised of 2 parts: a description of a Huffman tree, followed by the actual compressed data.</description></item><item><title>Userspace Printer Control</title><link>https://cesun.info/linux/utils/printer/</link><pubDate>Thu, 07 Mar 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/utils/printer/</guid><description>lpr (line printer) - 打印 lpr FILE	打印FILE。将使用默认打印机。 lpr -P NAME	指定打印机名。注意-P不带NAME参数单独使用时有别的含义。
lpstat cups (not a executable? man 1 cups) lpq - 显示打印队列状态 lprm - 取消打印任务 cancel - 取消打印任务</description></item><item><title>SQL Locking Pattern</title><link>https://cesun.info/db/mysql/patterns/</link><pubDate>Tue, 05 Mar 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/patterns/</guid><description>pessimistic locking #1 1CREATE TABLE `lock_table` ( 2 `id` BIGINT NOT NULL AUTO_INCREMENT, 3 `flag` int NOT NULL, 4 5 PRIMARY KEY (`id`), 6 CONSTRAINT UNIQUE KEY (flag) 7) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 8 9 10INSERT INTO lock_table(flag) VALUES (1) 11-- OBTAIN AUTO GENERATED KEY as x 12-- GO EXCLUSIVE BUSINESS 13DELETE FROM lock_table where id = x copy One client will succeed in inserting, while all other client will get a duplicated unique key &amp;quot;flag&amp;quot; error on insert.</description></item><item><title>x86 / x86-64 Task Management</title><link>https://cesun.info/cpu/x86/task/</link><pubDate>Tue, 27 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/task/</guid><description>The task management of x86 and x86-64 are rather symbolic. x86
task register
LTR STR Switching the CPU from executing one task to executing another can occur as the result of either an interrupt or an inter-task CALL, JMP or IRET. A hardware-recognized data structure defines each task.
GDT contains special type of descriptors known as TSS, a new register TR holds a selector to that descriptor.
The TSS format:</description></item><item><title>Overview: Xpath</title><link>https://cesun.info/web/xpath/intro/</link><pubDate>Mon, 26 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/web/xpath/intro/</guid><description>For most front / fullstack developers, the first tool coming into mind when you need locating a specific DOM Element (for further handling in javascript) is css selector. Selectors are great when you are the author of the DOM. Whichever nodes you want to select for styling, you can always pin class or even id on them, such that spelling a selector is simple enough - all because you can change the DOM at your will.</description></item><item><title>CPU Frequency Control</title><link>https://cesun.info/linux/kernel/cpufreq/</link><pubDate>Fri, 23 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/kernel/cpufreq/</guid><description>https://www.kernel.org/doc/html/v5.8/admin-guide/pm/cpufreq.html
The &amp;ldquo;cpufreq&amp;rdquo; subsystem manages the cpu frequency scaling.
It consists of three layers of code:
the core - a general framework for governors and drivers to be implemented. scaling governors - algorithms that estimate required CPU capacity and send request to driver to adjust p-state. &amp;ldquo;As a rule, each governor implements one, possibly parametrized, scaling algorithm&amp;rdquo;
scaling drivers - talk to hardware; provide a unified API to governor algorithm IMPORTANT: only one driver can registered at a time, and it&amp;rsquo;s expected to handle all CPUs available.</description></item><item><title>Linux Randomness APIs</title><link>https://cesun.info/linux/random-api/</link><pubDate>Fri, 23 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/random-api/</guid><description>C99 rand() and srand() Range: [0, RAND_MAX]
POSIX random() and srandom() Range: [0,2^31 - 1]
No standard specifies the distribution, though common implementations seems to be uniform. (don&amp;rsquo;t rely on that) credit.
POSIX rand48 family Uniform distribution random integer &amp;amp; float number generation.
&amp;ldquo;48&amp;rdquo; in those names indicates their nature of linear congruential algorithm with 48-bit modular arithmetic.
Such algorithms generate next random number sequence by recursively:
X_{n+1} = (a * X_n + c) % m copy The choice of (m, a, c) choice differs among implementations and papers.</description></item><item><title>Preprocessor</title><link>https://cesun.info/cpu/nasm/preprocessor/</link><pubDate>Sat, 17 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/nasm/preprocessor/</guid><description>%define for single-line macro %macro ... %endmacro for multi-instructions macro %define is not very useful when you need a macro that expands to multiple instructions. Use %macro for that:
%macro macro_name num_of_args [default args values] ; arguments are referred to by %1, %2, %3, etc. ; %0 expands to the number of arguments, a compile-time constant %endmacro copy where num_of_args takes the form x-y, meaning that at least x arguments must be provided</description></item><item><title>Cryptograph (unclassified)</title><link>https://cesun.info/crypto/misc/</link><pubDate>Mon, 12 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/crypto/misc/</guid><description>randomart ssh-keygen now prints an ASCII image, after the key is generated. It is safe to spread the image. The image serves as a visual fingerprint, an easier way for humans to validate keys.
There is no industrial standard on how . It&amp;rsquo;s openSSH&amp;rsquo;s own feature.
See http://www.dirk-loss.de/sshvis/drunken_bishop.pdf for an analysis.
The key fingerprint is: SHA256:ee296Fbg/INYE48cv5JxJELqUd4BIcQhXeJVwjoYPCk bitier@bite-into-reality The key&amp;#39;s randomart image is: +--[ED25519 256]--+ | ..==+*+. | | E =oo++.. | | .</description></item><item><title>Nginx Administrative Memo</title><link>https://cesun.info/microservice/nginx/admin-memo/</link><pubDate>Sat, 10 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/microservice/nginx/admin-memo/</guid><description>Run nginx instance with an alternative config minimal conf:
1daemon off; 2master_process off; 3 4pid /home/myuser/local_nginx/nginx.pid; 5 6http { 7 # ... 8 client_body_temp_path /home/cesun/local_nginx/; 9 fastcgi_temp_path /home/cesun/local_nginx/; 10 uwsgi_temp_path /home/cesun/local_nginx/; 11 scgi_temp_path /home/cesun/local_nginx/; 12 13 access_log /home/cesun/local_nginx/access.log; 14} copy Run with
1nginx -p . -c nginx.conf copy Cross-Site 1server { 2 listen 80; 3 server_name .cbs.example.com; 4 ssi on; 5 6 error_page 403 404 http://www.example.com/404.html; 7 error_page 500 502 503 504 http://www.</description></item><item><title>Redis Commands</title><link>https://cesun.info/db/redis/commands/</link><pubDate>Tue, 06 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/db/redis/commands/</guid><description>Top Level Command Remove key DEL key ...: variadic delete keys; no wildcard support
Complexity of DEL key a single key is O(M), M being the number of elements in the data structure associated with key. This means that deleting a string is O(1), but deleteing a data structure containing large number of objects (say a list of 50 million values) is slow. Given that redis is still (mainly) single-threaded epoll for now (version 6.</description></item><item><title>Redis 常见业务场景用法</title><link>https://cesun.info/db/redis/pattern/</link><pubDate>Fri, 02 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/db/redis/pattern/</guid><description>General notice: Always set TTL, unless the key is meant to be permenant. Atomic problems arise when you need more than 1 commands to set TTL, e.g. INCR + EXPIRE. Use transaction properlly. Failure to set TTL cause a key to errorneously exist forever, known as &amp;ldquo;key leak&amp;rdquo;. 限流 / 频率控制 key 粒度通常以用户 (登录态 / IP / etc&amp;hellip;) 为单位。
Quick Facts:
race condition 非常非常 容易发生 INCR 无法同时设置 expire。多条指令需考虑原子性。 除非事务，避免使用 GET + INCR，容易招来原子性问题。 If key is unset, GET key return nil (null for Java Jedis#get).</description></item><item><title>Data From Virtualized List</title><link>https://cesun.info/web/playwright/data-from-virtualized-list/</link><pubDate>Thu, 01 Feb 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/web/playwright/data-from-virtualized-list/</guid><description>Modern web design may choose to use virtual list or virtual table when displaying large amount of structured data. The central idea is to increase page rendering performance by avoid creating each node for each data item. Virtualized list keeps a few DOM nodes (most commonly &amp;lt;li&amp;gt;) only enough to fill its viewport, and change the content of those DOM nodes by inspecting location of slide of the scrollbar when scroll event is fired.</description></item><item><title>Executable and Linkable Format (ELF)</title><link>https://cesun.info/linux/elf/format/</link><pubDate>Mon, 29 Jan 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/elf/format/</guid><description>&lt;p>The &lt;em>Executable and Linkable File&lt;/em> (ELF) format is widely used by various *NIX systems, including Linux, Solaris and *BSD, as the format of object files, shared objects (equivalence of Windows&amp;rsquo; DLL) and executables. Modern Linux kernel itself is also packaged as an ELF executable before compressed as &lt;code>vmlinuz&lt;/code>.&lt;/p>
&lt;p>This article gives an overview of the ELF format.&lt;/p></description></item><item><title>Set up a development environment for GNOME software</title><link>https://cesun.info/linux/gnome/dev-env-setup/</link><pubDate>Sat, 20 Jan 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/gnome/dev-env-setup/</guid><description>In this article, we will be setting up an development environment for GNOME software in this article. Such an environment is a good starting point if you want to become a contributor to the GNOME community, or do source code analysis on GTK/GIO/GLIB-based software.
We will end up with a GNOME infrastructure in the form of shared objects that
are built from the latest git commits; are debugging-friendly: rich in debugging information with un-optimized directives and variables depend on each other instead of on any OS stock gnome library release.</description></item><item><title>The clang-format Formatter</title><link>https://cesun.info/cxx/clang/clang-format/</link><pubDate>Thu, 18 Jan 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/clang/clang-format/</guid><description>1clang-format [options] &amp;lt;source files ...&amp;gt; copy Supported coding style preset: LLVM, GNU, Google, Chromium, Microsoft, Mozilla, WebKit
ClangFormat respects a collection of format options, whose fallback values are specified by --fallback-style= options, which defaults to LLVM.
These format options are further overridden depending on the value of --style= CLI option, which defaults to file if omitted:
file: file .clang-format is searched in the containing directories of each given &amp;lt;source files&amp;gt;.</description></item><item><title>Install an AUR package that depends on another AUR package</title><link>https://cesun.info/linux/distro/archlinux/aur-depends-on-aur/</link><pubDate>Mon, 15 Jan 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/distro/archlinux/aur-depends-on-aur/</guid><description>Most AUR packages depend only on packages in the official repository. Installing such AUR packages requires only cloning its repository followed by invoking makepkg -si there.
It&amp;rsquo;s thus often ignored that makepkg in its essence is simply a packaging program that generates archives understood by pacman, where the actual installation is performed. The PKGBUILD file of an AUR package documents its required dependencies, and makepkg, when producing the archive, balks if any of them is not already installed on the system via pacman.</description></item><item><title>SFINAE, aghhhh</title><link>https://cesun.info/cxx/lang/template/sfinae/</link><pubDate>Sun, 14 Jan 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/sfinae/</guid><description>&lt;h2 id="plain-function-overloads-in-a-world-without-template">plain function overloads in a world without template&lt;/h2>
&lt;p>In a world without template, When a function call expression (as described in&lt;code>[expr.call]&lt;/code>) is encountered,
compiler performs 2 steps to eventually determine which function to call.&lt;/p></description></item><item><title>Go Language Memo / Features</title><link>https://cesun.info/go/lang/</link><pubDate>Fri, 05 Jan 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/go/lang/</guid><description>package main can&amp;rsquo;t be import by other packages If you use the flag package to parse CLI arguments in package main, you may want to save the result as a global struct;
This can be a problem because main can&amp;rsquo;t be imported, thus the global struct can&amp;rsquo;t be accessed by other package.
https://stackoverflow.com/questions/44420826/access-main-package-from-other-package
10 things you (probably) don&amp;rsquo;t know about Go https://talks.golang.org/2012/10things.slide#1
short variable declaration shadowing short variable declaration is still variable declaration; It shadows variable of the same name in outer scope.</description></item><item><title>Path to Adaptive CSS</title><link>https://cesun.info/web/css/adaptive-css/</link><pubDate>Wed, 03 Jan 2024 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/adaptive-css/</guid><description>This article discusses common techniques for implementing webpages that are comfortably rendered on both PC and mobile devices.
Prevent columns from getting too narrow A common need is to keep your text in the horizontal center and occupies roughly 40% to 60% of the viewport.
Some Width-related media query can be equivalently achieved by a smart combination of width/max-width and min-width:
1main { 2 max-width: 60%; 3 margin: 160px auto; 4 flex: 1; 5} 6 7@media (max-width: 600px) { 8 main { 9 max-width: 80%; 10 } 11} copy 1main { 2 max-width: 60%; 3 min-width: 480px; 4 margin: 160px auto; 5 flex: 1; 6} copy 1.</description></item><item><title>Make - Performance Consideration</title><link>https://cesun.info/cxx/make/performance/</link><pubDate>Sun, 31 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/make/performance/</guid><description>prevent useless rules from getting into the intermediate form 1 2# figure out when it&amp;#39;s necessary to active certain rule 3# and guard heavy rules with the variable 4 5ifdef may-sync-config 6 7# a heavy rule that depends on more than 1500 files 8# unconditionally have this rule will cause make to `stat` each dependency files 9heavy_rule: foo bar ... 10 11# or put in an separate file for clarity 12include include/config/auto.</description></item><item><title>DOM / Script Loading Order</title><link>https://cesun.info/web/page-loading-order/</link><pubDate>Sat, 30 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/web/page-loading-order/</guid><description>&amp;lt;script defer&amp;gt; &amp;lt;script async&amp;gt; &amp;lt;script type=&amp;quot;module&amp;quot;&amp;gt; are always executed asynchronously 1&amp;lt;!DOCTYPE html&amp;gt; 2&amp;lt;html lang=&amp;#34;en&amp;#34;&amp;gt; 3 4&amp;lt;head&amp;gt; 5 &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; 6 &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&amp;gt; 7 &amp;lt;title&amp;gt;Checkbox Event Listener&amp;lt;/title&amp;gt; 8&amp;lt;/head&amp;gt; 9 10&amp;lt;body&amp;gt; 11 &amp;lt;script&amp;gt; 12 console.log(document.querySelector(&amp;#39;#findme&amp;#39;)); // null 13 &amp;lt;/script&amp;gt; 14 15 &amp;lt;script type=&amp;#34;module&amp;#34;&amp;gt; 16 console.log(document.querySelector(&amp;#39;#findme&amp;#39;)); // the &amp;lt;p&amp;gt; located 17 &amp;lt;/script&amp;gt; 18 19 &amp;lt;p id=&amp;#34;findme&amp;#34;&amp;gt;Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eos, earum harum, amet ut perspiciatis 20 voluptatibus voluptatem accusamus sed et consequatur beatae cumque repudiandae, id vero?</description></item><item><title>Maven Usage</title><link>https://cesun.info/java/maven/</link><pubDate>Sat, 30 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/maven/</guid><description>The design of Maven can be summarized as:
A lifecycle is an order list of phases
A phase can be invoked on the CLI by mvn &amp;lt;phase&amp;gt;, which will execute all previous phases in the same lifecycle before executing that specified phase.
Maven plugins provide goals, and goals can be bound to a phase.
To use a plugin, put &amp;lt;plugin&amp;gt; in project&amp;gt;build&amp;gt;plugins. (not project&amp;gt;build&amp;gt;pluginManagement&amp;gt;plugins!)
Executing a phase is to execute all goals bound to that phase</description></item><item><title>Mybatis Memo</title><link>https://cesun.info/java/mybatis-misc/</link><pubDate>Sat, 30 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/mybatis-misc/</guid><description>jdbcType is not necessary in mybatis mapper The JDBC type is only required for nullable columns upon insert, update or delete. This is a JDBC requirement, not a MyBatis one. So even if you were coding JDBC directly, you&amp;rsquo;d need to specify this type – but only for nullable values.
https://stackoverflow.com/questions/18645820/is-jdbctype-necessary-in-a-mybatis-mapper
Get the AUTO_INCREMENT Generated Primary Key 希望在PK自增的表里插入一行，并拿到这个由SQL生成的自增PK，不需要插完了再查；只需要：
1&amp;lt;insert id=&amp;#34;insertSelective&amp;#34; parameterType=&amp;#34;com.haiziwang.lark.common.domain.po.task.TaskInfoPo&amp;#34; keyProperty=&amp;#34;id&amp;#34; useGeneratedKeys=&amp;#34;true&amp;#34;&amp;gt; 2 insert into task_info 3 ... 4&amp;lt;/insert&amp;gt; copy 1TaskInfoPo taskInfoPo = new TaskInfoPo(); 2//taskInfoPo.</description></item><item><title>SLF4J and Backends</title><link>https://cesun.info/java/slf4j/</link><pubDate>Sat, 30 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/slf4j/</guid><description>SLF4j org.slf4j:slf4j-api provides APIs directly used by end user.
For each facaded logging framework, an adapter package, known as the &amp;ldquo;SLF4J binding&amp;rdquo;, is required to present on the classpath (and discovered later via SPI). If no one is found, slf4j defaults to a no-op implementation and emit a warning to stderr.
Do not place more than one binding on your (runtime) class path.
and here goes the chaos:
org.slf4j:slf4j-log4j12, maintained by slf4j, was the binding for log4j &amp;lt;= 1.</description></item><item><title>Using Apache Log4j2</title><link>https://cesun.info/java/log4j2/</link><pubDate>Sat, 30 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/log4j2/</guid><description>The setup:
Support different Log destination: console / file / mongo / sql / message queue / &amp;hellip; Log format: raw text / CVS / MS xlsx / HTML / &amp;hellip; Log file rolling by day / max file size. Configurable log line pattern: timestamp, line number, reporting class / method, etc. Reusable configuration unit. Hierarchical LoggerConfig and &amp;ldquo;Additivity&amp;rdquo; In log4j2, the one and only hierarchical relationship exists among org.apache.logging.log4j.core.config.LoggerConfig instances, established via the private LoggerConfig parent field.</description></item><item><title>CSS properties cheatsheet</title><link>https://cesun.info/web/css/property-cheatsheet/</link><pubDate>Wed, 27 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/property-cheatsheet/</guid><description>display The display property determines both
the outer display type, i.e how this element participates in the document flow; and the inner display type, i.e. how children of this element is arranged. Formally, a display set the following
&amp;lt;display&amp;gt;: &amp;lt;display-outside&amp;gt; &amp;lt;display-inside&amp;gt; &amp;lt;display-listitem&amp;gt; copy However, display is not a shorthand property for others.
display value outer display type inner display type (default) block flow</description></item><item><title>JDK `ExecutorService` and Thread Pool</title><link>https://cesun.info/java/jdk/concurrent/thread-pool/</link><pubDate>Sat, 23 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/jdk/concurrent/thread-pool/</guid><description>&lt;p>Despite its being a JDK stock utility, the &lt;code>java.util.concurrent.Executor&lt;/code> hierarchy since Java 1.5 is a fairly good thread pool implementation.&lt;/p></description></item><item><title>Overview: x86 CPU Models</title><link>https://cesun.info/cpu/x86/models/</link><pubDate>Sat, 23 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/models/</guid><description>x86 CPU model-specific information, PIN assignment, clock, bus interface, etc.
Intel 8086 and 8088 Intel 8086 and 8088 differ only in the width of the memory data bus (thus pin assignment). 8086 has 20 address pins among which 16 are multiplexed as data pins; 8088 has also 20 address pins but only 8 are also data.
In almost every other respect the processors are identical; software written for one CPU will execute on the other without alteration.</description></item><item><title>Spell That Declaration Correctly!</title><link>https://cesun.info/cxx/lang/cdecl/</link><pubDate>Fri, 22 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/cdecl/</guid><description>Don&amp;rsquo;t mix pointers and non-pointers in the same declaration 1// do 2int *ptr_a, *ptr_b; 3int c; 4 5// don&amp;#39;t 6int* ptr_a, b; copy pointer to const vs. const pointer 1const int *ptr_a;	// pointer to const 2int *const ptr_b;	// const pointer; Recommended: asterisk preceeds const immediately copy a pointer to array vs. array of pointers 1int (*ptr_to_arr)[42]; // Pointer to an array 2int *ptr_arr[42]; // Array of pointers. copy 2d Array on Heap 1/** 2 * @brief 2D array malloc with compilation-time known size.</description></item><item><title>Memory Chip MISC</title><link>https://cesun.info/ee/misc/</link><pubDate>Thu, 21 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/ee/misc/</guid><description>Data Strobe Encoding To transmit binary bit sequence in a synchronous circuit, one can use a single serial line data, e.g. sampled at the up edge of clock. Data strobe encoding does the same with an extra line strobe, and provide jitter tolerance and clock recovery.
data as before is trasmitted as-is. Level of strobe is flipped only if 2 consecutive data bits are the same. consequence:
data can be verified by looking at strobe data XOR strobe recovers the clock square wave Surface-mount technology (SMT) The technique to install chips on the surface of a PCB, instead of the old way (known as through-hole technology) of penetrating the PCB for holes with metal contacts.</description></item><item><title>MongoDB (misc)</title><link>https://cesun.info/db/mongo/</link><pubDate>Sat, 16 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mongo/</guid><description>View view is read-only aggregate of collections or other views. view is not cached on disk; each query against a view is computed online everytime. more fields can be added to a view based on the result of computation of old fields from collections/other views.</description></item><item><title>Enum Implements Interfaces</title><link>https://cesun.info/java/lang/fancy-enum/</link><pubDate>Tue, 12 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/lang/fancy-enum/</guid><description>&lt;p>&lt;code>enum&lt;/code> in Java is a syntax sugar of &lt;code>class ... extends Enum&amp;lt;&amp;gt;&lt;/code>.
It shouldn&amp;rsquo;t be surprising that it can thus implement interfaces.
This article discusses some less-known consequences of that.&lt;/p></description></item><item><title>Memo: Effective Modern C++ (Scott Meyers)</title><link>https://cesun.info/cxx/effective-modern-cxx/</link><pubDate>Sun, 10 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/effective-modern-cxx/</guid><description>&lt;p>This is a memorandum on my walk through the Effective C++.
Most of these were written in Fall, 2020.&lt;/p></description></item><item><title>Introduction to Java 9 Module</title><link>https://cesun.info/java/lang/java9-module/</link><pubDate>Thu, 07 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/lang/java9-module/</guid><description>&lt;p>Java 9 introduced a modularization system and used it to modularize the JDK itself.
This article aims to provide all the information necessary for a Java developer to work with the module system.&lt;/p>
&lt;p>We will first pretend Java 9 is a new language where modules are the only development paradigm.
After a quick demonstration of the module workflow, we&amp;rsquo;ll discuss how module works in detail, and introducing the mechanics underneath.
Finally, we&amp;rsquo;ll take a step back to the reality and discuss how non-module legacy Java 8 codes are handled by the Java 9 toolchains.&lt;/p></description></item><item><title>Memorandum: Transistors</title><link>https://cesun.info/ee/transistors/</link><pubDate>Thu, 07 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/ee/transistors/</guid><description>A transistor is just a variable resistor whose resistance is adjustable not by hand but by electricity.
A transistor is any device with 3 (or more - see below) terminals where the voltage (thus current) between one pair of terminals controls the current (thus effective resistance) flowing through another pair of terminals. This nice controllability allows a transistor to be used as a switch of current, turned on and off also by electricity.</description></item><item><title>Elastic Search (MISC)</title><link>https://cesun.info/db/elastic/</link><pubDate>Mon, 04 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/elastic/</guid><description>Glossary node: a physical deployment of Elasticsearch on a single machine (or docker/VM deplyment) shard: a part of data consists of an logical index; You can have multiple shards, each belongs to different index, deployed on a single node. Excerpt It’s often useful to index the same field in different ways for different purposes. For example, you might want to index a string field as both a text field for full-text search and as a keyword field for sorting or aggregating your data.</description></item><item><title>Linux Control Group V2 (cgroup2)</title><link>https://cesun.info/linux/kernel/cgroupv2/</link><pubDate>Fri, 01 Dec 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/kernel/cgroupv2/</guid><description>&lt;p>This article gives an introduction to cgroup.&lt;/p>
&lt;p>The Control Group (cgroup) is a feature of the Linux kernel that allows organizing arbitrary processes into groups such that restrictions on resources can be imposed in terms of that group by an administrator, and statistics are collected in terms of that group. Windows Desktop currently doesn&amp;rsquo;t have such a feature.&lt;/p></description></item><item><title>Tomcat Startup Analysis</title><link>https://cesun.info/java/servlet/tomcat-startup-analysis/</link><pubDate>Mon, 27 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/servlet/tomcat-startup-analysis/</guid><description>This is a quick guide for those who are interested in studying the source code of Tomcat.
The startup of a Tomcat instance is characterized by the instantiation of an interface org.apache.catalina.Server instance, whose only implementation is org.apache.catalina.core.StandardServer. In current practice this is done during 2
When Tomcat started by being called as a library jar (so-called embedded Tomcat), the Server instance is created in org.apache.catalina.startup.Tomcat#getServer, where the the StandardServer constructor is simply called.</description></item><item><title>GNU CPP: the C/C++ Preprocessor</title><link>https://cesun.info/cxx/lang/preprocessor/</link><pubDate>Sat, 25 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/preprocessor/</guid><description>&lt;p>GCC C/C++ shares the same preprocessor program &lt;code>cpp&lt;/code>. Several of its primary functionalities are discussed.&lt;/p></description></item><item><title>C++ Initialization Types</title><link>https://cesun.info/cxx/lang/init/</link><pubDate>Thu, 23 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/init/</guid><description>&lt;p>Initialization in C++ happens&lt;/p>
&lt;ol>
&lt;li>as an optional part of a variable declaration that gives it an initial value.&lt;/li>
&lt;li>when an expression as a function argument is bound to a function parameter&lt;/li>
&lt;li>when an expression after function &lt;code>return&lt;/code> is bound to the returned entity (received by caller or not)&lt;/li>
&lt;/ol>
&lt;p>The latter 2 can be equivalently viewed as a variable declaration with &lt;code>initializer&lt;/code> in an obvious way.
We&amp;rsquo;ll be focusing on the first scenario, which is the only hard part.&lt;/p>
&lt;p>This article discusses various initialization syntax and their behavior in terms of C++ specification.
A comparison with C is given.&lt;/p></description></item><item><title>C++ STL Container &amp; Iterator</title><link>https://cesun.info/cxx/std/container/</link><pubDate>Thu, 23 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/std/container/</guid><description>C++ specification leaves the implementation of STL iterators to be vendor-defined.
1template&amp;lt;class T, class Allocator = allocator&amp;lt;T&amp;gt;&amp;gt; 2class vector { 3 using iterator = implementation-defined ; 4 using const_iterator = implementation-defined ; 5} copy vector over list https://stackoverflow.com/questions/2209224/vector-vs-list-in-stl#comment20988862_2209233 https://www.stroustrup.com/bs_faq.html#list
Bjarne Strostrup actually made a test where he generated random numbers and then added them to a list and a vector respectively. The insertions were made so that the list/vector was ordered at all times.</description></item><item><title>WWW Fonts</title><link>https://cesun.info/web/css/fonts/</link><pubDate>Thu, 23 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/fonts/</guid><description>A typeface, a.k.a font family, is the unit of font design and distribution.
A font family consists of a few fonts, each
regular version, a Bold version, an Italic version, and a Bold Italic version.
A glyph is
Helvetica&amp;quot; is a typeface, and &amp;ldquo;Helvetica Bold&amp;rdquo; is a font
Usually the font size is
font-family property The CSS font-family property stipulates an ordered, comma-separated list of &amp;lt;generic-name&amp;gt; or &amp;lt;family-name&amp;gt; (other than the single-keyword global values applicable to all CSS properties).</description></item><item><title>Introduction to Huffman Coding</title><link>https://cesun.info/compression/huffman/</link><pubDate>Sat, 18 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/compression/huffman/</guid><description>A Primer on the Coding Theory An alphabet is a set of symbols, e,g. {a,b,c,d,e}, or whatever symbols you like.
A code on a given alphabet (abbr. code) is an assignment of a bit string to each symbol in the alphabet:
e.g.
{ a -&amp;gt; 1 , b -&amp;gt; 011 , c -&amp;gt; 01110 , d -&amp;gt; 1110 , e -&amp;gt; 10011 } copy The bit string assigned to each symbol (i.</description></item><item><title>TLS Certificates</title><link>https://cesun.info/crypto/tls-certificates/</link><pubDate>Sat, 18 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/crypto/tls-certificates/</guid><description>The ASN.1 / DER / PEM / PKCS#7 ASN.1 is a DSL used to define structured data type formally. The
ASN.1 doesn&amp;rsquo;t specify how an instance of structured data type gets serialized.
e.g. is an integer always 4 bytes? Or is it arbitrarily long length-prefixed byte sequence? This is where various *encoding rules* comes in. Distinguished Encoding Rules (DER): TODO PEM: a file format (conventionally named *.pem when stored on filesystem) defined as a sequence of text block, where each block is the base64 result of a single DER-encoded instance of ASN.</description></item><item><title>MySQL MISC</title><link>https://cesun.info/db/mysql/misc/</link><pubDate>Wed, 15 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/misc/</guid><description>test null json 1select * from lark.task_detail where task_id = 100329 and task_resource = CAST(&amp;#39;null&amp;#39; as JSON); copy Limits Max # of indexes per table is 64. Max index width for InnoDB table is 767 or 3072 bytes. Max # of columns per table is 4096, but almost always we can&amp;rsquo;t reach that number, since other factors are also limiting the # of columns per table. User User At its simplest form, create a user with no password and no privileges:</description></item><item><title>Memorandum on C++ Specification</title><link>https://cesun.info/cxx/lang/spec/</link><pubDate>Tue, 14 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/spec/</guid><description>Named Requirements Pre-C++20 versions lack the syntatic expressiveness to put explicit restriction on type template argument. A template parameter takes whatever arguments provided, and the compiler doesn&amp;rsquo;t complain until the instantiation makes an ill-formed program (including static_assert failure), i.e. compile-time duck typing.
When standard text needs to describe certain contract on template arguments with user programmer, the word named requirement is coined to refer to such contract. Examples are
std::find_if can be instantiated with whatever (deduced) type argument, but you get an ill-formed instantiation unless the first and second argument Since C++20,</description></item><item><title>ArchLinux Pacman Cheatsheet</title><link>https://cesun.info/linux/distro/archlinux/pacman-cheatsheet/</link><pubDate>Thu, 09 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/distro/archlinux/pacman-cheatsheet/</guid><description>-Q mode: Query Local installed packages -s is shorthand for --search.
regex search for locally installed packages (over pkg name and description) 1pacman -Q --search &amp;#39;REGEX&amp;#39; 2pacman -Qs &amp;#39;REGEX&amp;#39; copy list all files from a locally installed package 1pacman -Q --list &amp;#39;PKG_NAME&amp;#39; 2pacman -Ql &amp;#39;PKG_NAME&amp;#39; copy -S mode: Operation on the sync index -s is shorthand for --search.
regex search for remote packages 1pacman -S --search &amp;#39;REGEX&amp;#39; 2pacman -Ss &amp;#39;REGEX&amp;#39; copy Install -R mode: removal -s is shorthand for --recursive.</description></item><item><title>JavaScript Modularization</title><link>https://cesun.info/web/js/modularization/</link><pubDate>Thu, 09 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/web/js/modularization/</guid><description/></item><item><title>Member templates</title><link>https://cesun.info/cxx/lang/template/member-template/</link><pubDate>Thu, 09 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/member-template/</guid><description>A member template is a function / class / variable / alias template that appears inside the member-specification of the class (i.e. class body).
All instantiations of member templates have equal member access as their non-template counterparts. The static semantics applies normally. Member templates are different creatures than other members, in that their code is compiled at client side (or for metaprogramming code, evaluated at client&amp;rsquo;s compiler).
Class members are fixed once library author released the binaries and headers.</description></item><item><title>Memo: Java Datetime-Related SDK</title><link>https://cesun.info/java/jdk/time/</link><pubDate>Thu, 09 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/jdk/time/</guid><description>&lt;p>Datetime-related SDKs.&lt;/p></description></item><item><title>Memo: using `java.util` Collections</title><link>https://cesun.info/java/jdk/collection/</link><pubDate>Thu, 09 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/jdk/collection/</guid><description>null key in java.util.Map Map.put doesn&amp;rsquo;t &amp;ldquo;throws&amp;rdquo; checked exception, but runtime exceptions e.g. NPE may be thrown depending on whether the underlying implementation supports null as key.
TreeMap doesn&amp;rsquo;t support null key, since it&amp;rsquo;s red-black tree based on comparison. Compare null with non-null reference doesn&amp;rsquo;t make much sense.
1public class App5 { 2 public static void main(String[] args) { 3 Map&amp;lt;String, String&amp;gt; m =new HashMap&amp;lt;&amp;gt;(); 4 m.put(null, &amp;#34;123&amp;#34;); // HashMap supports null key as if it hash to 0 5 System.</description></item><item><title>The CSS Box Model</title><link>https://cesun.info/web/css/box/</link><pubDate>Wed, 01 Nov 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/box/</guid><description>Whether the border is in the box For an HTML element whose size is computed or specified by the height and width,
The box-sizing property determines whether the border is within or exterior to the height-width box.
1box-sizing: border-box; /* border within */ 2box-sizing: content-box; /* border out */ copy Choice of box-sizing can be insignificant if the element has no border or very thin border (say 1px). But the difference becomes visible as soon as you are working with border thickness of 3px or more.</description></item><item><title>BIND9 (Berkeley Internet Name Domain Server) Configs</title><link>https://cesun.info/net/dns/bind/</link><pubDate>Sat, 28 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/net/dns/bind/</guid><description>Install the package from https://www.isc.org/software/bind/ or check the package manager of your Linux distro.
run the name server Run the named executable to start the name server.
For a test / debug launch, use -g flags
named by default turn itself into a background daemon; Use -f to prevent its disattachment and receive signals.
configs named upon its start up reads /etc/named.conf as the main config file.
options { directory &amp;#34;/var/named&amp;#34;; // the working directory contains zone files etc.</description></item><item><title>Descriptor Tables, Descriptors, and Selectors</title><link>https://cesun.info/cpu/x86/descriptors/</link><pubDate>Mon, 23 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/descriptors/</guid><description>Descriptor tables are memory-resident data structures understood and manipulated directly by the x86/x86-64 CPUs. Such structures are used in both x86 protected mode and AMD64 Long mode.
This article serves as a reference to descriptor tables and descriptors, without going into too much detail on how they are used to implement various features of the CPU. Please see links to feature-specific articles for such details.
Descriptor tables A descriptor table is a list of items, each known as a descriptor.</description></item><item><title>Zlib and DEFLATE: A Top-Down Introduction</title><link>https://cesun.info/compression/zlib/</link><pubDate>Mon, 23 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/compression/zlib/</guid><description>Zlib was authored by Jean-loup Gailly (compression) and Mark Adler (decompression).
Jean-loup is also the primary author of the compression routines of gzip and Info-ZIP&amp;rsquo;s Zip. Mark is also the author of the decompression routines of gzip and Info-ZIP&amp;rsquo;s UnZip. 1# ls -l /usr/lib/libz.* 2-rw-r--r-- 1 root root 130742 Oct 25 08:55 /usr/lib/libz.a 3lrwxrwxrwx 1 root root 11 Oct 25 08:55 /usr/lib/libz.so -&amp;gt; libz.so.1.3 4lrwxrwxrwx 1 root root 11 Oct 25 08:55 /usr/lib/libz.</description></item><item><title>x86 Architectural and Model Registers</title><link>https://cesun.info/cpu/x86/registers/</link><pubDate>Sat, 21 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/registers/</guid><description>bit index mnemonics name description 9 IF Interrupt-Enabled Flag These 2 flags are 14 NF Nested Task 16 RF Resume Task 8 TF Trap Flag 17 VM Virtual 8086 Mode &amp;lt;/tbody&amp;gt; General Purpose Registers In 32-bit protected mode: EAX, EBX, ECX, EDX, EBP, ESP, ESI, and EDI.
The Flags Register EFLAGS This is a 32-bit register even for the AMD64 machine.
The following bits in the flag register are updated by most arithemtic operations unless otherwise noted:</description></item><item><title>Memo: Effective C++ (Scott Meyers, 2006)</title><link>https://cesun.info/cxx/effective-cxx/</link><pubDate>Fri, 20 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/effective-cxx/</guid><description>&lt;p>This is a memorandum on my walk through the Effective C++.
Most of these were written in Fall, 2020.
Sections that don&amp;rsquo;t hold anymore for new C++11 and later are removed.&lt;/p></description></item><item><title>Weak Symbol &amp; Global Symbol Interpolation in ELF</title><link>https://cesun.info/linux/elf/symbols/</link><pubDate>Wed, 18 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/elf/symbols/</guid><description>This article explains how the STB_WEAK value of ST_BIND how such a symbol works.
for static linked objects During the static linking stage:
multiple global (a.k.a strong) symbols of the same name during the causes a multiple definition error. a unique global symbol and one or more weak symbol(s) of the same name, the definition of the global symbol is used mroe weak symbol(s) of the same name and no global symbol, the first weak symbol definition appear in the ordered input to the linker win.</description></item><item><title>A history of login password management: the shadow suite, glibc, and libxcrypt</title><link>https://cesun.info/linux/shadow-and-glibc/</link><pubDate>Tue, 17 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/shadow-and-glibc/</guid><description>Linux was born in 1991. By the year of 1996, most Linux distros (including Slackware 2.3, Slackware 3.0, and other popular distributions) stored user information including passwords in the /etc/passwd file. This is a line-oriented text file where each line consists of colon-separated columns. The second column stores a crypto hash of the user password obtained from a char *crypt(const char *key, const char *salt); call.
This function dates back to the ages of Research UNIX.</description></item><item><title>Memo: diff(1) and patch(1) utilities</title><link>https://cesun.info/linux/diff-n-patch/</link><pubDate>Tue, 17 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/diff-n-patch/</guid><description>The diff program is useful for comparing the difference of 2 files and generating a strictly formatted text report of the difference. Comparing 2 directories, defined by recursively comparing corresponding files with the same path, is supported. This is extremely useful for managing and releasing new versions of software in an incremental way before the widespread of source version control software like git. For example, early versions of glibc (1.01 to 1.</description></item><item><title>LZ77</title><link>https://cesun.info/compression/lz-family/lz77/</link><pubDate>Fri, 13 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/compression/lz-family/lz77/</guid><description>I recently went through the original paper of LZ77 so it might be a good chance to put down some synopsis and ideas.
LZ77 was proposed in an age when compression algorithms are studied in the name of encoding and decoding processes. Terminologies were aligned with the classic coding theory. See []
The vanilla Ziv Lempel 1977 The following discussion uses notations from the lz77 paper in best effort. Some definitions are re-phrased.</description></item><item><title>MySQL Charset and Collation</title><link>https://cesun.info/db/mysql/locale/</link><pubDate>Wed, 11 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/locale/</guid><description>Character Set (charset) and Collations https://dev.mysql.com/doc/refman/8.0/en/charset-general.html
Mind the terminology abuse: &amp;ldquo;character set&amp;rdquo; or &amp;ldquo;charset&amp;rdquo; here is actually &amp;ldquo;encoding&amp;rdquo; in common sense. e.g. utf8 is said to be a charset here in MySQL, but in unicode terms &amp;ldquo;Unicode&amp;rdquo; is a charset and &amp;ldquo;utf8&amp;rdquo; is a encoding of Unicode.
A character set is a set of characters, while a collation is the rules for comparing and sorting a particular character set. A character set can have many collations associated with it, while each collation is only associated with one character set.</description></item><item><title>Overview of C++ Template</title><link>https://cesun.info/cxx/lang/template/overview/</link><pubDate>Wed, 11 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/overview/</guid><description>&lt;p>Essentially, the template system in C++ is an advanced macro processor.
Arbitrary textual program sources can be generated via the instantiation of a template.
Depending on the role of the generated construct, there are&lt;/p></description></item><item><title>Specification Makers in Cryptography</title><link>https://cesun.info/crypto/specs/</link><pubDate>Wed, 11 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/crypto/specs/</guid><description>ITU-T and X.* ITU (International Telecommunication Union ) is a United Nations affiliated organization.
ITU-T (ITU Telecommunication Standardization Sector) is one if ITU&amp;rsquo;s 3 sub-departments that works on standardization of telecommunications.
ITU-T is further divided into study groups from SG2 to SG20. Those study groups release standard specifications (they call &amp;ldquo;recommendations&amp;rdquo;) identified by &amp;lt;letter&amp;gt;.&amp;lt;number&amp;gt;. For example X means Data networks, open system communications and security, and X.509 identifies a specific document in X series.</description></item><item><title>Go Template Revisited</title><link>https://cesun.info/go/template/</link><pubDate>Mon, 09 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/go/template/</guid><description>This article is a paraphrase of the text/template package documentation since I find its narration structure chaotic and unintuitive. New users of the Go template system may find this article easier to begin with.
The idea of all template systems is to replace placeholders in a large chunk of text with corresponding values determined at run time.
template file A go template file (usually with extension .gotmpl or simply .html) is a text file consisting of actions and non-action text.</description></item><item><title>Overview: The Class Construct</title><link>https://cesun.info/cxx/lang/class/</link><pubDate>Fri, 06 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/class/</guid><description>constructor Within a class member specification, the declaration of a non-static, non-template member function is a constructor declaration if
1struct S { 2 S(); // declares the constructor 3}; 4 5S::S() { } // defines the constructor copy The constructor is considered a function with no name.
Special Member Functions (SMF) (c++20 11.4.3.1) A class have
at most 1 default constructor, at most 1 copy constructor, at most 1 move constructor, at most 1 copy assignment operator, at most 1 move assignment operator, and prospective destructors all of which are known as special member functions of that class.</description></item><item><title>Value Category and Move Semantics</title><link>https://cesun.info/cxx/lang/move/</link><pubDate>Fri, 06 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/move/</guid><description>Value category is a property of an expression. Prior to C++11, the specification only identifies 2 value categories:
lvalue: roughly means expressions that can appear on the left-hand side of assignment operator =
rvalue: roughly means expressions that cannot
As a special case, all function calls in C are rvalue, thus puts(&amp;quot;foo&amp;quot;) = 42 is illegal. But the introduction of reference in C++ breaks the game, foo() = 42 is valid if foo returns a non-const reference.</description></item><item><title>OpenSSL Suite</title><link>https://cesun.info/crypto/openssl/</link><pubDate>Tue, 03 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/crypto/openssl/</guid><description>Glossary Cipher: (for symmetric enc/dec) one block cipher + one mode of operation. e.g. aes-256-cbc.
Cheetsheet Symmetric Enc / Dec 1# enc 2openssl enc -&amp;lt;CIPHER&amp;gt; -pbkdf2 -in &amp;lt;PLAINTEXT_FILE&amp;gt; -out &amp;lt;CIPHERTEXT_FILE&amp;gt; 3 4# dec 5openssl enc -d -&amp;lt;CIPHER&amp;gt; -pbkdf2 -in &amp;lt;CIPHERTEXT_FILE&amp;gt; -out &amp;lt;PLAINTEXT_FILE&amp;gt; copy For a list of supported &amp;lt;CIPHER&amp;gt;:
1# openssl enc -list 2Supported ciphers: 3-aes-128-cbc -aes-128-cfb -aes-128-cfb1 4-aes-128-cfb8 -aes-128-ctr -aes-128-ecb 5-aes-128-ofb -aes-192-cbc -aes-192-cfb 6# etc. copy PK Cert self-sign openssl req -x509 -newkey rsa:2048 -keyout key.</description></item><item><title>CSS Administrative Considerations: Modules and Levels</title><link>https://cesun.info/web/css/std/</link><pubDate>Mon, 02 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/std/</guid><description>CSS Levels and Modules The World Wide Web Consortium (W3C) was founded in 1994. The primary duty of the W3C is to develop technical specifications for HTML5, CSS, SVG, WOFF, the Semantic Web stack, XML, and other technologies.
The original plan for CSS in 1994 - 1995 was to create a feature-rich, but temporary typographical specification language that was good enough for up to 10 years. W3C hoped to observe the reception from the industry and use such an experience to devise the next-generation typography language.</description></item><item><title>Primer Cryptography Math</title><link>https://cesun.info/crypto/math-primer/</link><pubDate>Mon, 02 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/crypto/math-primer/</guid><description>Glossary domain: set of possible function input.
range: set of actual output of function, i.e. &amp;lt;range&amp;gt; := {T(x) for all x in domain}
codomain
This term is commonly used in 2 context:
when you want to emphasize the dimensionality of the output space. e.g. we say T(x) = 0 is an R -&amp;gt; R transformation. We say the codomain is R to emphasize the fact that we are not mapping to a 2D vector space, etc.</description></item><item><title>Process Management CLI Utils</title><link>https://cesun.info/linux/utils/process/</link><pubDate>Mon, 02 Oct 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/utils/process/</guid><description>pgrep/ pwait / pkill from procps-ng These 3 tools support rich condition search on processes.
pwait/pkill by pid is not supported.
pgrep pgrep always prints a delimiter-separated (configurable by -d) list of pid.
Selectors are always logically intersected, i.e. all must match. List supplied to a single selector are always unioned. Use -v to negate the whole selector combination. 1# select processes whose EUID=1000, AND processes whose cmd name is exactly &amp;#39;code&amp;#39; 2pgrep -u 1000 -x code copy ps from procps-ng ps suffers from the curse of compatibility for multiple historical implementations.</description></item><item><title>ELF Linker Script</title><link>https://cesun.info/linux/elf/ld-script/</link><pubDate>Fri, 29 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/elf/ld-script/</guid><description>On some Linux distro the famous /usr/lib/libc.so is a plain text file:
/* GNU ld script Use the shared library, but some functions are only in the static library, so try that secondarily. */ OUTPUT_FORMAT(elf64-x86-64) GROUP ( /usr/lib/libc.so.6 /usr/lib/libc_nonshared.a AS_NEEDED ( /usr/lib/ld-linux-x86-64.so.2 ) ) copy</description></item><item><title>x86 Privilege Model</title><link>https://cesun.info/cpu/x86/privilege/</link><pubDate>Fri, 29 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/privilege/</guid><description>This article introduces the privilege mode of x86, characterized by the Ring 0 - 3 division of privilege levels of task.
During the run of a task, the Current Privilege Level (CPL) of the task is given by the least significant two bits of the CS register. checking DPL in the access byte of code segment descriptor loading a new value into the CS register checking DPL in the access byte of data segment descriptor Lower ring code can&amp;rsquo;t access higher ring&amp;rsquo;s code and data.</description></item><item><title>MEMO: C++ Core Guidelines (CCG)</title><link>https://cesun.info/cxx/ccg/</link><pubDate>Wed, 27 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/ccg/</guid><description>https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines
C.20: If you can avoid defining default operations, do. rule of zero:
Make a clear separation in mind between (1) resource-managing class, a.k.a (not precise, but) RAII class and (2) everything else (e.g. business related class) (1) should having no more public APIs other than the big 5, and optionally a raw resource getter. One seldom needs to write their own (1). STL containers and smart pointer with custom deleter should suffice.</description></item><item><title>Nacos</title><link>https://cesun.info/java/spring/cloud/nacos/overview/</link><pubDate>Wed, 27 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/cloud/nacos/overview/</guid><description>Nacos是一个在线字符串存储程序。为了组织这些字符串的存储，Nacos 做了以下划分：
顶级划分：namespace. 一个 namespace 包含若干个 group 次级划分：group. 一个 namespace 的一个 group 包含了若干个 data id. 一个 namespace 的一个 group 的一个 data id，唯一指代了一个字符串。可以查询其文本内容。 当存储的字符串符合某种大家熟知的结构化格式（如 java properties / XML / YAML) 时，nacos可以被当做配置中心使用；这也是nacos的通常用法。
您可以
存储一个新字符串: POST /nacos/v2/cs/config</description></item><item><title>Static Initialization Fiasco</title><link>https://cesun.info/cxx/lang/static-init/</link><pubDate>Tue, 26 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/static-init/</guid><description>Static Initialization TLDR: don&amp;rsquo;t use non-pointer static variables at all.
Within a single translation unit, static variables are guaranteed to be initialized from top to bottom. You can let the initializer of a static variable depend on a previous one, in a single translation unit:
1static int foo = 42; // live in .data 2static int bar; // live in .bss 3static int zoo = foo + bar + 42; // live in .</description></item><item><title>Overview to The Netwide Assembler</title><link>https://cesun.info/cpu/nasm/overview/</link><pubDate>Mon, 25 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/nasm/overview/</guid><description>NASM is an assembler for x86 and AMD64 architecture.
CLI invocation 1nasm -f FORMAT -o OUTPUT_FILE source.asm copy nasm assembles each .asm file to an object file, which is later linked by a linker e.g. GNU ld. See nasm -h for a list of supported FORAMT. For modern *NIX you almost always want to use -f elf64. If -o is not specified,
Programming nasm is line oriented. The precense of LF in the source is significant for a successful assembling.</description></item><item><title>Sub-Make</title><link>https://cesun.info/cxx/make/submake/</link><pubDate>Fri, 22 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/make/submake/</guid><description>The term sub-make refers to the practice of having a recipe (executed by your shell) that fork-exec another make process.
Of course, you can do this by:
1do-submake: 2 cd submodule &amp;amp;&amp;amp; make copy That&amp;rsquo;s it. There is no more magic in the term sub-make.
The recipe is completely interpreted by the shell: cd into another directory and run a make. However, the rule above indeed has some flaws, although not absurdly wrong.</description></item><item><title>About / 关于</title><link>https://cesun.info/about/</link><pubDate>Wed, 20 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/about/</guid><description>你好，这里是孙策。
我是一名后端软件工程师，一名 Linux 生态/内核和硬件爱好者，也是一名技术作者和吉他乐手。 工作方面目前在使用 Java 语言和泛JVM语言进行生产。
若您有意联系或获取简历，欢迎发送邮件至 cesunjob@outlook.com.
Hi, Ce Sun here.
I&amp;rsquo;m a software engineer for cloud-native applications, a Linux ecosystem / kernel &amp;amp; hardware enthusiast, a technical writer, and a guitar player. For work, I write production code in Java and Scala that runs on the cloud.
For any contact, question or resume request, please don&amp;rsquo;t hesitate to reach me at cesunjob@outlook.com.
About this site This site is statically generated by Hugo with a theme of mine.</description></item><item><title>MySQL Index</title><link>https://cesun.info/db/mysql/sql-index/</link><pubDate>Wed, 20 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/sql-index/</guid><description>Primary Key Primary key, if presented, is used as the clustered index, meaning that it determine the order of row on disk. Refman recommends that one always specifies a PK when creating a table. When choosing PK, the following columns are recommended by the refman:
Columns that are referenced by the most important queries. Columns that are never left blank. Columns that never have duplicate values. Columns that rarely if ever change value once inserted.</description></item><item><title>Class loading &amp; The `java.lang.ClassLoader`</title><link>https://cesun.info/java/jdk/class-loading/</link><pubDate>Sun, 17 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/jdk/class-loading/</guid><description>A class loader is an object responsible for creating Class&amp;lt;?&amp;gt; instances by the binary name of a class. The class of such object must be a subclass of the abstract class java.lang.ClassLoader. Among others, the most important API is public Class&amp;lt;?&amp;gt; loadClass(String name) which converts an array of bytes into an instance of Class&amp;lt;?&amp;gt;.
First, bootstrap classes (was rt.jar prior to java 9) was found by looking at system property sun.</description></item><item><title>JVM Launcher CLI Options</title><link>https://cesun.info/java/jvm/cli/</link><pubDate>Sun, 17 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/jvm/cli/</guid><description>By the time of this writing, there is currently no JSR(https://cesun.info/java/#jsr) document (not even a JEP) that standardizes the command-line options for the java JVM launcher. This leaves the CLI interface to JVM invocation completely implementation-specific.
It is claimed that
All java command line options can be equivalently passed via the JDK_JAVA_OPTIONS env var.
OpenJDK HotSpot CLI Flags Standard Options Extra Options Advanced Options Flags prefixed by -X are extra options; Flags prefixed by -XX: are further advanced options for JVM.</description></item><item><title>Boot Linux kernel without GRUB (or other bootloader)</title><link>https://cesun.info/linux/efistub/</link><pubDate>Thu, 14 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/efistub/</guid><description>The EFISTUB feature of the Linux kernel allows a kernel to be invoked directly as an EFI application, thus eliminate the necessity of using a bootloader.
First, check that your kernel has EFISTUB enabled:
1zgrep &amp;#39;CONFIG_EFI_STUB&amp;#39; /proc/config.gz copy 1efibootmgr --create 2 --disk ... # device node e.g. /dev/sdX 3 --part ... # partition number 4 --label ... # Entry Nickname 5 --loader &amp;#39;/vmlinuz-linux&amp;#39; # the executable path under the given partition 6 --unicode # interpret the following string in UCS-2 as argument to the EFI application, in our case, the kernel 7 &amp;#39;root=UUID=01a40dd8-28f0-4636-be1e-aeed60c98095 resume=UUID=2d877d5d-4ca1-4d46-a3d6-b6ee94cbbd78 rw rootflags=subvol=@ loglevel=3 quiet initrd=\initramfs-linux-lts.</description></item><item><title>JVM Classfile Format</title><link>https://cesun.info/java/jvm/classfile/</link><pubDate>Wed, 13 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/jvm/classfile/</guid><description>&lt;p>A JVMS 21 conforming overview on the Java classfile format is given.
Readers are encouraged to explore &lt;a href="https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.1">the JVMS 21 Chapter 4&lt;/a> for additional details not covered in this article.&lt;/p></description></item><item><title>Name Service Switch (NSS)</title><link>https://cesun.info/linux/nss/</link><pubDate>Mon, 11 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/nss/</guid><description>The Name Service Switch (NSS) is a convention in *NIX systems stating that the lookup order of certain administrative information should be configurable in a /etc/nsswitch.conf file.
The NSS workflow introduced in this article was first invented by the Ultrix developer in 1984 but the config file was /etc/svc.conf. Oracle Solaris was released in 1992 and was the first to call this pattern Name Service Switch.
GNU/Linux was actually late to the party.</description></item><item><title>DNS as a general-purpose KV store: Model and Design</title><link>https://cesun.info/net/dns/model/</link><pubDate>Thu, 07 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/net/dns/model/</guid><description>This article gives an overview of the design of the Domain Name System.
The Hierarchical Name Space &amp;amp; Domains In the center of the Domain Name System is the idea of a tree of names, known as the hierarchical namespace.
B U R C L I N L M O C X I S S X L C M I A D T C A H R I P L A L E S A ( e C m p t y V E I A s D S X t U I A r i I n N V g - E ) A N D E D R R A M S o R c I k - U a N D p I E e A C L t R r P i A s A Y C A C L E Each node on the tree is assigned a label, e.</description></item><item><title>Variadic Arguments in C/C++</title><link>https://cesun.info/cxx/lang/variadic/</link><pubDate>Thu, 07 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/variadic/</guid><description>Variadic Macro Functions Preprocessors of gcc and clang supports variadic macro function. This feature is mandatory since C99 / C++11.
1// An ellipsis as the last macro parameter becomes the sink. 2// Use `__VA_ARGS__` to refer to whatever token sequence the sink accepts. 3#define foo(...) real_foo(42, __VA_ARGS__) 4 5// GNUCPP-specific named sink: 6#define foo(bar...) real_foo(42, bar) 7 8// Preceding normal arguments are allowed, with some problems 9#define eprintf(format, ...) std::fprintf(stderr, format, __VA_ARGS__) 10 11eprintf(&amp;#34;hooray!</description></item><item><title>Bash Shell Tricks &amp; Memos</title><link>https://cesun.info/linux/bash-misc/</link><pubDate>Wed, 06 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/bash-misc/</guid><description>CLI Invocation -c:	The first non-option token after this option will be treated as a pipeline to be executed in the bash process. -s:	force bash to read from STDIN even positional argument is given, which would otherwise be interpret as the path to a script file. This allows positional parameters to be set when invoking an interactive shell. -i:	assume output is a tty device -l:	make the newly-invoked bash work as if it is a login shell -r:	invoke a restricted bash shell -v:	show more info on each command / step that bash executes; equivalent to --verbose The remaining tokens will be treated as the name of a bash script, and will be executed, if both</description></item><item><title>GObject</title><link>https://cesun.info/misc/gtk/gobject/</link><pubDate>Wed, 06 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/gtk/gobject/</guid><description>Misc Gobject is single-inherited.
To register a custom type Bar in project Foo, usually you need to define a struct FooBar and a struct FooBarClass.
The prior is known as the instance struct, which contains fields that actually make up the size of each instance of your type. The later is known as the class structs, which holds &amp;ldquo;member functions&amp;rdquo;, i.e. pointers-to-functions. Custom types that follow the above conventions are said to be &amp;ldquo;classed&amp;rdquo; type, i.</description></item><item><title>On the Build System of Linux Kernel</title><link>https://cesun.info/linux/kernel/build/</link><pubDate>Wed, 06 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/kernel/build/</guid><description>&lt;p>This article analyzes the building process of the Linux kernel, including the implementation of &lt;code>Makefile&lt;/code>s. Various build-time generated files and build techniques are discussed.&lt;/p>
&lt;p>It is well-known that the Linux kernel should be built by &lt;code>make *config&lt;/code> followed by a &lt;code>make&lt;/code> call without a goal.
The &lt;code>make *config&lt;/code> command does nothing more than invoke a wizard program, which may include compiling that wizard program first.
It&amp;rsquo;s the wizard program&amp;rsquo;s responsibility to properly generate a &lt;code>.config&lt;/code> file which holds the user&amp;rsquo;s choice on the kernel building configs.&lt;/p></description></item><item><title>Stop Using @Transactional</title><link>https://cesun.info/java/spring/against-transactional/</link><pubDate>Tue, 05 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/against-transactional/</guid><description>&lt;p>3 reasons why &lt;code>@Transactional&lt;/code> should be avoided in your production code.&lt;/p></description></item><item><title>Linux eBPF Subsystem</title><link>https://cesun.info/linux/kernel/ebpf/</link><pubDate>Mon, 04 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/kernel/ebpf/</guid><description>The DIGITAL UNIX Packet Filter The Digital Equipment Corporation (DEC), founded in 1957 and defuncted in 1998, once owned 2 Unix variants, Ultrix (based on BSD) and Tru64 Unix (based on OSF/1). Tru64 Unix is also known as the &amp;ldquo;Digital Unix&amp;rdquo; (digital from DEC&amp;rsquo;s name). Tru64 was then purchased by Compaq and finally the HP company.
Tru64 Unix provided a network packet filtering mechanics known as The DIGITAL UNIX Packet Filter, aka.</description></item><item><title>C++ Metaprogramming</title><link>https://cesun.info/cxx/lang/template/meta-programming/</link><pubDate>Sat, 02 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/meta-programming/</guid><description>Metaprogramming in C++ refer to the exercise of writting bool constexpr evaluated by the client compiler, such that correct template instantiation is eventually instantiated.
check if T is not const or volatile 1std::same_as&amp;lt;T, std::remove_cv_t&amp;lt;T&amp;gt;&amp;gt; copy Use std::addressof to take address of object Work against overloaded operator&amp;amp;.
Use std::to_address to get the address value of (smart / raw) pointers 1#include &amp;lt;type_traits&amp;gt; 2#include &amp;lt;memory&amp;gt; 3#include &amp;lt;cstdio&amp;gt; 4 5int main () { 6 // std::toaddress 7 // 1) work for both smart and raw pointer 8 auto int_up = std::make_unique&amp;lt;int&amp;gt;(42); 9 int *int_p = new int{22}; 10 std::printf(&amp;#34;%p\n&amp;#34;, std::to_address(int_up)); 11 std::printf(&amp;#34;%p\n&amp;#34;, std::to_address(int_p)); 12 13 // 2) avoid the trap of std::addressof(*ptr) 14 int *wild_int_p = int_p + 10000000; // pointer arithmetic is well-defined behavior 15 //std::printf(&amp;#34;%p\n&amp;#34;, std::addressof(*wild_int_p)); // undefined behavior 16 std::printf(&amp;#34;%p\n&amp;#34;, std::to_address(wild_int_p)); // ok 17 18 delete int_p; 19} copy https://stackoverflow.</description></item><item><title>Minimal Spring MVC Application</title><link>https://cesun.info/java/spring/mvc/minimal-mvc/</link><pubDate>Sat, 02 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/mvc/minimal-mvc/</guid><description>This is a quick example of how to start a minimalistic Java Web application with Spring MVC. We will stick to the vanilla workflow of Jakarta EE as possible, and just demonstrate how Spring MVC gets into the picture, without introducing unnecessary complexity from redundant Spring components. This example can also serve as a good starting point for studying the underlying mechanics of Spring MVC or Spring framework.
As with classic JEE applications, you&amp;rsquo;ll need to build the project as a war file and deploy it to Tomcat or a servlet container of your choice.</description></item><item><title>MySQL Table and View</title><link>https://cesun.info/db/mysql/table/</link><pubDate>Sat, 02 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/table/</guid><description>Table Info A &amp;ldquo;table&amp;rdquo; can refer to both tradition table (termed &amp;ldquo;base table&amp;rdquo;) or view. They are equally returned upon SHOW TABLES;. Use SHOW FULL TABLES; to print their type as well.
The following statements provides more infomation about tables in a database, and a specific table:
1SHOW TABLE STATUS FROM &amp;lt;db_name&amp;gt;; 2SELECT * FROM INFORMATION_SCHEMA.INNODB_TABLES WHERE NAME=&amp;#39;db_name/table_name&amp;#39; \G copy Row format 4 row format are supported by InnoDB: REDUNDANT, COMPACT, DYNAMIC, and COMPRESSED.</description></item><item><title>Spring IOC: Type Hierarchy</title><link>https://cesun.info/java/spring/ioc/types/</link><pubDate>Sat, 02 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/ioc/types/</guid><description>&lt;p>This article gives overviews of various type hierarchies in the &lt;code>spring-context&lt;/code> source.&lt;/p></description></item><item><title>Evolution of x86 Memory Organization</title><link>https://cesun.info/cpu/x86/memory/</link><pubDate>Fri, 01 Sep 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/memory/</guid><description>&lt;p>This article discusses the memory organization from an x86 CPU&amp;rsquo;s perspective.&lt;/p>
&lt;p>The physical memory, for all CPU designs, can always be modeled as a flat continuous byte array.
Ultimately, the CPU talks to the memory module through the memory bus, and the physical memory - the &amp;ldquo;flat&amp;rdquo; space can be scanned through by incrementing the numeric value on the address bus. There is no magic.&lt;/p></description></item><item><title>Use value from Powershell's hashtable as CLI flags to external program</title><link>https://cesun.info/windev/powershell/call-with-hashtable/</link><pubDate>Thu, 31 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/windev/powershell/call-with-hashtable/</guid><description>credit
Recently I have been working on a set of scripts that boot some depending services for my web crawler team. The production environment is Windows Server 2013, so the obvious choice is powershell.
and there is no good reason to go back to classic cmd - unless you are a retro-computation hobbiest! :)
Powershell provides nice builtin data structures, and we used a hash table to group all the config in one place for the ease of modification.</description></item><item><title>Canvas Width and Height</title><link>https://cesun.info/web/css/canvas-tag-width-height-attributes/</link><pubDate>Mon, 28 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/web/css/canvas-tag-width-height-attributes/</guid><description>The &amp;lt;canvas&amp;gt; HTML element has 2 standard attributes: width and height. These attributes determine the coordinate system size of the getContext('2d') canvas context. In the absence of CSS width / height properties, they also determine the size of the content box.
Explicit CSS width and height will always take precedence when sizing the canvas block. The content image will be scaled to fit the box.
1&amp;lt;!-- render to a 400 x 800 block --&amp;gt; 2&amp;lt;canvas height=&amp;#34;400px&amp;#34; width=&amp;#34;800px&amp;#34;&amp;gt;&amp;lt;/canvas&amp;gt; copy The &amp;lt;canvas height=&amp;quot;&amp;quot; width=&amp;quot;&amp;quot;&amp;gt; HTML attributes can be misleading when the canvas is managed by a library that can resize the canvas coordinate system e.</description></item><item><title>Java Service Provider Interface (SPI)</title><link>https://cesun.info/java/lang/spi/</link><pubDate>Mon, 28 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/lang/spi/</guid><description>&lt;p>This article introduces the Java Service Provider Interface (SPI).
SPI workflow in Java 8 and before is first discussed, followed by the improvement brought by Java 9.&lt;/p></description></item><item><title>Introduction to C++20 Concept</title><link>https://cesun.info/cxx/lang/template/concept/</link><pubDate>Sun, 27 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/concept/</guid><description>Prior to C++20, type parameters in a template definition are introduced with template&amp;lt;typename T&amp;gt; ..., where T can bind to any existing type as long as the resulting code compiles. There is no way for a client programmer, upon seeing the template definition in a header file, to know what types can be used as arguments to the template other than reading the document.
Concepts is a C++20 feature that restricts, at the language level, the set of types that can be used as a type argument to a template.</description></item><item><title>SELECT and Optimization Techniques</title><link>https://cesun.info/db/mysql/select/</link><pubDate>Sat, 26 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/select/</guid><description>The notorious query statement being excessively versatile.
1SELECT [DISTINCT] ... 2FROM ... PARTITION ... 3WHERE ... 4GROUP BY ... 5HAVING ... 6WINDOW ... 7ORDER BY ... [DESC] 8LIMIT ... copy display huge number of columns in terminal 1select * from user\G copy https://stackoverflow.com/questions/924729/how-to-best-display-in-terminal-a-mysql-select-returning-too-many-fields
Pattern Matching [NOT] LIKE 1SELECT ... FROM ... 2WHERE &amp;lt;column&amp;gt; [NOT] LIKE &amp;lt;pattern&amp;gt; copy Only 2 meta char allowed:
% matches any number of characters, including zero. _ matches any single character.</description></item><item><title>QEMU (Quick Emulator)</title><link>https://cesun.info/linux/qemu/</link><pubDate>Wed, 23 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/qemu/</guid><description>administrative qemu-img: qemu-keymap: qemu-storage-daemon: qemu-pr-helper: Persistent Reservation helper program for QEMU qemu-nbd: QEMU Disk Network Block Device Utility qemu-io: QEMU Disk exerciser qemu-edid: This is a test tool for the qemu edid generator. Linux CPU emulator (compiled for * emulation) qemu-aarch64 qemu-microblaze qemu-m68k qemu-riscv32 qemu-aarch64_be qemu-microblazeel qemu-riscv64 qemu-alpha qemu-mips qemu-s390x qemu-arm qemu-mips64 qemu-sh4 qemu-armeb qemu-mips64el qemu-sh4eb qemu-cris qemu-mipsel qemu-sparc qemu-mipsn32 qemu-sparc32plus qemu-hexagon qemu-mipsn32el qemu-sparc64 qemu-hppa qemu-i386 qemu-nios2 qemu-or1k qemu-x86_64 qemu-ppc qemu-xtensa qemu-ppc64 qemu-xtensaeb qemu-loongarch64 qemu-ppc64le qemu-system emulators qemu-system-m68k qemu-system-sh4 qemu-system-i386 qemu-system-rx qemu-system-loongarch64 qemu-system-s390x qemu-system-microblaze qemu-system-sh4eb qemu-system-microblazeel qemu-system-sparc qemu-system-mips qemu-system-sparc64 qemu-system-mips64 qemu-system-tricore qemu-system-mips64el qemu-system-x86_64 qemu-system-mipsel qemu-system-xtensa qemu-system-aarch64 qemu-system-nios2 qemu-system-xtensaeb qemu-system-alpha qemu-system-or1k qemu-system-arm qemu-system-ppc qemu-system-avr qemu-system-ppc64 qemu-system-cris qemu-system-riscv32 qemu-system-hppa qemu-system-riscv64 man pages # ls qemu* -hl -rw-r--r-- 1 root root 62K Mar 28 04:34 qemu.</description></item><item><title>RSA</title><link>https://cesun.info/crypto/rsa/</link><pubDate>Wed, 23 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/crypto/rsa/</guid><description>If we can find 3 integers e,d and n such that for all m ∈ [0,n), m^e^d % n = m holds,
(i.e. one can pick any m, and get the same m back by raising m^e^d - all under modulo n arithmetic system)
then according to the discrete log hardness assumption (DLHA), it should be computationally infeasible to
recover m by knowing only m^e, e and n. recover d by knowing only e, n and m.</description></item><item><title>MySQL Basics</title><link>https://cesun.info/db/mysql/overview/</link><pubDate>Tue, 22 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/overview/</guid><description>Installation Grab from AUR. Don&amp;rsquo;t forget to change MAKEFLAGS (e.g. -jn for parallel compilation) in /etc/makepkg.conf if this is the first time aur package is built on the current machine.
1git clone https://aur.archlinux.org/mysql.git 2makepkg -si copy Default charset and collation are set in PKGBUILD:
-DDEFAULT_CHARSET=utf8mb4 \ -DDEFAULT_COLLATION=utf8mb4_unicode_ci \ copy AUR script mysql.install will
create group mysql (gid=89) and user mysql (uid=89) whose primary group is mysql. create group mysqlrouter and user mysqlrouter whose primary group is mysqlrouter.</description></item><item><title>Memo: pthread</title><link>https://cesun.info/linux/pthread/</link><pubDate>Mon, 21 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/pthread/</guid><description>Thread Termination vs. Process Exit A thread terminates in one of the following ways:
It calls pthread_exit(3), specifying an exit status value that is available to another thread in the same process that calls pthread_join(3).
It returns from start_routine(). This is equivalent to calling pthread_exit(3) with the value supplied in the return statement.
It is canceled (see pthread_cancel(3)).
Any of the threads in the process calls exit(3), or the main thread performs a return from main().</description></item><item><title>SQL ER Model</title><link>https://cesun.info/db/mysql/model/</link><pubDate>Mon, 21 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/model/</guid><description>Entity-Relationship Model Note for terminology: In the original research by Peter Chen, &amp;ldquo;entity&amp;rdquo; is an instance of an &amp;ldquo;entity-type&amp;rdquo;. There, each entity-type corresponds to 1 table, each row in the table is an &amp;ldquo;entity&amp;rdquo;, i.e. instance of entity-type. But for simplicity people now just use &amp;ldquo;entity&amp;rdquo; for &amp;ldquo;entity-type&amp;rdquo;.
Because the term entity-type is somewhat cumbersome, most people tend to use the term entity as a synonym for this term. &amp;ndash; wikipedia</description></item><item><title>Java Language Feature: Annotation</title><link>https://cesun.info/java/lang/annotation/</link><pubDate>Sun, 20 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/lang/annotation/</guid><description>The annotation construct that facilitates all sorts of magic in Java.
1@Retention(RetentionPolicy.RUNTIME) 2@Target({ElementType.TYPE_USE, ElementType.METHOD}) 3public @interface Foo { 4} 5 6@Foo 7Integer getMenaing() { 8return 42; 9} copy java.lang.Integer getMenaing(); descriptor: ()Ljava/lang/Integer; flags: (0x0000) Code: stack=1, locals=1, args_size=1 0: bipush 42 2: invokestatic #7 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer; 5: areturn LineNumberTable: line 7: 0 LocalVariableTable: Start Length Slot Name Signature 0 6 0 this Lcc/Main; RuntimeVisibleAnnotations: 0: #23() cc.FG RuntimeVisibleTypeAnnotations: 0: #23(): METHOD_RETURN cc.</description></item><item><title>The Linux Syscalls</title><link>https://cesun.info/linux/kernel/syscalls/</link><pubDate>Sun, 20 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/kernel/syscalls/</guid><description>glibc dynamic syscall wrapper:
1#include &amp;lt;unistd.h&amp;gt; 2 3long syscall(long number, ...); copy Mnemonic macros for number are defined in &amp;lt;sys/syscall.h&amp;gt;:
1#include &amp;lt;sys/syscall.h&amp;gt; 2long syscall(SYS_clone3, struct clone_args *cl_args, size_t size); copy API layer The system calls entrance point API layer of the linux kernel.
1// include/linux/syscalls.h 2 3#ifndef SYSCALL_DEFINE0 4#define SYSCALL_DEFINE0(sname)	\ 5	SYSCALL_METADATA(_##sname, 0);	\ 6	asmlinkage long sys_##sname(void);	\ 7	ALLOW_ERROR_INJECTION(sys_##sname, ERRNO);	\ 8	asmlinkage long sys_##sname(void) 9#endif /* SYSCALL_DEFINE0 */ 10 11#define SYSCALL_DEFINE1(name, .</description></item><item><title>Git Remote Credentials</title><link>https://cesun.info/misc/git/credentials/</link><pubDate>Sat, 19 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/git/credentials/</guid><description>Certain operations on a git remote require authentication, e.g. cloning a private repository, pushing to a new empty repository or a protected master branch, etc. On the contrary, cloning a public repository never requires authentication.
Authentication is transparent when talking to a git remote via SSH, signaled by a, for example, git@github.com:... remote URL. When using an http(s) remote URL, there must be a mechanism for a user to prove his identity for such auth-required operations.</description></item><item><title>GNU awk record TODO</title><link>https://cesun.info/linux/utils/awk/</link><pubDate>Wed, 16 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/utils/awk/</guid><description>awk is a record-based CLI text editor. It first splits a text file into delimiter-separated segments known as records, then performs an action if a record matches a given pattern. It is generally considered a superior replacement for sed, but with its own extra complexity. gawk is GNU&amp;rsquo;s implementation of awk. On most Linux distros is a symlink to gawk:
# $ ls -hl `which awk` lrwxrwxrwx 1 root root 4 Nov 4 2023 /usr/bin/awk -&amp;gt; gawk copy CLI invocation TODO</description></item><item><title>Java Generic Typing</title><link>https://cesun.info/java/lang/generics/</link><pubDate>Wed, 16 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/lang/generics/</guid><description>Java generics enable types (classes and interfaces) to be parameters when defining:
classes, interfaces, and methods. Essentially, generics is a mechanism to ensure type-safety at compile time, so that programmers do not need to write downcast manually. javac compiler now generate surefire downcast, after checking types are compatible, or complain if not.
Syntaxes for declaring type parameters:
interface/class: type parameters between class/interface name and superclass/superinterfaces method: type parameters between modifiers and return type 1interface I&amp;lt;T0,T1,.</description></item><item><title>SDRAM Memory Modules</title><link>https://cesun.info/ee/mem/sdram-mm/</link><pubDate>Wed, 16 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/ee/mem/sdram-mm/</guid><description>Memory module The name of a MM spec is usually like DDR4 (SDRAM) DIMM with PC4-12800 or PC4-2133.
DDR (Double Data Rate) means that the DQ lines of each chip are double pumped; 4th generation of this technology. SDRAM means synchronous dynamic RAM, and is usually omitted since it&amp;rsquo;s the default since 1990. DIMM (Dual In-line Memory Module) refers to the fact that the PCB has 2 rows of distinct pins on both side of the PCB.</description></item><item><title>Exception Infrastructure in C++</title><link>https://cesun.info/cxx/lang/exception/</link><pubDate>Sun, 13 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/exception/</guid><description>C++ allows an instance of arbitrary type to be thrown as exception. But always only throw liskov-able subclass of std::exception.
Throw by value, catch by reference (preferably to-const).
1try { 2 // ... somewhere potentially deep down the calling stack 3 throw std::DerivedException{}; 4} catch(const std::BaseException &amp;amp;e) { 5 // handle polymorphic e 6} copy catch(...) is the syntax to catches everything, and caught object can&amp;rsquo;t be referred. This should be seldom useful if (2) is followed.</description></item><item><title>A Simple Electric Physics Primer</title><link>https://cesun.info/ee/physics-primer/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/ee/physics-primer/</guid><description>resistor / resistance &amp;amp; conductance resistance measures an object&amp;rsquo;s opposition to the flow of current through it. conductance is the reciprocal of resistance. (unit: mho ℧) The electrical component that provides resistance is called a resistor.
inductor / inductance When the current (strength) through an object changes (e.g. in an AC circuit), inductance measures the object&amp;rsquo;s ability to oppose such change. Unit of inductance is henry (H). Customary symbol for inductance is L.</description></item><item><title>MySQL DevOps / Technical Interals</title><link>https://cesun.info/db/mysql/internals/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/internals/</guid><description>data dictionary MySQL &amp;ldquo;data dictionary&amp;rdquo; is the runtime structure where all important metadata (e.g. views, stored procedure, triggers, user tables columns structure &amp;hellip;) in the current server instance are stored.
Modern version of MySQL persists the data dictionary also as InnoDB tables, thus providing the same transaction ability and crash-recovery as ordinary user tables. These tables are hidden, and is in the mysql schema. They can only be seen in a debug build (cmake -DWITH_DEBUG=1).</description></item><item><title>Retrospection: The Linux Libc</title><link>https://cesun.info/linux/linux-libc/</link><pubDate>Sat, 12 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/linux-libc/</guid><description>https://web.archive.org/web/20040411191201/http://people.redhat.com/~sopwith/old/glibc-vs-libc5.html https://www.maketecheasier.com/history-of-early-linux-distros/ https://lwn.net/Articles/417647/ POSIX.1 was defined by the IEEE Std 1003.1-1988 specification released in 1988. The Linux kernel was written in 1991. The GNU project was already famous at that time: GCC was first released in March 1987, and
The kernel team needed a userspace C runtime as wrapper for system calls as well as providing various non-kernel utilities. GNU&amp;rsquo;s glibc 0.1 was released already.
Many claim that the Linux libc was a fork of from glibc v1.</description></item><item><title>Makefile as a Dependency Description Language</title><link>https://cesun.info/cxx/make/dependency/</link><pubDate>Wed, 09 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/make/dependency/</guid><description>&lt;ul>
&lt;li>&lt;a href="https://www.gnu.org/software/make/manual/html_node/Double_002dColon.html">https://www.gnu.org/software/make/manual/html_node/Double_002dColon.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.gnu.org/software/make/manual/html_node/Remaking-Makefiles.html">https://www.gnu.org/software/make/manual/html_node/Remaking-Makefiles.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>Makefile&lt;/code> language can be divided into 2 parts, a dependency description language,
and a scripting language including constructs like functions, variables, loops, branching etc.&lt;/p>
&lt;p>This article discusses everything about the Dependency Description ability of a Makefile.
See &lt;a href="#TODO">TODO&lt;/a> for the scripting part.&lt;/p></description></item><item><title>Spring Boot: Use Thymeleaf without MVC</title><link>https://cesun.info/java/spring/thymeleaf-without-mvc/</link><pubDate>Wed, 09 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/thymeleaf-without-mvc/</guid><description>Recently I was working on refactoring a purchase automation system that collects order data from various data sources, performs some pipeline computation and generates a human-readable daily report to our purchase specialists. The previous code generates an XLSX file where heterogeneous information is mixed into a single sheet ponderously and presented as rows whose non-empty columns differ. It&amp;rsquo;s hard to read, and the code is hard to maintain.
Regular order statistics and various warnings are collected during the computation.</description></item><item><title>Files</title><link>https://cesun.info/linux/kernel/file/</link><pubDate>Mon, 07 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/kernel/file/</guid><description>File descriptor &amp;amp; File Description A file description is an instance of struct file (in &amp;lt;linux/fs.h&amp;gt;). Every call to open(2) creates a new instance, and put it into a system-wide open file table. File descriptions are system-wide, and solely managed by the kernel.
https://github.com/torvalds/linux/blob/master/include/linux/fs.h
1struct file { 2	union { 3	struct llist_node	fu_llist; 4	struct rcu_head fu_rcuhead; 5	} f_u; 6	struct path	f_path; 7	struct inode	*f_inode;	/* cached value */ 8	const struct file_operations	*f_op; 9 10	/* 11	* Protects f_ep, f_flags.</description></item><item><title>Miscellaneous C++ consideration</title><link>https://cesun.info/cxx/misc/</link><pubDate>Sat, 05 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/misc/</guid><description>Ownership Ownership of resources is the responsibility to destroy those resources at proper time.
In any design, resource owning class should follow RAII, and follow the Single Resonsibility Principle: it shouldn&amp;rsquo;t have any public API other than
the 6 reasonable special member functions a raw resourece accessor, as described in scott&amp;rsquo;s Item 15: Provide access to raw resources in resource-managing classes. use make_(unique|shared) helpers instead of smart pointer constructor https://stackoverflow.com/a/22571331/8311608</description></item><item><title>Function Template</title><link>https://cesun.info/cxx/lang/template/function-template/</link><pubDate>Fri, 04 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/function-template/</guid><description>Canonically, a function template &amp;hellip;
&amp;hellip; is declared by 1template&amp;lt;typename T&amp;gt; 2void foo(T); copy C++20 allows a function declaration to have placeholder type (i.e. auto) or constrained placeholder type (i.e. constrained auto) as an equivalent syntax of function template declaration with type parameter:
1// equivalent to above 2void foo(auto); copy &amp;hellip; is defined by 1template&amp;lt;typename T&amp;gt; 2void foo(T) {/**/} copy In most cases, the definition part of a function template is trivial, and doesn&amp;rsquo;t affect the templating resolution or metaprogramming magic at all.</description></item><item><title>Compiler Builtins / Intrisics</title><link>https://cesun.info/cxx/compiler-builtins/</link><pubDate>Thu, 03 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/compiler-builtins/</guid><description>Most of these builtins translate to a single x86 instruction.
bit manipulations count leading (most significant) 0 1int __builtin_clz (unsigned int) 2int __builtin_clzl (unsigned long) 3int __builtin_clzll (unsigned long long) copy count trailing (least significant) 0 1int __builtin_ctz (unsigned int) 2int __builtin_ctzl (unsigned long) 3int __builtin_ctzll (unsigned long long) 4 5int __builtin_ffs (int x) 6int __builtin_ffsl (long) 7int __builtin_ffsll (long long) copy count occurrences of 1 1int __builtin_popcount (unsigned int x) 2int __builtin_popcountl (unsigned long) 3int __builtin_popcountll (unsigned long long) copy</description></item><item><title>Template Specialization</title><link>https://cesun.info/cxx/lang/template/specialization/</link><pubDate>Thu, 03 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/specialization/</guid><description>Specialization allows a complete different template definition to be used when specific 1) template arguments, or 2) patterns of template arguments is provided.
is the case for both full and partial specialization is more expressive, and is only the case for partial specialization. Specialization embodies ad-hoc polymorphism of metaprogramming: the same template name (interface) works for different type by really having multiple templates definition. It resembles function overloads, and is the the metaprogramming counterpart of the latter in many ways.</description></item><item><title>Testing in C/C++</title><link>https://cesun.info/cxx/testing/</link><pubDate>Wed, 02 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/testing/</guid><description>&lt;p>JUnit and Mockito are the de-facto standard testing suites for Java; They are used by every company I know.
On the other side, there is hardly a standardized exercise for the C/C++ world on how software should be tested.&lt;/p>
&lt;p>This article is an overview of various testing methodologies for software / library written in C/C++.&lt;/p></description></item><item><title>MySQL Transaction</title><link>https://cesun.info/db/mysql/tx/</link><pubDate>Tue, 01 Aug 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/db/mysql/tx/</guid><description>Locking Locking is heavily used in any database system to ensure ACID.
MyISAM only supports locking at table level, i.e. readers-writer lock on each entire table. No other level of protection are supported. Apparently, such granularity of locking is too large, and is detrimental the concurrency of transactions. Well, MyISAM doesn&amp;rsquo;t support transaction, anyway.
InnoDB supports transaction, and claim itself supports &amp;ldquo;multiple granularity locking&amp;rdquo;, meaning that both table level and row level locks are supported.</description></item><item><title>DNS Message &amp; Resource Record Format</title><link>https://cesun.info/net/dns/format/</link><pubDate>Mon, 31 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/net/dns/format/</guid><description>convention and glossaries 0 indicates the most significant bit. RR stands for Resource Record, see below. Message Format DNS is a request-response protocol. The query and the response share the same format which always starts with a header:
Q 0 R 1 O 2 p c o 3 d e 4 A 5 A T 6 C Q A N A R D N S R 7 I D C C C C D O O O O R U U U U 8 A N N N N T T T T 9 Z 1 0 1 1 1 2 R 1 3 C O D 1 4 E 1 5 a f c c c c l o o o o r a u u u u e g n n n n s s t t t t p o - o o o o n f f f f s s e e e R R R e n R R R m t s s s u b r s e i i i i t l e n n n o s e w t t t c i h h h h n e e e o q A A A t u n u d h e s t d e s w h i t e o t s i r r i a o i o m n s t n e e y a s c l I e t s D c i e s t o c e o i n t c f o i t n o i i ; n o t n s i .</description></item><item><title>Cryptographical Hash Functions</title><link>https://cesun.info/crypto/hash-func/</link><pubDate>Thu, 27 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/crypto/hash-func/</guid><description>&lt;p>This article discusses application of unkeyed cryptographical hash functions.
Some hash functions can take keys, thus creating different output for the same input.&lt;/p>
&lt;!-- See [MAC &amp; HMAC: Keyed Hash Functions]({{/*&lt;ref "./keyed-hash-func.md"*/>}}) for that. -->
&lt;p>See &lt;a href="https://en.wikipedia.org/wiki/HMAC">MAC &amp;amp; HMAC: Keyed Hash Functions&lt;/a> for that.&lt;/p></description></item><item><title>GCC MISC</title><link>https://cesun.info/cxx/gcc/misc/</link><pubDate>Wed, 26 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/gcc/misc/</guid><description>cc1 and cc1plus The output of gcc -v actually shows no invocation of the cpp preprocessor. Instead, cc1/cc1plus is invoked for both pre-processing and compilation of C/C++. My assumption is that those 2 programs fork-exec cpp.
GCC Developer Options -print-search-dirs
-print-sysroot
-print-prog-name
1gcc -print-prog-name=cc1 2/usr/lib/gcc/x86_64-pc-linux-gnu/10.2.0/cc1 copy Specs String The gcc executable is a driver program, invoking other executables, e.g. cc1, as and collect2 (a wrapper around ld) to do the real job.</description></item><item><title>Virtual File Systems</title><link>https://cesun.info/linux/vfs/</link><pubDate>Wed, 26 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/vfs/</guid><description>Historically, if a privileged program want to consult content of certain kernel data structure, the only way is to read and interpret /dev/kmem directly, which is obviously dangerous and error prone.
The now recommended approach is to read entries in the proc VFS conventionally mounted at /proc. In deprecation of the legacy method, ince Linux 2.6.26, /dev/kmem file is available only if the kernel is compiled with CONFIG_DEVKMEM.
https://www.kernel.org/doc/html/latest/filesystems/vfs.html
procfs Linux expose certain task-related kernel structures via write and read syscalls, instead of having a new syscalls.</description></item><item><title>Makefile Variables</title><link>https://cesun.info/cxx/make/variables/</link><pubDate>Mon, 24 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/make/variables/</guid><description>Define variables the lazy flavor: recursively expanded variable The good old syntax are supported by all ancient make programs.
syntax: foo = RHS
Lazy expansion: foo stored RHS verbatim, without caring what it even is. foo expands to RHS upon request, and if RHS further contains variable reference, it will be recursively expanded. e.g. The following prints hello upon make. Notice the text order of variables:
1foo = $(bar) # foo stores literal string &amp;#39;$(bar)&amp;#39; 2bar = $(ugh) # bar stores literal string &amp;#39;$(ugh)&amp;#39; 3ugh = hello 4 5# recursive expansion happens when evaluating $(foo) 6all: 7	@echo $(foo) # &amp;#39;hello&amp;#39; copy the greedy flavor: simply expanded variables Require modern make implementations.</description></item><item><title>Linux Syscall Wrappers</title><link>https://cesun.info/linux/gnu/glibc/source/syscalls/</link><pubDate>Sun, 23 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/gnu/glibc/source/syscalls/</guid><description>&lt;p>GLIBC provides Linux syscalls wrappers a userspace programmer can use in C code, e.g. &lt;code>read(2) / write(2)&lt;/code>.
This article discusses these wrappers are implemented.&lt;/p></description></item><item><title>Android Architectural Overview</title><link>https://cesun.info/android/overview/</link><pubDate>Wed, 19 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/android/overview/</guid><description>Dalvik Android applications are written in the Dalvik language whose syntax and ecosystem are almost identical to Java, but it&amp;rsquo;s not Java - it&amp;rsquo;s Dalvik lang.
*.java | javac v *.class (canonical JVM bytecode) | r8 or d8 (the java-bytecode to dalvik-bytecode translators) v *.dex (Dalvik EXecutables) | zip all dex codes / native code / and resources together v foo.apk | unzipped upon install, and optimized upon the first execution on host android device v *.</description></item><item><title>Makefile Overview</title><link>https://cesun.info/cxx/make/overview/</link><pubDate>Wed, 19 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/make/overview/</guid><description>The Makefile language can be divided into 2 parts, a dependency description language, and a scripting language including constructs like functions, variables, loops, branching etc.
The purpose of the scripting part of a Makefile is to
determine the value of variables at run time, which can be expanded in the dependency part. conditionally enable or disable certain rules in the dependency part The mixture of 2 languages in the same Makefile renders it a rather weird creature for beginners.</description></item><item><title>SDRAM Chip Command &amp; Encoding</title><link>https://cesun.info/ee/mem/sdram-cmd/</link><pubDate>Mon, 17 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/ee/mem/sdram-cmd/</guid><description>NOP: no op REF: REFRESH DES: deselect ACTIVATE(BG, BA, A[17:0]): open a row in a bank encoding:
The ACTIVATE command is used to open (activate) a row in a particular bank for subsequent access. One bank can only have 1 opened row at the same time.
timing restriction:
t_RRD_S (s for short): minimal interval user must wait btwn 2 ACTIVATEs in different bank group. t_RRD_L (l for long): minimal interval user must wait btwn 2 ACTIVATEs in the same bank group.</description></item><item><title>Template Parameters</title><link>https://cesun.info/cxx/lang/template/template-parameter/</link><pubDate>Mon, 17 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/template-parameter/</guid><description>This article documents C++ features related to parameterized templates, common for all of function / class / whatever templates.
Template Parameters A template declares its parameters list in a pair of angle brackets. There are 3 types of template parameters:
type template parameter receives a type identifier as argument
It&amp;rsquo;s led by a typename or a class keyword:
1template&amp;lt;typename T&amp;gt; 2class Container&amp;lt;T&amp;gt; {} copy type template parameter can be constrained, in which case it&amp;rsquo;s led by concept name:</description></item><item><title>Overview on Git Configurations</title><link>https://cesun.info/misc/git/configs/</link><pubDate>Sat, 15 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/git/configs/</guid><description>A git CLI invocation search configs in the following order:
the system-wide config: /etc/gitconfig file;
For a git release for Windows, this file resides at &amp;lt;GIT_INSTALLATION&amp;gt;\etc\gitconfig, and essentially becomes an installation-wide config; the default &amp;lt;GIT_INSTALLATION&amp;gt; is C:/Program Files/Git/.
the user-wide config: .gitconfig in the user&amp;rsquo;s home directory
repository-wide config: .git/config file
For a config entry of the same name, the one found in the latter location take precedence.
All these files use the same syntax which mimics the Windows .</description></item><item><title>The Clangd Language Server</title><link>https://cesun.info/cxx/clang/clangd/</link><pubDate>Sat, 15 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/clang/clangd/</guid><description>Introspect Context A compile_flags.txt at the source root contains build flags that applies to all files in the project, one per line. It is equivalent to clang $FLAGS some_file.cc where $FLAGS are read from this file. This file will be ignored if compile_commands.json is present.
A compile_commands.json file, if present, contains commands to compile each file in the project. See https://clang.llvm.org/docs/JSONCompilationDatabase.html for a specification of this file.
Ideally, build systems should be able to export such information.</description></item><item><title>Linux keyboard input</title><link>https://cesun.info/linux/key-input/</link><pubDate>Thu, 13 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/key-input/</guid><description>This article explain how keyboard events are emits from hardware and delivered to userspace applications.
Overview Keyboard hareware sends scancode to kernel. Kernel translates scancode to keycode. keyboard layout defines the mapping from (keycode, modifiers...) tuple to keysym, which is either a printable character, or an action to carry out (e.g. volumn up /down/reboot). character set (or charset) assigns each keysym symbol a specific number. key composition: in some language, typing 2 keys on the keyboard should produce a single accented letter.</description></item><item><title>Copy / Move Elision and Return Value Optimization (RVO)</title><link>https://cesun.info/cxx/lang/copy-elision-and-rvo/</link><pubDate>Wed, 12 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/copy-elision-and-rvo/</guid><description>Copy / Move Elision During a function call, copies may occur multiple times for arguemnts and function return:
1class X { 2public: 3 X(): id{&amp;#34;unknown&amp;#34;} {std::puts(&amp;#34;default ctor&amp;#34;);} 4 X(const std::string id): id{id} {std::puts(&amp;#34;ctor with given id&amp;#34;);} 5 X(const X &amp;amp;other): id{other.id} {std::puts(&amp;#34;copy ctor&amp;#34;);} 6 X(X &amp;amp;&amp;amp;other): id{std::move(other.id)} {std::puts(&amp;#34;move ctor&amp;#34;);} 7 ~X(){std::puts(&amp;#34;dtor&amp;#34;);} 8private: 9 std::string id; 10}; 11 12void foo(X gg) { } 13 14X bar() { 15 std::string id{/* e.g. get id from RPC connection */}; 16 return X{id}; 17} 18 19X zoo() { 20 X named{&amp;#34;zoo - named&amp;#34;}; 21 return named; 22} 23 24int main() { 25 X gg = zoo(); 26} copy [, c++17) gcc stop eliding copy / move ctors when -std=c++14 -fno-elide-constructors.</description></item><item><title>Garbage Collection</title><link>https://cesun.info/java/jvm/gc/</link><pubDate>Tue, 11 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/java/jvm/gc/</guid><description>ℹ️ Warning The garbage collection mechanism is BY NO MEANS standardized. JVM vendors are free to choose any GC algorithms, to the extent of having on GC at all.
Overview The good old garbage collectors for HotSpot is &amp;ldquo;Serial Garbage Collector&amp;rdquo; and &amp;ldquo;Parallel Garbage Collector&amp;rdquo;. The latter one is default in and before Java 8, and is recommended on devices that has multiple hardware threads. Since Java 9, Hotspot switch to the &amp;ldquo;Garbage First Garbage Collector (G1GC)&amp;rdquo; as the default garbage collector.</description></item><item><title>Systemd Overview</title><link>https://cesun.info/linux/systemd/</link><pubDate>Tue, 11 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/systemd/</guid><description>Overview unit: vertex in the dependency graph job: a request for state change to a unit; each unit has a job queue. 11 types of units:
unit type man page Notable instance Service systemd.service(5) - which start and control daemons and the processes they consist of. privoxy.service Socket systemd.socket(5) Start another .service unit when certain socket has incoming traffic, i.e. inetd replacement dbus.socket - which encapsulate local IPC or network sockets in the system, useful for socket-based activation.</description></item><item><title>The Unix compress(1) utility</title><link>https://cesun.info/compression/unix-compress/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/compression/unix-compress/</guid><description>The compress command appeared in 4.3BSD. It is popular in the 90s.
A compressed file created by the compress command usually have a .Z extension. tar is usually in combined, creating an .tar.Z or .TAZ archive of a directory.
Deflate compression support was added in OpenBSD 2.1.
https://man.openbsd.org/compress</description></item><item><title>C++ Idioms Collections</title><link>https://cesun.info/cxx/lang/idioms/</link><pubDate>Sat, 08 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/idioms/</guid><description>&lt;p>Some C++ Idioms collected. Use this article as a cheetsheet.&lt;/p></description></item><item><title>Class Template</title><link>https://cesun.info/cxx/lang/template/class-template/</link><pubDate>Fri, 07 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/template/class-template/</guid><description>Class Template Argument Deduction (CTAD) (c++17) TODO: CTAD happends through FTAD on class&amp;rsquo;s ctor?
misc Mind static data member in class template All instantiations of a class template with the same template arguments share the same memory of data member:
1#include &amp;lt;cstdio&amp;gt; 2 3template&amp;lt;int N&amp;gt; 4struct Foo { 5 static int data[N]; 6}; 7 8template&amp;lt;int N&amp;gt; int &amp;lt;MAXN&amp;gt;::data[N]; 9 10int main() { 11 printf(&amp;#34;%p\n&amp;#34;, Foo&amp;lt;120&amp;gt;::data); // 0x5d50b4264040 12 printf(&amp;#34;%p\n&amp;#34;, Foo&amp;lt;120&amp;gt;::data); // 0x5d50b4264040 13 printf(&amp;#34;%p\n&amp;#34;, Foo&amp;lt;240&amp;gt;::data); // 0x5d50b4264220 14 printf(&amp;#34;%p\n&amp;#34;, Foo&amp;lt;240&amp;gt;::data); // 0x5d50b4264220 15} copy</description></item><item><title>Inline Static Function</title><link>https://cesun.info/cxx/lang/inline-static-function/</link><pubDate>Fri, 07 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cxx/lang/inline-static-function/</guid><description>&lt;p>In 95% of the scenarios, using &lt;code>inline static&lt;/code> function with implementation in a header file is what you should do when you want to inline calls to a function; (there is no function anymore, just a code snippet copied and pasted)&lt;/p>
&lt;p>The situation gets a little bit complicated if you want or have to separate the declaration and definition of a function,
or want to know how and why of this practice.&lt;/p></description></item><item><title>x86 Base / Extended Instructions Review</title><link>https://cesun.info/cpu/x86/instructions/</link><pubDate>Wed, 05 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/cpu/x86/instructions/</guid><description>A quick review of x86 base instructions and extensions.
General Purpose Data Movement: MOV: transfers a byte, word, or doubleword from the source operand to the destination operand.
See also MOVSX and MOVZX
XCHG (Exchange): swaps the contents of two operands. When used with a memory operand, XCHG automatically activates the LOCK signal.
Stack Manipulation: PUSH / PUSHA POP / POPA Data Type Widening Sign extension of a narrow data type to a wider one; (extra bits of the larger item with the value of the sign bit of the smaller item)</description></item><item><title>DDR4 Overview</title><link>https://cesun.info/ee/mem/ddr4-overview/</link><pubDate>Tue, 04 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/ee/mem/ddr4-overview/</guid><description>DDR4 chips comes in x4/8/16/32 configuration, indicating the width of DQ bus being 4/8/16/32 lines.
For pin named XX_n, LOW voltage (referred to as 0) means active/enable, and HIGH (referred as 1) means inactive/disabled.
The operation of a DDR SDRAM chip requires a LOW CS_n signal, otherwise all input will be ignored. This allows multiple chips to use the same command / address bus (as in a memory module), while only the selected one is active.</description></item><item><title>Fast Lexical Analyzer (Flex)</title><link>https://cesun.info/linux/flex/</link><pubDate>Mon, 03 Jul 2023 00:00:00 +0000</pubDate><guid>https://cesun.info/linux/flex/</guid><description>The original lex program was written for the UNOS operating system in 1975. It was a proprietary software under the Bell Laboratories license. Nowadays open-source versions of lex based on the original proprietary code are available.
Flex is the free and open-source alternative to lex.
Vern Paxson took over the Software Tools lex project from Jef Poskanzer in 1982. At that point it was written in Ratfor. Around 1987 or so, Paxson translated it into C, and a legend was born :-).</description></item><item><title>Android Application Development Overview</title><link>https://cesun.info/android/application/</link><pubDate>Sun, 28 Jan 2018 00:00:00 +0000</pubDate><guid>https://cesun.info/android/application/</guid><description>Application Fundamentals https://developer.android.com/guide/components/fundamentals.html
The Android operating system is a multi-user Linux system in which each app is a different user.
By default, the system assigns each app a unique Linux user ID (the ID is used only by the system and is unknown to the app). The system sets permissions for all the files in an app so that only the user ID assigned to that app can access them. 每个app通常以独立且唯一的linux uid运行，app的文件设有权限，只有app的uid有权访问</description></item><item><title/><link>https://cesun.info/java/spring/mvc/request-flow/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/java/spring/mvc/request-flow/</guid><description>org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite#handleReturnValue This is where HttpMessageConverter&amp;lt;&amp;gt;s comes in:</description></item><item><title/><link>https://cesun.info/microservice/docker/containerize-a-base-image/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/microservice/docker/containerize-a-base-image/</guid><description/></item><item><title/><link>https://cesun.info/misc/gtk/glib-misc/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/gtk/glib-misc/</guid><description>The main event loop GSource instances represent event source of all possible kinds.
A GtkMainContext instance is associated with multiple GSources by calling g_source_attach(source, context).
One creates a GMainLoop instance out of a GtkMainContext. Calling g_main_loop_run() on it will keep polling on all GSource s and dispatching control flow to correct handler.
GSource Each GSource instance consists of 4 functions, defined by GSourceFuncs. They will be frenquently queried by the main loop:</description></item><item><title/><link>https://cesun.info/misc/gtk/gobject/macro-internals/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/gtk/gobject/macro-internals/</guid><description>Final type combos G_DECLARE_FINAL_TYPE() DECLARED foo_bar_get_type(void) G_DEFINE_TYPE in .c file will provide the implementation By convention, users are expected to #define FOO_TYPE_BAR foo_bar_get_type() typedef imcomplete struct _FooBar to FooBar; expecting user to define struct _FooBar later. a complete anonymous struct to FooBarClass. The struct holds only a ParentObjectClass field. DEFINED FooBar* FOO_BAR(gpointer) pointer-to-instance casting function gboolean FOO_IS_BAR(gpointer) pointer-to-instance runtime type check Plus, instance struct &amp;amp; class struct internal typedefs and freeing functions implementation.</description></item><item><title/><link>https://cesun.info/misc/gtk/gobject/misc/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/gtk/gobject/misc/</guid><description>final type
Doesn&amp;rsquo;t have field in its class struct other than its parent class struct. Boundary btw. GType and GObject GType handles:
type metadata registration via struct GTypeInfo and g_type_register_static() / g_type_register_dynamic().</description></item><item><title/><link>https://cesun.info/misc/gtk/gobject/signal/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/gtk/gobject/signal/</guid><description>Signal GType ships a simple pub-sub mechanism called signal.
All GTypes can have signal associated with it. You don&amp;rsquo;t need GObject or its subclass to enjoy this feature.
declare acceptable signal name Each class (type) T , during initialization, declare the &amp;ldquo;signals&amp;rdquo; (simply a name string) that instances of T can handle via g_signal_new*() family.
All of them eventually calls g_signal_newv(), register signal handler Party A registers one or more callbacks, known as &amp;ldquo;signal handler&amp;rdquo;, for the signal on a specific instance of T via g_signal_connect*() family.</description></item><item><title/><link>https://cesun.info/misc/hugo/templates/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/hugo/templates/</guid><description>Free functions Free functions are Go functions registered in the funcmap when executing the template.
They are not associated with a go data object, and thus can be used without the context dot (.).
To use a free function, simply type its full name:
1{{range (collections.Slice &amp;#34;foo&amp;#34; &amp;#34;bar&amp;#34;)}} 2 {{.}} 3{{end}} copy Some free function has a simple alias name for convenience. For example, the above code can be written as</description></item><item><title/><link>https://cesun.info/misc/regex/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/regex/</guid><description> Neither of the POSIX REs supports non-greedy matching. Just go to Perl RE for that.
GNU sed and gawk only supports POSIX REs. GNU grep has limited support that allows running a Perl RE on a single line.
POSIX BRE POSIX ERE Perl</description></item><item><title/><link>https://cesun.info/misc/storage/hdd/ideata/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/misc/storage/hdd/ideata/</guid><description>https://web.archive.org/web/20190204014430/http://www.pcguide.com/ref/hdd/if/ide/over.htm</description></item><item><title/><link>https://cesun.info/retro/racks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/retro/racks/</guid><description>For readers who have
The term (19-inch) rack is nowadays ambiguous, referring to the setup as a whole. A rack cabinet is the first
Specific part are:
rack shelf / rack chassis / sliding
Digital eqiupment is not always built with sliders or
shelf / chassis are itself fastening
rack rail
Rack rail is the hole-tapped metal pillars where the protruding ears of shelf / chassis can be fastened to.</description></item><item><title/><link>https://cesun.info/web/chrome-behavior/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/web/chrome-behavior/</guid><description>download dialog GET /linux/Linux-PAM-docs/doc/adg/Linux-PAM_ADG.pdf HTTP/1.1 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,/;q=0.8,application/signed-exchange;v=b3;q=0.7 Accept-Encoding: gzip, deflate, br, zstd Accept-Language: en-US,en;q=0.9,zh-TW;q=0.8,zh-CN;q=0.7,zh;q=0.6 Connection: keep-alive Host: fossies.org Referer: https://www.google.com/ Sec-Fetch-Dest: document Sec-Fetch-Mode: navigate Sec-Fetch-Site: cross-site Sec-Fetch-User: ?1 Upgrade-Insecure-Requests: 1 User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36 sec-ch-ua: &amp;ldquo;Chromium&amp;rdquo;;v=&amp;ldquo;122&amp;rdquo;, &amp;ldquo;Not(A:Brand&amp;rdquo;;v=&amp;ldquo;24&amp;rdquo;, &amp;ldquo;Google Chrome&amp;rdquo;;v=&amp;ldquo;122&amp;rdquo; sec-ch-ua-mobile: ?0 sec-ch-ua-platform: &amp;ldquo;Linux&amp;rdquo;
HTTP/1.1 200 Ok Date: Mon, 18 Mar 2024 13:07:37 GMT Server: Apache X-Content-Type-Options: nosniff Content-Disposition: attachment; filename=Linux-PAM_ADG.pdf Cache-Control: no-cache, no-store, must-revalidate Strict-Transport-Security: max-age=31536000 Content-Length: 110352 Last-Modified: Wed, 17 Jan 2024 10:31:16 GMT X-XSS-Protection: 1; mode=block X-Frame-Options: SAMEORIGIN Keep-Alive: timeout=5 Connection: Keep-Alive Content-Type: application/pdf</description></item><item><title/><link>https://cesun.info/web/web-icons/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cesun.info/web/web-icons/</guid><description>the bootstrap ages: custom glyph and &amp;lt;i&amp;gt; tag 1&amp;lt;div class=&amp;#34;icon-preview col s6 m3&amp;#34;&amp;gt; 2 &amp;lt;!-- instead of showing `add_location` as english characters, the whole text is interpreted as a ligature glyph in the rendered fonts--&amp;gt; 3 &amp;lt;i class=&amp;#34;material-icons dp48&amp;#34;&amp;gt;add_location&amp;lt;/i&amp;gt; 4&amp;lt;/div&amp;gt; copy https://icons.getbootstrap.com/ ℹi pros: the color of icons can be adjusted via CSS color just like other text cons:
icon can&amp;rsquo;t have more than 1 color or detail component, the glyph pixels are just 1 and 0, if you set the color to white, the whole icon just disappears from a white background.</description></item></channel></rss>