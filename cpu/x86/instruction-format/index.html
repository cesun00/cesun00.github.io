<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>x86 / x86-64 Instruction Format | Infinity Architect</title>
<link rel=stylesheet href=/main.css><script type=importmap>
  {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.167.1/+esm"
      }
  }
  </script><script type=module src=/theme.mjs></script><style>.tag-android{background-color:hsl(0deg 80% 70%)}.dark .tag-android{background-color:hsl(0deg 80% 20%)}.tag-annotation{background-color:hsl(50deg 80% 70%)}.dark .tag-annotation{background-color:hsl(50deg 80% 20%)}.tag-assembly{background-color:hsl(100deg 80% 70%)}.dark .tag-assembly{background-color:hsl(100deg 80% 20%)}.tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 70%)}.dark .tag-asymmetrical-cryptography{background-color:hsl(150deg 80% 20%)}.tag-awk{background-color:hsl(200deg 80% 70%)}.dark .tag-awk{background-color:hsl(200deg 80% 20%)}.tag-bootloader{background-color:hsl(250deg 80% 70%)}.dark .tag-bootloader{background-color:hsl(250deg 80% 20%)}.tag-bytecode{background-color:hsl(300deg 80% 70%)}.dark .tag-bytecode{background-color:hsl(300deg 80% 20%)}.tag-c{background-color:hsl(350deg 80% 70%)}.dark .tag-c{background-color:hsl(350deg 80% 20%)}.tag-cxx{background-color:hsl(40deg 80% 70%)}.dark .tag-cxx{background-color:hsl(40deg 80% 20%)}.tag-cxx-stl{background-color:hsl(90deg 80% 70%)}.dark .tag-cxx-stl{background-color:hsl(90deg 80% 20%)}.tag-cgroup{background-color:hsl(140deg 80% 70%)}.dark .tag-cgroup{background-color:hsl(140deg 80% 20%)}.tag-cheetsheet{background-color:hsl(190deg 80% 70%)}.dark .tag-cheetsheet{background-color:hsl(190deg 80% 20%)}.tag-clang{background-color:hsl(240deg 80% 70%)}.dark .tag-clang{background-color:hsl(240deg 80% 20%)}.tag-coding-theory{background-color:hsl(290deg 80% 70%)}.dark .tag-coding-theory{background-color:hsl(290deg 80% 20%)}.tag-compression{background-color:hsl(340deg 80% 70%)}.dark .tag-compression{background-color:hsl(340deg 80% 20%)}.tag-concept{background-color:hsl(30deg 80% 70%)}.dark .tag-concept{background-color:hsl(30deg 80% 20%)}.tag-cpu{background-color:hsl(80deg 80% 70%)}.dark .tag-cpu{background-color:hsl(80deg 80% 20%)}.tag-crawler{background-color:hsl(130deg 80% 70%)}.dark .tag-crawler{background-color:hsl(130deg 80% 20%)}.tag-cryptography{background-color:hsl(180deg 80% 70%)}.dark .tag-cryptography{background-color:hsl(180deg 80% 20%)}.tag-css{background-color:hsl(230deg 80% 70%)}.dark .tag-css{background-color:hsl(230deg 80% 20%)}.tag-database{background-color:hsl(280deg 80% 70%)}.dark .tag-database{background-color:hsl(280deg 80% 20%)}.tag-deflate{background-color:hsl(330deg 80% 70%)}.dark .tag-deflate{background-color:hsl(330deg 80% 20%)}.tag-design{background-color:hsl(20deg 80% 70%)}.dark .tag-design{background-color:hsl(20deg 80% 20%)}.tag-dns{background-color:hsl(70deg 80% 70%)}.dark .tag-dns{background-color:hsl(70deg 80% 20%)}.tag-dom{background-color:hsl(120deg 80% 70%)}.dark .tag-dom{background-color:hsl(120deg 80% 20%)}.tag-driver{background-color:hsl(170deg 80% 70%)}.dark .tag-driver{background-color:hsl(170deg 80% 20%)}.tag-elastic{background-color:hsl(220deg 80% 70%)}.dark .tag-elastic{background-color:hsl(220deg 80% 20%)}.tag-elf{background-color:hsl(270deg 80% 70%)}.dark .tag-elf{background-color:hsl(270deg 80% 20%)}.tag-elk{background-color:hsl(320deg 80% 70%)}.dark .tag-elk{background-color:hsl(320deg 80% 20%)}.tag-flex{background-color:hsl(10deg 80% 70%)}.dark .tag-flex{background-color:hsl(10deg 80% 20%)}.tag-gc{background-color:hsl(60deg 80% 70%)}.dark .tag-gc{background-color:hsl(60deg 80% 20%)}.tag-gcc{background-color:hsl(110deg 80% 70%)}.dark .tag-gcc{background-color:hsl(110deg 80% 20%)}.tag-gnu{background-color:hsl(160deg 80% 70%)}.dark .tag-gnu{background-color:hsl(160deg 80% 20%)}.tag-go{background-color:hsl(210deg 80% 70%)}.dark .tag-go{background-color:hsl(210deg 80% 20%)}.tag-gzip{background-color:hsl(260deg 80% 70%)}.dark .tag-gzip{background-color:hsl(260deg 80% 20%)}.tag-hash{background-color:hsl(310deg 80% 70%)}.dark .tag-hash{background-color:hsl(310deg 80% 20%)}.tag-http{background-color:hsl(0deg 80% 70%)}.dark .tag-http{background-color:hsl(0deg 80% 20%)}.tag-huffman{background-color:hsl(50deg 80% 70%)}.dark .tag-huffman{background-color:hsl(50deg 80% 20%)}.tag-java{background-color:hsl(100deg 80% 70%)}.dark .tag-java{background-color:hsl(100deg 80% 20%)}.tag-java-module{background-color:hsl(150deg 80% 70%)}.dark .tag-java-module{background-color:hsl(150deg 80% 20%)}.tag-javascript{background-color:hsl(200deg 80% 70%)}.dark .tag-javascript{background-color:hsl(200deg 80% 20%)}.tag-jdk{background-color:hsl(250deg 80% 70%)}.dark .tag-jdk{background-color:hsl(250deg 80% 20%)}.tag-js{background-color:hsl(300deg 80% 70%)}.dark .tag-js{background-color:hsl(300deg 80% 20%)}.tag-jvm{background-color:hsl(350deg 80% 70%)}.dark .tag-jvm{background-color:hsl(350deg 80% 20%)}.tag-kernel{background-color:hsl(40deg 80% 70%)}.dark .tag-kernel{background-color:hsl(40deg 80% 20%)}.tag-lexer{background-color:hsl(90deg 80% 70%)}.dark .tag-lexer{background-color:hsl(90deg 80% 20%)}.tag-linux{background-color:hsl(140deg 80% 70%)}.dark .tag-linux{background-color:hsl(140deg 80% 20%)}.tag-log4j2{background-color:hsl(190deg 80% 70%)}.dark .tag-log4j2{background-color:hsl(190deg 80% 20%)}.tag-lz77{background-color:hsl(240deg 80% 70%)}.dark .tag-lz77{background-color:hsl(240deg 80% 20%)}.tag-make{background-color:hsl(290deg 80% 70%)}.dark .tag-make{background-color:hsl(290deg 80% 20%)}.tag-makefile{background-color:hsl(340deg 80% 70%)}.dark .tag-makefile{background-color:hsl(340deg 80% 20%)}.tag-maven{background-color:hsl(30deg 80% 70%)}.dark .tag-maven{background-color:hsl(30deg 80% 20%)}.tag-memory{background-color:hsl(80deg 80% 70%)}.dark .tag-memory{background-color:hsl(80deg 80% 20%)}.tag-multithreading{background-color:hsl(130deg 80% 70%)}.dark .tag-multithreading{background-color:hsl(130deg 80% 20%)}.tag-mybatis{background-color:hsl(180deg 80% 70%)}.dark .tag-mybatis{background-color:hsl(180deg 80% 20%)}.tag-mysql{background-color:hsl(230deg 80% 70%)}.dark .tag-mysql{background-color:hsl(230deg 80% 20%)}.tag-nasm{background-color:hsl(280deg 80% 70%)}.dark .tag-nasm{background-color:hsl(280deg 80% 20%)}.tag-node{background-color:hsl(330deg 80% 70%)}.dark .tag-node{background-color:hsl(330deg 80% 20%)}.tag-nodejs{background-color:hsl(20deg 80% 70%)}.dark .tag-nodejs{background-color:hsl(20deg 80% 20%)}.tag-openssl{background-color:hsl(70deg 80% 70%)}.dark .tag-openssl{background-color:hsl(70deg 80% 20%)}.tag-playwright{background-color:hsl(120deg 80% 70%)}.dark .tag-playwright{background-color:hsl(120deg 80% 20%)}.tag-posix{background-color:hsl(170deg 80% 70%)}.dark .tag-posix{background-color:hsl(170deg 80% 20%)}.tag-powershell{background-color:hsl(220deg 80% 70%)}.dark .tag-powershell{background-color:hsl(220deg 80% 20%)}.tag-programming-langauge{background-color:hsl(270deg 80% 70%)}.dark .tag-programming-langauge{background-color:hsl(270deg 80% 20%)}.tag-programming-language{background-color:hsl(320deg 80% 70%)}.dark .tag-programming-language{background-color:hsl(320deg 80% 20%)}.tag-qemu{background-color:hsl(10deg 80% 70%)}.dark .tag-qemu{background-color:hsl(10deg 80% 20%)}.tag-redis{background-color:hsl(60deg 80% 70%)}.dark .tag-redis{background-color:hsl(60deg 80% 20%)}.tag-retrocomputing{background-color:hsl(110deg 80% 70%)}.dark .tag-retrocomputing{background-color:hsl(110deg 80% 20%)}.tag-rfc{background-color:hsl(160deg 80% 70%)}.dark .tag-rfc{background-color:hsl(160deg 80% 20%)}.tag-sdram{background-color:hsl(210deg 80% 70%)}.dark .tag-sdram{background-color:hsl(210deg 80% 20%)}.tag-sed{background-color:hsl(260deg 80% 70%)}.dark .tag-sed{background-color:hsl(260deg 80% 20%)}.tag-slf4j{background-color:hsl(310deg 80% 70%)}.dark .tag-slf4j{background-color:hsl(310deg 80% 20%)}.tag-spring{background-color:hsl(0deg 80% 70%)}.dark .tag-spring{background-color:hsl(0deg 80% 20%)}.tag-spring-boot{background-color:hsl(50deg 80% 70%)}.dark .tag-spring-boot{background-color:hsl(50deg 80% 20%)}.tag-spring-data{background-color:hsl(100deg 80% 70%)}.dark .tag-spring-data{background-color:hsl(100deg 80% 20%)}.tag-spring-ioc{background-color:hsl(150deg 80% 70%)}.dark .tag-spring-ioc{background-color:hsl(150deg 80% 20%)}.tag-sql{background-color:hsl(200deg 80% 70%)}.dark .tag-sql{background-color:hsl(200deg 80% 20%)}.tag-streaming{background-color:hsl(250deg 80% 70%)}.dark .tag-streaming{background-color:hsl(250deg 80% 20%)}.tag-template{background-color:hsl(300deg 80% 70%)}.dark .tag-template{background-color:hsl(300deg 80% 20%)}.tag-testing{background-color:hsl(350deg 80% 70%)}.dark .tag-testing{background-color:hsl(350deg 80% 20%)}.tag-thymeleaf{background-color:hsl(40deg 80% 70%)}.dark .tag-thymeleaf{background-color:hsl(40deg 80% 20%)}.tag-tls{background-color:hsl(90deg 80% 70%)}.dark .tag-tls{background-color:hsl(90deg 80% 20%)}.tag-tomcat{background-color:hsl(140deg 80% 70%)}.dark .tag-tomcat{background-color:hsl(140deg 80% 20%)}.tag-transaction{background-color:hsl(190deg 80% 70%)}.dark .tag-transaction{background-color:hsl(190deg 80% 20%)}.tag-transistor{background-color:hsl(240deg 80% 70%)}.dark .tag-transistor{background-color:hsl(240deg 80% 20%)}.tag-ts{background-color:hsl(290deg 80% 70%)}.dark .tag-ts{background-color:hsl(290deg 80% 20%)}.tag-typescript{background-color:hsl(340deg 80% 70%)}.dark .tag-typescript{background-color:hsl(340deg 80% 20%)}.tag-unix{background-color:hsl(30deg 80% 70%)}.dark .tag-unix{background-color:hsl(30deg 80% 20%)}.tag-web{background-color:hsl(80deg 80% 70%)}.dark .tag-web{background-color:hsl(80deg 80% 20%)}.tag-x86{background-color:hsl(130deg 80% 70%)}.dark .tag-x86{background-color:hsl(130deg 80% 20%)}.tag-x86_64{background-color:hsl(180deg 80% 70%)}.dark .tag-x86_64{background-color:hsl(180deg 80% 20%)}.tag-x86-64{background-color:hsl(230deg 80% 70%)}.dark .tag-x86-64{background-color:hsl(230deg 80% 20%)}.tag-xpath{background-color:hsl(280deg 80% 70%)}.dark .tag-xpath{background-color:hsl(280deg 80% 20%)}.tag-zlib{background-color:hsl(330deg 80% 70%)}.dark .tag-zlib{background-color:hsl(330deg 80% 20%)}</style></head><body><script>localStorage.getItem("dark-theme")&&document.body.classList.add("dark")</script><header><h2 id=banner><a href=/>Infinity Architect</a></h2><div id=top-sections><a href=/android/ class=hoverable>Android </a><a href=/cxx/ class=hoverable>C/C++ </a><a href=/compression/ class=hoverable>Compression </a><a href=/cpu/ class=active>CPU </a><a href=/crypto/ class=hoverable>Cryptography </a><a href=/db/ class=hoverable>Database </a><a href=/ee/ class=hoverable>Electronic Engineering </a><a href=/linux/ class=hoverable>GNU/Linux </a><a href=/go/ class=hoverable>Golang </a><a href=/java/ class=hoverable>Java </a><a href=/microservice/ class=hoverable>Microservice </a><a href=/net/ class=hoverable>Network & Protocol </a><a href=/physics/ class=hoverable>Physics </a><a href=/retro/ class=hoverable>Retro-Computing </a><a href=/toy/ class=hoverable>Toys </a><a href=/windev/ class=hoverable>Window</a></div><div class=theme-switch style="align-self:center;margin:auto 20px"><input type=checkbox id=theme-checkbox>
<label for=theme-checkbox><div></div><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path fill-rule="evenodd" d="M9.528 1.718a.75.75.0 01.162.819A8.97 8.97.0 009 6a9 9 0 009 9 8.97 8.97.0 003.463-.69.75.75.0 01.981.98 10.503 10.503.0 01-9.694 6.46c-5.799.0-10.5-4.701-10.5-10.5.0-4.368 2.667-8.112 6.46-9.694a.75.75.0 01.818.162z" clip-rule="evenodd"/></svg>
</span><span><svg viewBox="0 0 24 24" fill="currentcolor" class="w-6 h-6"><path d="M12 2.25a.75.75.0 01.75.75v2.25a.75.75.0 01-1.5.0V3a.75.75.0 01.75-.75zM7.5 12a4.5 4.5.0 119 0 4.5 4.5.0 01-9 0zM18.894 6.166a.75.75.0 00-1.06-1.06l-1.591 1.59a.75.75.0 101.06 1.061l1.591-1.59zM21.75 12a.75.75.0 01-.75.75h-2.25a.75.75.0 010-1.5H21a.75.75.0 01.75.75zm-3.916 6.894a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 10-1.061 1.06l1.59 1.591zM12 18a.75.75.0 01.75.75V21a.75.75.0 01-1.5.0v-2.25A.75.75.0 0112 18zM7.758 17.303a.75.75.0 00-1.061-1.06l-1.591 1.59a.75.75.0 001.06 1.061l1.591-1.59zM6 12a.75.75.0 01-.75.75H3a.75.75.0 010-1.5h2.25A.75.75.0 016 12zm.697-4.243a.75.75.0 001.06-1.06l-1.59-1.591a.75.75.0 00-1.061 1.06l1.59 1.591z"/></svg></span></label></div></header><main><article class=basic-text><div style=font-family:monospace;font-size:1.5em><div class=basic-text>/<a href=/>HOME</a>/<a href=/cpu/>CPU</a>/<a href=/cpu/x86/>x86 Architecture</a>/
$</div></div><div style=margin-bottom:60px><h1 style=margin-bottom:0>x86 / x86-64 Instruction Format</h1><p class=aux-text style=margin-top:0>Published at: April 19, 2024
| Last modification: August 1, 2024</p><div style=line-height:2em><span class="page-tag tag-assembly">assembly</span>
<span class="page-tag tag-cpu">CPU</span>
<span class="page-tag tag-x86">x86</span>
<span class="page-tag tag-x86_64">x86_64</span></div></div><div><p>This article describes the format of the x86-protected mode instructions.
<a href=#64-bit>Discussion of the 64-bit mode instruction format</a> will be built on the x86 one since they share a lot of structure in common.</p><p>Extensions to x86, including AVX, and SSE instructions,
all use the same structure except that an escape prefix is used to identify the extension.</p><h2 id=overview-32-bit-protected-mode-instruction-format>Overview: 32-bit protected mode instruction format</h2><p>An encoded instruction consists of the following components, among which only the <code>opcode</code> is mandatory.</p><div class=wide-container><button>expand</button><div class=wide-item><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 1232 201"><g transform="translate(8,16)"><path d="M328 0h8" fill="none" stroke="currentcolor"/><path d="M688 0h8" fill="none" stroke="currentcolor"/><path d="M0 16H1216" fill="none" stroke="currentcolor"/><path d="M0 64H1216" fill="none" stroke="currentcolor"/><path d="M160 144H416" fill="none" stroke="currentcolor"/><path d="M544 144H8e2" fill="none" stroke="currentcolor"/><path d="M160 176H416" fill="none" stroke="currentcolor"/><path d="M544 176H8e2" fill="none" stroke="currentcolor"/><path d="M0 16V64" fill="none" stroke="currentcolor"/><path d="M128 32V48" fill="none" stroke="currentcolor"/><path d="M160 144v32" fill="none" stroke="currentcolor"/><path d="M320-8V8" fill="none" stroke="currentcolor"/><path d="M320 32V48" fill="none" stroke="currentcolor"/><path d="M352 72V88" fill="none" stroke="currentcolor"/><path d="M416 144v32" fill="none" stroke="currentcolor"/><path d="M512 32V48" fill="none" stroke="currentcolor"/><path d="M544 144v32" fill="none" stroke="currentcolor"/><path d="M608 72V88" fill="none" stroke="currentcolor"/><path d="M704-8V8" fill="none" stroke="currentcolor"/><path d="M704 32V48" fill="none" stroke="currentcolor"/><path d="M8e2 144v32" fill="none" stroke="currentcolor"/><path d="M960 32V48" fill="none" stroke="currentcolor"/><path d="M1216 16V64" fill="none" stroke="currentcolor"/><path d="M128 24v8" fill="none" stroke="currentcolor"/><path d="M128 48v8" fill="none" stroke="currentcolor"/><path d="M320 0V8" fill="none" stroke="currentcolor"/><path d="M320 24v8" fill="none" stroke="currentcolor"/><path d="M320 48v8" fill="none" stroke="currentcolor"/><path d="M352 72v8" fill="none" stroke="currentcolor"/><path d="M512 24v8" fill="none" stroke="currentcolor"/><path d="M512 48v8" fill="none" stroke="currentcolor"/><path d="M608 72v8" fill="none" stroke="currentcolor"/><path d="M704 0V8" fill="none" stroke="currentcolor"/><path d="M704 24v8" fill="none" stroke="currentcolor"/><path d="M704 48v8" fill="none" stroke="currentcolor"/><path d="M960 24v8" fill="none" stroke="currentcolor"/><path d="M960 48v8" fill="none" stroke="currentcolor"/><polygon points="336.000000,0.000000 324.000000,-5.600000 324.000000,5.600000" fill="currentcolor" transform="rotate(180.000000, 328.000000, 0.000000)"/><polygon points="704.000000,0.000000 692.000000,-5.600000 692.000000,5.600000" fill="currentcolor" transform="rotate(0.000000, 696.000000, 0.000000)"/><text text-anchor="middle" x="16" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="16" y="52" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="24" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="24" y="52" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="32" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="40" y="36" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="40" y="52" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="48" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="48" y="52" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="56" y="36" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="56" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="64" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="72" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="80" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="88" y="52" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="96" y="52" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="104" y="52" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="112" y="52" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="144" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="144" y="52" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="152" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="152" y="52" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="160" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="160" y="52" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="168" y="36" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="176" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="176" y="52" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="176" y="132" fill="currentcolor" style="font-size:1em">7</text><text text-anchor="middle" x="176" y="164" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="184" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="184" y="52" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="184" y="164" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="192" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="192" y="164" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="200" y="52" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="208" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="208" y="52" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="208" y="132" fill="currentcolor" style="font-size:1em">6</text><text text-anchor="middle" x="216" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="224" y="36" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="224" y="52" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="224" y="164" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="232" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="240" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="240" y="52" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="240" y="132" fill="currentcolor" style="font-size:1em">5</text><text text-anchor="middle" x="240" y="164" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="248" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="248" y="52" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="248" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="256" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="256" y="164" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="264" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="264" y="164" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="272" y="52" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="272" y="132" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="272" y="164" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="280" y="52" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="280" y="164" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="288" y="164" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="296" y="164" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="304" y="132" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="304" y="164" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="312" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="320" y="164" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="336" y="36" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="336" y="52" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="336" y="132" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="336" y="164" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="344" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="344" y="52" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="344" y="164" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="352" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="352" y="100" fill="currentcolor" style="font-size:1em">V</text><text text-anchor="middle" x="352" y="164" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="360" y="4" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="360" y="36" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="360" y="52" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="368" y="4" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="368" y="36" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="368" y="52" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="368" y="132" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="376" y="4" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="376" y="36" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="376" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="384" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="384" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="392" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="400" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="400" y="52" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="400" y="132" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="408" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="408" y="52" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="424" y="4" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="424" y="52" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="432" y="4" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="432" y="52" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="440" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="440" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="448" y="4" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="448" y="52" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="456" y="4" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="456" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="464" y="4" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="464" y="52" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="472" y="4" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="472" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="480" y="52" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="488" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="496" y="4" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="504" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="512" y="4" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="520" y="4" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="528" y="4" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="528" y="36" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="528" y="52" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="536" y="4" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="536" y="36" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="536" y="52" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="544" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="544" y="36" fill="currentcolor" style="font-size:1em">B</text><text text-anchor="middle" x="552" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="552" y="52" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="560" y="52" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="560" y="132" fill="currentcolor" style="font-size:1em">7</text><text text-anchor="middle" x="560" y="164" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="568" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="568" y="164" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="576" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="576" y="164" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="584" y="164" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="592" y="52" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="592" y="132" fill="currentcolor" style="font-size:1em">6</text><text text-anchor="middle" x="592" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="600" y="52" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="608" y="100" fill="currentcolor" style="font-size:1em">V</text><text text-anchor="middle" x="608" y="164" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="616" y="52" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="624" y="52" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="624" y="132" fill="currentcolor" style="font-size:1em">5</text><text text-anchor="middle" x="624" y="164" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="632" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="632" y="164" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="640" y="52" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="640" y="164" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="648" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="648" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="656" y="52" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="656" y="132" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="656" y="164" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="664" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="672" y="52" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="688" y="132" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="704" y="164" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="720" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="720" y="52" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="720" y="132" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="720" y="164" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="728" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="728" y="52" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="728" y="164" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="736" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="736" y="52" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="736" y="164" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="744" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="744" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="752" y="36" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="752" y="52" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="752" y="132" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="760" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="760" y="52" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="768" y="36" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="776" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="776" y="52" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="784" y="36" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="784" y="52" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="784" y="132" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="792" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="800" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="800" y="52" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="808" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="816" y="52" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="824" y="52" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="832" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="840" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="856" y="52" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="864" y="52" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="880" y="52" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="888" y="52" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="896" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="904" y="52" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="912" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="920" y="52" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="928" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="936" y="52" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="976" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="976" y="52" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="984" y="36" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="984" y="52" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="992" y="36" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="992" y="52" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="1e3" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1e3" y="52" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="1008" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="1016" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1016" y="52" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="1024" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="1024" y="52" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="1032" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1040" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1040" y="52" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="1056" y="52" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="1064" y="52" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="1072" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1080" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1088" y="52" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1104" y="52" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1112" y="52" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="1128" y="52" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="1136" y="52" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="1144" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1152" y="52" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1160" y="52" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1168" y="52" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="1176" y="52" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1184" y="52" fill="currentcolor" style="font-size:1em">)</text></g></svg></div></div></div><p>x86 uses variable-length instructions.
An instruction can specify both computation and memory read/write, rendering x86 not a load-store architecture.</p><p>At most 1 memory reference can be encoded in an instruction:
There are register-register, register-memory, memory-register, and immediate-register/memory instructions;
However, memory-memory instruction is never a thing.</p><p>Many assemblers, including NASM, use a bracket-surrounded expression to specify this memory operand.</p><h3 id=the-boundary-between-primary-opcode-and-modrm-is-frequently-broken-for-the-sake-of-compact-encoding>The Boundary between <code>primary opcode</code> and <code>ModR/M</code> Is Frequently Broken for the Sake of Compact Encoding</h3><h4 id=modrm35-is-sometimes-used-as-part-of-opcode><code>ModR/M[3:5]</code> is sometimes used as part of opcode.</h4><p>In an encoded instruction, its <code>opcode</code> determines the operation, and the other bits encode the operand.</p><ul><li>For most instructions, its <code>opcode</code> is given in the <code>primary opcode</code> field.</li><li>Some instructions only take a single memory operand, thus the use of the <code>ModR/M</code> byte can&rsquo;t be avoided.
The fact that no register is involved makes the <code>ModR/M[3:5]</code> bit available for encoding extra bits of opcode.
For such instructions, its <code>opcode</code> consists of both <code>primary opcode</code> field and the <code>Reg/Opcode</code> field of the <code>ModR/M</code> byte.</li></ul><p>For example,</p><ul><li><p><code>INC DWORD [0]</code> is <code>ff 05 00 00 00 00</code></p><p><code>ModR/M = 0x05 = 0b 00 000 101</code>.
<code>r/m = 101</code> indicates a 32-bit displacement, and <code>Reg/Opcode = 000</code> is an opcode extension to <code>ff</code> representing an <code>INC</code>.</p></li><li><p><code>DEC DWORD [0]</code> is <code>ff 0d 00 00 00 00</code></p><p><code>ModR/M = 0x0d = 0b 00 001 101</code>,
<code>r/m = 101</code> indicates a 32-bit displacement, and <code>Reg/Opcode = 001</code> is an opcode extension to <code>ff</code> representing a <code>DEC</code>.</p></li></ul><p>The Intel SDM documents this by a <code>/digit</code> syntax where <code>digit</code> is the value of <code>Reg/Opcode</code> from 0 to 7;
e.g. <code>FF /0</code> indicates that the <code>Reg/Opcode</code> field of <code>ModR/M</code> must be 0.</p><h4 id=primary-opcode-field-sometimes-specifies-a-register-depending-on-your-interpretation><code>primary opcode</code> field sometimes specifies a register (depending on your interpretation)</h4><p>The boundary between operations and operands can be vague.</p><p>For example,</p><ul><li><code>XCHG EAX, ECX</code> encodes to a single <code>91H</code> byte which belongs to the <code>primary opcode</code> field and gives the complete <code>opcode</code>; while</li><li><code>XCHG EBX, ECX</code> encodes to <code>87 d9</code> where <code>87</code> is the <code>primary opcode</code> (also complete opcode) and <code>d9</code> is the <code>ModR/M</code> identifying 2 registers as operands.</li></ul><p>What this means from the designer&rsquo;s perspective is that:</p><blockquote><p>In addition to letting <em>exchanging a 32-bit register with doubleword from 32-bit register or memory</em> be an opcode (<code>87</code>) and
giving 2 operands registers in other fields (<code>d9</code>), x86 instruction designers decided also to make <em>exchanging EAX with ECX</em> (<code>91</code>) an opcode.</p></blockquote><p>In fact, all of the following are standalone opcodes:</p><table><thead><tr><th>exchanging EAX with &mldr;</th><th>opcode</th></tr></thead><tbody><tr><td>EAX</td><td>90H</td></tr><tr><td>ECX</td><td>91H</td></tr><tr><td>EDX</td><td>92H</td></tr><tr><td>EBX</td><td>93H</td></tr><tr><td>ESP</td><td>94H</td></tr><tr><td>EBP</td><td>95H</td></tr><tr><td>ESI</td><td>96H</td></tr><tr><td>EDI</td><td>97H</td></tr></tbody></table><p>Depending on one&rsquo;s interpretation, he can claim that either</p><ul><li><code>Exchanging EAX with foo</code> is an operation and <code>foo</code> is the operand; or</li><li><code>Exchanging EAX with EAX/ECX/EDX/...</code> each is an operation and there is no operand.</li></ul><p>The Intel SDM takes the first figure of speech: <code>Exchanging EAX with foo</code> is an operation with opcode <code>0b 1001 0xxx</code>, and 8 possible
choices of operand register are encoded in the least significant 3 bits of the <code>opcode</code> byte.</p><p>Such encoding is documented using a <code>&lt;base> +rd</code> syntax where <code>&lt;base></code> is an integer in hex whose least significant 3 bits are 0 (i.e. either <code>?0</code> or <code>?8</code> in hexadecimal).
For example, &ldquo;exchanging EAX with a 32-bit register&rdquo; <a href=https://www.felixcloutier.com/x86/xchg>is documented as <code>90 +rd</code></a>, indicating
that for all possible values of the least significant 3 bits of the opcode (i.e. 0 to 7), adding it with <code>90</code> obtains a different opcode that
adds <code>EAX</code> with a different register.
The least significant 3 bits of the last byte of <code>primary opcode</code> is sometimes referred to as the &ldquo;reg field of the opcode&rdquo;.</p><p>Assigning frequently used instructions with shorter encoding makes programs more compact.
However, this reduces human-readability and makes documentation harder to write and understand.
Fortunately, it&rsquo;s only possible to encode a single register in the <code>opcode</code> byte,
and other operands must be either implied register (e.g. EAX) or an immediate.
Because of that, only a few frequently used forms of certain instructions employed such encoding.
They are:</p><table><thead><tr><th>instruction name</th><th>base</th></tr></thead><tbody><tr><td><code>PUSH</code></td><td>50</td></tr><tr><td><code>XCHG</code></td><td>90</td></tr><tr><td><code>BSWAP</code></td><td>0FC8</td></tr><tr><td><code>DEC</code></td><td>48</td></tr><tr><td><code>INC</code></td><td>40</td></tr><tr><td><code>MOV</code></td><td>b8</td></tr><tr><td><code>POP</code></td><td>58</td></tr></tbody></table><h3 id=encoded-instructions-binary-and-assembler-instructions-text-lines-are-different-animals>Encoded Instructions (Binary) and Assembler Instructions (Text Lines) are Different Animals</h3><p>From the assembler language&rsquo;s perspective, an instruction can have 0, 1, 2, or even 3 operands.
Intuitively, the <code>opcode</code> field should correspond to the instruction name (e.g. <code>MOV</code> / <code>XCHG</code> / etc) and define what the operation is,
and the other fields should give the operands;
but the previous discussion has shown that such ideal world doesn&rsquo;t exist, and it&rsquo;s sometimes hard to divide operation and operand:
<code>XCHG EAX, ?</code> is a 2-operand instruction but ends up assembled as a single byte;</p><p>The point is that one should not assume the structure of a written instruction to be preserved in its encoded binary.</p><h4 id=address-arithmetic-expression-isnt-real>Address Arithmetic Expression Isn&rsquo;t Real</h4><p>Many assemblers support the <code>Mod=00/01/10</code> addressing mode (i.e. base + index + displacement) and <code>SIB</code> scaling-based addressing
(i.e. base + index * scale + displacement) using the syntax of an arithmetic expression.
For example, NASM encodes <code>INC DWORD [EAX+EBX*4+0x32]</code> to <code>ff 44 98 32</code>.</p><p>The point is that the arithmetic expression a programmer wrote instructs the assembler to generate the correct addressing mode
(encoded in the <code>ModR/M</code> byte) for the instruction, instead of making any arithmetic calculation happen like a high-level programming language does.
Also, a programmer has limited choices for all of the base, index, and scale:</p><figure><img src=/cpu/x86/instruction-format/ea.png alt="All possible mix-and-match of EA computation methods."><figcaption><p>All possible mix-and-match of EA computation methods.</p></figcaption></figure><p>Of course, CPU hardware eventually reads <code>ff 44 98 32</code> and computes the address in order to access the memory, and in that sense, the arithmetic does happen.</p><h3 id=prefixes>Prefixes</h3><p>The prefixes component is a sequence of modifiers to the instruction, one byte each. The order among prefixes doesn&rsquo;t matter.</p><p>There are 4 groups of prefixes in the protected mode. An instruction can have at most 1 prefix from each group, i.e. at most 4 prefixes.</p><p>The 4 groups are:</p><ol><li><p>Lock and Repeat</p><ul><li><code>F0H</code>: the <code>LOCK</code> prefix, indicating a memory bus lock for the address mentioned in the instruction.
This prefix is famous for implementing various so-called lock-free algorithms. For CPUs designed for a multi-socket motherboard,
this prefix causes a special <code>LOCK</code> pin to become low-active thus informing other CPUs to not access the same address before the signal is
canceled.</li></ul><p>Repeat prefixes apply only to string instructions (e.g. <code>MOVS</code>, <code>CMPS</code> etc.), causing the instruction to act on each element of the string;
or input/output instructions;
Use of the repeat prefixes with instructions other than these 2 types may cause undefined behavior.
They are also mandatory for TODO instructions.</p><ul><li><p><code>F2H</code>: the <code>REPNE/REPNZ</code> (Repeat-Not-Zero) prefix.</p></li><li><p><code>F3H</code>: <code>REP</code> or <code>REPE/REPZ</code> (Repeat) prefix.</p></li><li><p><code>BND</code> prefix is also encoded using <code>F2H</code> if the following conditions are true:</p><ul><li><code>CPUID.(EAX=07H, ECX=0):EBX.MPX[bit 14]</code> is set.</li><li><code>BNDCFGU.EN</code> and/or <code>IA32_BNDCFGS.EN</code> is set.</li><li>When the F2 prefix precedes a near CALL, a near RET, a near JMP, a short Jcc, or a near Jcc instruction</li></ul></li></ul></li><li><p>Segment override or branch hint</p><p>Explicitly specifies which segment register an instruction should use, thereby overriding the default segment-register selection used for that instruction.</p><p>Segment override prefixes can&rsquo;t be used with any branch instructions, since <code>2E</code> and <code>3E</code> for <code>Jcc</code> instructions are used as branch hints:</p><ul><li><code>2EH</code>: CS segment override prefix</li><li><code>36H</code>: SS segment override prefix</li><li><code>3EH</code>: DS segment override prefix</li><li><code>26H</code>: ES segment override prefix</li><li><code>64H</code>: FS segment override prefix</li><li><code>65H</code>: GS segment override prefix</li></ul><p>Branch hints are only permitted for the <code>Jcc</code> conditional jump instructions family.</p><ul><li><code>2EH</code>: Branch not taken</li><li><code>3EH</code>: Branch taken</li></ul></li><li><p>Operand-size override <code>66H</code></p><p>This prefix allows a program to switch between 16- and 32-bit operand sizes.
Either size can be the default; Using the prefix selects the non-default size.</p><p>Note that an operand of a memory reference is considered the word / dword data in memory,
not the static displacement encoded in the instruction.
The size of (which is specified by the <code>ModR/M</code> byte).</p><p>For example (NASM flavor),</p><ul><li><code>INC DWORD [0]</code> encodes to <code>ff 05 00 00 00 00</code> which increases the 32-bit integer found at <code>offset=0</code> in the DS segment, while</li><li><code>INC WORD [0]</code> encodes to <code>66 ff 05 00 00 00 00</code> which does the same except that it only interprets the first 2 bytes.</li></ul><p>Regardlessly, the displacement is 4 bytes.</p><p>Some SSE2/SSE3/SSSE3/SSE4 instructions and instructions using a three-byte sequence of primary opcode bytes
may use 66H as a mandatory prefix to express distinct functionality.</p><p>Other use of the 66H prefix is reserved; such use may cause unpredictable behavior.</p></li><li><p>Address-size override <code>67H</code></p><p>switches between 32-bit and 16-bit address generation.
Either size can be the default; the prefix selects the non-default size.</p><p>When operands for the instruction do not reside in memory, using this prefix may cause unpredictable behavior.</p></li></ol><h3 id=primary-opcode>Primary Opcode</h3><p>Opcode specifies the operation to be performed by an instruction.
Some instruction encodes 3 more bits of opcode information into the <code>ModR/M</code> byte.
While such bits are all logically considered opcode, this field is called the primary opcode, and the 3 bits (<code>Reg/Opcode</code> field below) are known as
the extended opcode.</p><p>A primary opcode can be 1, 2, or 3 bytes in length. An additional 3-bit opcode field is sometimes encoded in the <code>ModR/M</code> byte.
Smaller fields can be defined within the primary opcode. Such fields define the direction of operation, size of displacements, register encoding, condition codes, or sign extension. Encoding fields used by an opcode vary depending on the class of operation.</p><ul><li>1 byte opcode includes all <code>00</code> to <code>FFH</code> except a reserved <code>0FH</code>.</li><li>2 bytes and 3 bytes opcode always start with a <code>0FH</code> escape. Such instruction may have a mandatory prefix of (66H, F2H, or F3H), creating a 3 or 4 bytes encoding</li></ul><p>Note that different opcodes may, depending on the design of the assembler, be mapped to the same spelled instruction in the assembly source.</p><h3 id=modrm--sib><code>ModR/M</code> & <code>SIB</code></h3><p>The <code>ModR/M</code> byte</p><ul><li>will not be used if the instruction only takes a register operand. Such instructions are encoded as a single <code>opcode</code> byte.</li><li>otherwise, either there are 2 operands, or there is a single memory operand. In both cases, the <code>ModR/M</code> byte is present and specifies the registers and addressing mode to be used.</li></ul><p>It has the following structure:</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 416 73"><g transform="translate(8,16)"><path d="M0 16H256" fill="none" stroke="currentcolor"/><path d="M0 48H256" fill="none" stroke="currentcolor"/><path d="M0 16V48" fill="none" stroke="currentcolor"/><path d="M256 16V48" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="16" y="4" fill="currentcolor" style="font-size:1em">7</text><text text-anchor="middle" x="16" y="36" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="24" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="32" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="48" y="4" fill="currentcolor" style="font-size:1em">6</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="80" y="4" fill="currentcolor" style="font-size:1em">5</text><text text-anchor="middle" x="80" y="36" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="88" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="96" y="36" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="104" y="36" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="112" y="4" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="112" y="36" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="120" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="128" y="36" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="136" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="144" y="4" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="144" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="152" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="160" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="176" y="4" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="176" y="36" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="184" y="36" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="192" y="36" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="208" y="4" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="240" y="4" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="320" y="36" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="328" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="336" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="344" y="36" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="352" y="36" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="360" y="36" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="376" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="384" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="392" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="400" y="36" fill="currentcolor" style="font-size:1em">e</text></g></svg></div><p><code>Mod</code> indicates whether there is memory access:</p><ul><li><p><code>Mod = 11</code> indicates there are 2 registers operands, given by <code>Reg/Opcode</code> and <code>R/M</code> fields; there is no memory access.</p><p>Since <code>Reg/Opcode</code> is occupied for register specification, it can&rsquo;t be used as extra opcode bits.</p></li><li><p>Otherwise, there is a memory operand whose effective address must be computed. The 3 remaining possible values of <code>Mod</code>, combined with 8 possible values of <code>R/M</code> fields, form 24 ways of computing the EA.</p><ul><li>if the memory operand is the only operand, <code>Reg/Opcode</code> is available for encoding 3 bits of extended opcode.</li><li>otherwise, there is 1 memory operand and 1 register operand. <code>Reg/Opcode</code> gives that register and it can&rsquo;t be used as extra opcode bits.</li></ul></li></ul><h4 id=mod--11><code>Mod == 11</code></h4><p>When <code>Mod=11</code>, 2 register operands are given by <code>Reg/Opcode</code> and <code>R/M</code> fields, each select one of the 8 groups of registers,
and <code>opcode</code> determines the direction of data operation.</p><table><thead><tr><th>Reg/Opcode</th><th>R/M</th><th>register group</th></tr></thead><tbody><tr><td><code>000</code></td><td><code>000</code></td><td><code>EAX/AX/AL/MM0/XMM0</code></td></tr><tr><td><code>001</code></td><td><code>001</code></td><td><code>ECX/CX/CL/MM/XMM1</code></td></tr><tr><td><code>010</code></td><td><code>010</code></td><td><code>EDX/DX/DL/MM2/XMM2</code></td></tr><tr><td><code>011</code></td><td><code>011</code></td><td><code>EBX/BX/BL/MM3/XMM3</code></td></tr><tr><td><code>100</code></td><td><code>100</code></td><td><code>ESP/SP/AH/MM4/XMM4</code></td></tr><tr><td><code>101</code></td><td><code>101</code></td><td><code>EBP/BP/CH/MM5/XMM5</code></td></tr><tr><td><code>110</code></td><td><code>110</code></td><td><code>ESI/SI/DH/MM6/XMM6</code></td></tr><tr><td><code>111</code></td><td><code>111</code></td><td><code>EDI/DI/BH/MM7/XMM7</code></td></tr></tbody></table><p>Each group contains 5 registers of different sizes, i.e. 32, 16, 8, 64, or 128 bits in length.
Within a selected group, the register to be used is determined by the operand size of the instruction.
Any instruction that accepts a register operand has a default operand size, which can be overridden by the <code>66H</code> prefix.</p><h4 id=mod--11-1><code>Mod != 11</code></h4><p><code>Mod != 11</code> means there will be a memory operand, and it also gives the size of <code>displacement</code>.</p><table><thead><tr><th>Mod</th><th>displacement size</th></tr></thead><tbody><tr><td>00</td><td>no displacement</td></tr><tr><td>01</td><td>8 bit</td></tr><tr><td>10</td><td>32 bit</td></tr><tr><td>11</td><td>no memory access; see last section</td></tr></tbody></table><p>The 8 possible values of <code>R/M</code></p><ul><li>The presence of <code>SIB</code> byte is indicated by <code>ModR/M.Mod != 11 && ModR/M.R/M == 100</code>.</li></ul><p>The SIB byte doesn&rsquo;t exist in 16-bit mode, i.e. 80286 and prior, and all x86 running in real mode.</p><div class=codeblock-hook><pre tabindex=0><code>0:	8b 91 12 12 25 32    	mov    edx,DWORD PTR [ecx+0x32251212]
6:	89 91 12 12 25 32    	mov    DWORD PTR [ecx+0x32251212],edx</code></pre><button>copy</button></div><h3 id=displacement>Displacement</h3><p>When the addressing-mode specifier indicates that a displacement will be used to compute the address of an operand, the displacement is encoded in the instruction. A displacement is a signed integer of 32, 16, or eight bits. The eight-bit form is used in the common case when the displacement is sufficiently small. The processor extends an eight-bit displacement to 16 or 32 bits, taking into account the sign.</p><h3 id=immediate-operand>Immediate operand</h3><p>when present, directly provides the value of an operand of the instruction. Immediate operands may be 8, 16, or 32 bits wide. In cases where an eight-bit immediate operand is combined in some way with a 16- or 32-bit operand, the processor automatically extends the size of the eight-bit operand, taking into account the sign.</p><h2 id=64-bit>64-Bit Mode Instruction Format</h2><p>When an x86_64 CPU is running under 64-bit mode (or IA-32e mode for Intel&rsquo;s term),
an extra optional byte known as the <code>REX</code> prefix is introduced for encoding instructions.
The <code>REX</code> prefix must come after any optional/mandatory normal Group 1-4 prefixes and before the primary opcode.</p><p>64-bit instruction encoding has the following structure:</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 1408 73"><g transform="translate(8,16)"><path d="M0 0H1392" fill="none" stroke="currentcolor"/><path d="M0 48H1392" fill="none" stroke="currentcolor"/><path d="M0 0V48" fill="none" stroke="currentcolor"/><path d="M128 16V32" fill="none" stroke="currentcolor"/><path d="M304 16V32" fill="none" stroke="currentcolor"/><path d="M496 16V32" fill="none" stroke="currentcolor"/><path d="M688 16V32" fill="none" stroke="currentcolor"/><path d="M880 16V32" fill="none" stroke="currentcolor"/><path d="M1136 16V32" fill="none" stroke="currentcolor"/><path d="M1392 0V48" fill="none" stroke="currentcolor"/><path d="M128 8v8" fill="none" stroke="currentcolor"/><path d="M128 32v8" fill="none" stroke="currentcolor"/><path d="M304 8v8" fill="none" stroke="currentcolor"/><path d="M304 32v8" fill="none" stroke="currentcolor"/><path d="M496 8v8" fill="none" stroke="currentcolor"/><path d="M496 32v8" fill="none" stroke="currentcolor"/><path d="M688 8v8" fill="none" stroke="currentcolor"/><path d="M688 32v8" fill="none" stroke="currentcolor"/><path d="M880 8v8" fill="none" stroke="currentcolor"/><path d="M880 32v8" fill="none" stroke="currentcolor"/><path d="M1136 8v8" fill="none" stroke="currentcolor"/><path d="M1136 32v8" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="16" y="20" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="16" y="36" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="24" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="24" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="32" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="40" y="20" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="40" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="48" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="48" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="56" y="20" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="56" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="64" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="72" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="80" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="88" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="96" y="36" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="104" y="36" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="112" y="36" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="144" y="20" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="144" y="36" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="152" y="20" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="152" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="160" y="20" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="168" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="176" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="184" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="192" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="208" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="216" y="36" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="232" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="240" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="248" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="256" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="264" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="272" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="280" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="288" y="36" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="320" y="20" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="320" y="36" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="328" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="328" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="336" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="336" y="36" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="344" y="20" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="352" y="20" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="352" y="36" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="360" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="360" y="36" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="368" y="20" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="376" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="384" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="384" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="392" y="20" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="400" y="20" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="400" y="36" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="408" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="416" y="20" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="416" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="424" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="424" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="432" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="440" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="448" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="456" y="36" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="512" y="20" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="512" y="36" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="520" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="520" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="528" y="20" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="536" y="20" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="536" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="544" y="20" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="544" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="552" y="20" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="552" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="560" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="576" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="584" y="36" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="600" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="608" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="616" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="624" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="632" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="640" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="648" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="656" y="36" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="704" y="20" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="704" y="36" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="712" y="20" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="712" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="720" y="20" fill="currentcolor" style="font-size:1em">B</text><text text-anchor="middle" x="728" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="736" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="744" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="752" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="768" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="776" y="36" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="792" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="800" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="808" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="816" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="824" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="832" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="840" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="848" y="36" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="896" y="20" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="896" y="36" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="904" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="904" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="912" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="912" y="36" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="920" y="20" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="928" y="20" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="928" y="36" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="936" y="20" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="936" y="36" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="944" y="20" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="952" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="952" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="960" y="20" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="960" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="968" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="976" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="976" y="36" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="984" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="992" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="1e3" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="1008" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1016" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1032" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1040" y="36" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="1056" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="1064" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="1072" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1080" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1088" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1096" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="1104" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1112" y="36" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="1152" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1152" y="36" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="1160" y="20" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="1160" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="1168" y="20" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="1168" y="36" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="1176" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1176" y="36" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="1184" y="20" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="1192" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1192" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="1200" y="20" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="1200" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="1208" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1216" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1216" y="36" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="1232" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="1240" y="36" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="1248" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1256" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1264" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1280" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1288" y="36" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="1304" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="1312" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="1320" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1328" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1336" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="1344" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="1352" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1360" y="36" fill="currentcolor" style="font-size:1em">)</text></g></svg></div><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 1176 137"><g transform="translate(8,16)"><path d="M0 16H256" fill="none" stroke="currentcolor"/><path d="M0 48H256" fill="none" stroke="currentcolor"/><path d="M0 16V48" fill="none" stroke="currentcolor"/><path d="M256 16V48" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="16" y="4" fill="currentcolor" style="font-size:1em">7</text><text text-anchor="middle" x="16" y="36" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="32" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="48" y="4" fill="currentcolor" style="font-size:1em">6</text><text text-anchor="middle" x="48" y="36" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="80" y="4" fill="currentcolor" style="font-size:1em">5</text><text text-anchor="middle" x="80" y="36" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="96" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="112" y="4" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="112" y="36" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="128" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="144" y="4" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="144" y="36" fill="currentcolor" style="font-size:1em">W</text><text text-anchor="middle" x="144" y="68" fill="currentcolor" style="font-size:1em">W</text><text text-anchor="middle" x="152" y="68" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="160" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="168" y="68" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="176" y="4" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="176" y="36" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="176" y="68" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="176" y="84" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="184" y="68" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="184" y="84" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="192" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="192" y="68" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="200" y="68" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="200" y="84" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="208" y="4" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="208" y="36" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="208" y="68" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="208" y="84" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="208" y="100" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="216" y="68" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="216" y="84" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="216" y="100" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="224" y="36" fill="currentcolor" style="font-size:1em">|</text><text text-anchor="middle" x="224" y="84" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="232" y="68" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="232" y="84" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="232" y="100" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="232" y="116" fill="currentcolor" style="font-size:1em">B</text><text text-anchor="middle" x="240" y="4" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="240" y="36" fill="currentcolor" style="font-size:1em">B</text><text text-anchor="middle" x="240" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="240" y="84" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="240" y="100" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="240" y="116" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="248" y="68" fill="currentcolor" style="font-size:1em">z</text><text text-anchor="middle" x="248" y="84" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="248" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="256" y="68" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="256" y="84" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="256" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="256" y="116" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="264" y="84" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="264" y="100" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="264" y="116" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="272" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="272" y="100" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="272" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="280" y="68" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="280" y="84" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="280" y="100" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="280" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="288" y="68" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="288" y="84" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="288" y="100" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="288" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="296" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="296" y="84" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="296" y="100" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="296" y="116" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="304" y="68" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="304" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="312" y="68" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="312" y="84" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="312" y="100" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="312" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="320" y="68" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="320" y="84" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="320" y="100" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="320" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="328" y="68" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="328" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="336" y="68" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="336" y="84" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="336" y="116" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="344" y="84" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="344" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="344" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="352" y="84" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="352" y="100" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="352" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="368" y="84" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="368" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="368" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="376" y="84" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="376" y="100" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="376" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="384" y="84" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="384" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="392" y="84" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="392" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="400" y="84" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="400" y="100" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="400" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="408" y="84" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="408" y="100" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="408" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="416" y="84" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="416" y="100" fill="currentcolor" style="font-size:1em">B</text><text text-anchor="middle" x="424" y="84" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="424" y="100" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="424" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="432" y="84" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="432" y="100" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="432" y="116" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="440" y="84" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="440" y="100" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="440" y="116" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="448" y="100" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="456" y="84" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="456" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="456" y="116" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="464" y="84" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="464" y="100" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="464" y="116" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="472" y="84" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="480" y="84" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="480" y="100" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="480" y="116" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="488" y="84" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="488" y="100" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="488" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="496" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="496" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="504" y="100" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="504" y="116" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="512" y="100" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="512" y="116" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="520" y="116" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="528" y="116" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="536" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="544" y="116" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="552" y="116" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="568" y="116" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="576" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="584" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="592" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="600" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="608" y="116" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="624" y="116" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="632" y="116" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="648" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="656" y="116" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="664" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="680" y="116" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="688" y="116" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="696" y="116" fill="currentcolor" style="font-size:1em">B</text><text text-anchor="middle" x="704" y="116" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="712" y="116" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="720" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="728" y="116" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="736" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="752" y="116" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="760" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="768" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="776" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="784" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="792" y="116" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="808" y="116" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="816" y="116" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="832" y="116" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="840" y="116" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="848" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="856" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="864" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="872" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="880" y="116" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="888" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="896" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="904" y="116" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="920" y="116" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="928" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="936" y="116" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="944" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="952" y="116" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="968" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="976" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="984" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="992" y="116" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1e3" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1016" y="116" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1024" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1032" y="116" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="1040" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="1048" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1056" y="116" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="1064" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1072" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="1080" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="1088" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="1096" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1112" y="116" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="1128" y="116" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="1136" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="1144" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="1152" y="116" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="1160" y="116" fill="currentcolor" style="font-size:1em">)</text></g></svg></div><p>The high 4 bit of REX must be <code>0100</code>, rendering possible values of REX ranging from <code>40H</code> to <code>4FH</code>.
Not all instructions require a REX prefix in 64-bit mode.
A <code>REX</code> prefix is necessary only if an instruction</p><ol><li>references one of the extended registers (r8 to r15) or one of the byte registers <code>SPL</code>, <code>BPL</code>, <code>SIL</code>, <code>DIL</code>; or</li><li>uses a 64-bit operand</li></ol><p>A <code>REX</code> prefix is ignored, as are its individual bits, when it is not needed for an instruction or when it does not immediately
precede the opcode byte or the escape opcode byte (<code>0FH</code>) of an instruction for which it is needed.
This implies that only one <code>REX</code> prefix, properly located, can affect an instruction.</p></div></article></main><footer>Unless otherwise noted, content of this site is licensed under
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ style=text-decoration:underline>the CC BY-NC-SA 4.0</a>.<br>cesun.info copyright 2024.</footer></body></html>